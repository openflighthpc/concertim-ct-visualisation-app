import t from"moment";var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var a={};(function(e,r){a=r(function(){try{return t}catch(t){}}())})(a,(function(t){t=t&&t.hasOwnProperty("default")?t["default"]:t;function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}function getCjsExportFromNamespace(t){return t&&t["default"]||t}var a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var r=createCommonjsModule((function(t){var e={};for(var r in a)a.hasOwnProperty(r)&&(e[a[r]]=r);var i=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var n in i)if(i.hasOwnProperty(n)){if(!("channels"in i[n]))throw new Error("missing channels property: "+n);if(!("labels"in i[n]))throw new Error("missing channel labels property: "+n);if(i[n].labels.length!==i[n].channels)throw new Error("channel and label counts mismatch: "+n);var o=i[n].channels;var s=i[n].labels;delete i[n].channels;delete i[n].labels;Object.defineProperty(i[n],"channels",{value:o});Object.defineProperty(i[n],"labels",{value:s})}i.rgb.hsl=function(t){var e=t[0]/255;var a=t[1]/255;var r=t[2]/255;var i=Math.min(e,a,r);var n=Math.max(e,a,r);var o=n-i;var s;var l;var u;n===i?s=0:e===n?s=(a-r)/o:a===n?s=2+(r-e)/o:r===n&&(s=4+(e-a)/o);s=Math.min(60*s,360);s<0&&(s+=360);u=(i+n)/2;l=n===i?0:u<=.5?o/(n+i):o/(2-n-i);return[s,100*l,100*u]};i.rgb.hsv=function(t){var e;var a;var r;var i;var n;var o=t[0]/255;var s=t[1]/255;var l=t[2]/255;var u=Math.max(o,s,l);var d=u-Math.min(o,s,l);var diffc=function(t){return(u-t)/6/d+1/2};if(0===d)i=n=0;else{n=d/u;e=diffc(o);a=diffc(s);r=diffc(l);o===u?i=r-a:s===u?i=1/3+e-r:l===u&&(i=2/3+a-e);i<0?i+=1:i>1&&(i-=1)}return[360*i,100*n,100*u]};i.rgb.hwb=function(t){var e=t[0];var a=t[1];var r=t[2];var n=i.rgb.hsl(t)[0];var o=1/255*Math.min(e,Math.min(a,r));r=1-1/255*Math.max(e,Math.max(a,r));return[n,100*o,100*r]};i.rgb.cmyk=function(t){var e=t[0]/255;var a=t[1]/255;var r=t[2]/255;var i;var n;var o;var s;s=Math.min(1-e,1-a,1-r);i=(1-e-s)/(1-s)||0;n=(1-a-s)/(1-s)||0;o=(1-r-s)/(1-s)||0;return[100*i,100*n,100*o,100*s]};function comparativeDistance(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}i.rgb.keyword=function(t){var r=e[t];if(r)return r;var i=Infinity;var n;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];var l=comparativeDistance(t,s);if(l<i){i=l;n=o}}return n};i.keyword.rgb=function(t){return a[t]};i.rgb.xyz=function(t){var e=t[0]/255;var a=t[1]/255;var r=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92;a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=.4124*e+.3576*a+.1805*r;var n=.2126*e+.7152*a+.0722*r;var o=.0193*e+.1192*a+.9505*r;return[100*i,100*n,100*o]};i.rgb.lab=function(t){var e=i.rgb.xyz(t);var a=e[0];var r=e[1];var n=e[2];var o;var s;var l;a/=95.047;r/=100;n/=108.883;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116;n=n>.008856?Math.pow(n,1/3):7.787*n+16/116;o=116*r-16;s=500*(a-r);l=200*(r-n);return[o,s,l]};i.hsl.rgb=function(t){var e=t[0]/360;var a=t[1]/100;var r=t[2]/100;var i;var n;var o;var s;var l;if(0===a){l=255*r;return[l,l,l]}n=r<.5?r*(1+a):r+a-r*a;i=2*r-n;s=[0,0,0];for(var u=0;u<3;u++){o=e+1/3*-(u-1);o<0&&o++;o>1&&o--;l=6*o<1?i+6*(n-i)*o:2*o<1?n:3*o<2?i+(n-i)*(2/3-o)*6:i;s[u]=255*l}return s};i.hsl.hsv=function(t){var e=t[0];var a=t[1]/100;var r=t[2]/100;var i=a;var n=Math.max(r,.01);var o;var s;r*=2;a*=r<=1?r:2-r;i*=n<=1?n:2-n;s=(r+a)/2;o=0===r?2*i/(n+i):2*a/(r+a);return[e,100*o,100*s]};i.hsv.rgb=function(t){var e=t[0]/60;var a=t[1]/100;var r=t[2]/100;var i=Math.floor(e)%6;var n=e-Math.floor(e);var o=255*r*(1-a);var s=255*r*(1-a*n);var l=255*r*(1-a*(1-n));r*=255;switch(i){case 0:return[r,l,o];case 1:return[s,r,o];case 2:return[o,r,l];case 3:return[o,s,r];case 4:return[l,o,r];case 5:return[r,o,s]}};i.hsv.hsl=function(t){var e=t[0];var a=t[1]/100;var r=t[2]/100;var i=Math.max(r,.01);var n;var o;var s;s=(2-a)*r;n=(2-a)*i;o=a*i;o/=n<=1?n:2-n;o=o||0;s/=2;return[e,100*o,100*s]};i.hwb.rgb=function(t){var e=t[0]/360;var a=t[1]/100;var r=t[2]/100;var i=a+r;var n;var o;var s;var l;if(i>1){a/=i;r/=i}n=Math.floor(6*e);o=1-r;s=6*e-n;0!==(1&n)&&(s=1-s);l=a+s*(o-a);var u;var d;var c;switch(n){default:case 6:case 0:u=o;d=l;c=a;break;case 1:u=l;d=o;c=a;break;case 2:u=a;d=o;c=l;break;case 3:u=a;d=l;c=o;break;case 4:u=l;d=a;c=o;break;case 5:u=o;d=a;c=l;break}return[255*u,255*d,255*c]};i.cmyk.rgb=function(t){var e=t[0]/100;var a=t[1]/100;var r=t[2]/100;var i=t[3]/100;var n;var o;var s;n=1-Math.min(1,e*(1-i)+i);o=1-Math.min(1,a*(1-i)+i);s=1-Math.min(1,r*(1-i)+i);return[255*n,255*o,255*s]};i.xyz.rgb=function(t){var e=t[0]/100;var a=t[1]/100;var r=t[2]/100;var i;var n;var o;i=3.2406*e+-1.5372*a+-.4986*r;n=-.9689*e+1.8758*a+.0415*r;o=.0557*e+-.204*a+1.057*r;i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i;n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n;o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:12.92*o;i=Math.min(Math.max(0,i),1);n=Math.min(Math.max(0,n),1);o=Math.min(Math.max(0,o),1);return[255*i,255*n,255*o]};i.xyz.lab=function(t){var e=t[0];var a=t[1];var r=t[2];var i;var n;var o;e/=95.047;a/=100;r/=108.883;e=e>.008856?Math.pow(e,1/3):7.787*e+16/116;a=a>.008856?Math.pow(a,1/3):7.787*a+16/116;r=r>.008856?Math.pow(r,1/3):7.787*r+16/116;i=116*a-16;n=500*(e-a);o=200*(a-r);return[i,n,o]};i.lab.xyz=function(t){var e=t[0];var a=t[1];var r=t[2];var i;var n;var o;n=(e+16)/116;i=a/500+n;o=n-r/200;var s=Math.pow(n,3);var l=Math.pow(i,3);var u=Math.pow(o,3);n=s>.008856?s:(n-16/116)/7.787;i=l>.008856?l:(i-16/116)/7.787;o=u>.008856?u:(o-16/116)/7.787;i*=95.047;n*=100;o*=108.883;return[i,n,o]};i.lab.lch=function(t){var e=t[0];var a=t[1];var r=t[2];var i;var n;var o;i=Math.atan2(r,a);n=360*i/2/Math.PI;n<0&&(n+=360);o=Math.sqrt(a*a+r*r);return[e,o,n]};i.lch.lab=function(t){var e=t[0];var a=t[1];var r=t[2];var i;var n;var o;o=r/360*2*Math.PI;i=a*Math.cos(o);n=a*Math.sin(o);return[e,i,n]};i.rgb.ansi16=function(t){var e=t[0];var a=t[1];var r=t[2];var n=1 in arguments?arguments[1]:i.rgb.hsv(t)[2];n=Math.round(n/50);if(0===n)return 30;var o=30+(Math.round(r/255)<<2|Math.round(a/255)<<1|Math.round(e/255));2===n&&(o+=60);return o};i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])};i.rgb.ansi256=function(t){var e=t[0];var a=t[1];var r=t[2];if(e===a&&a===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(a/255*5)+Math.round(r/255*5);return i};i.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e){t>50&&(e+=3.5);e=e/10.5*255;return[e,e,e]}var a=.5*(~~(t>50)+1);var r=(1&e)*a*255;var i=(e>>1&1)*a*255;var n=(e>>2&1)*a*255;return[r,i,n]};i.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}t-=16;var a;var r=Math.floor(t/36)/5*255;var i=Math.floor((a=t%36)/6)/5*255;var n=a%6/5*255;return[r,i,n]};i.rgb.hex=function(t){var e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]));var a=e.toString(16).toUpperCase();return"000000".substring(a.length)+a};i.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var a=e[0];3===e[0].length&&(a=a.split("").map((function(t){return t+t})).join(""));var r=parseInt(a,16);var i=r>>16&255;var n=r>>8&255;var o=255&r;return[i,n,o]};i.rgb.hcg=function(t){var e=t[0]/255;var a=t[1]/255;var r=t[2]/255;var i=Math.max(Math.max(e,a),r);var n=Math.min(Math.min(e,a),r);var o=i-n;var s;var l;s=o<1?n/(1-o):0;l=o<=0?0:i===e?(a-r)/o%6:i===a?2+(r-e)/o:4+(e-a)/o+4;l/=6;l%=1;return[360*l,100*o,100*s]};i.hsl.hcg=function(t){var e=t[1]/100;var a=t[2]/100;var r=1;var i=0;r=a<.5?2*e*a:2*e*(1-a);r<1&&(i=(a-.5*r)/(1-r));return[t[0],100*r,100*i]};i.hsv.hcg=function(t){var e=t[1]/100;var a=t[2]/100;var r=e*a;var i=0;r<1&&(i=(a-r)/(1-r));return[t[0],100*r,100*i]};i.hcg.rgb=function(t){var e=t[0]/360;var a=t[1]/100;var r=t[2]/100;if(0===a)return[255*r,255*r,255*r];var i=[0,0,0];var n=e%1*6;var o=n%1;var s=1-o;var l=0;switch(Math.floor(n)){case 0:i[0]=1;i[1]=o;i[2]=0;break;case 1:i[0]=s;i[1]=1;i[2]=0;break;case 2:i[0]=0;i[1]=1;i[2]=o;break;case 3:i[0]=0;i[1]=s;i[2]=1;break;case 4:i[0]=o;i[1]=0;i[2]=1;break;default:i[0]=1;i[1]=0;i[2]=s}l=(1-a)*r;return[255*(a*i[0]+l),255*(a*i[1]+l),255*(a*i[2]+l)]};i.hcg.hsv=function(t){var e=t[1]/100;var a=t[2]/100;var r=e+a*(1-e);var i=0;r>0&&(i=e/r);return[t[0],100*i,100*r]};i.hcg.hsl=function(t){var e=t[1]/100;var a=t[2]/100;var r=a*(1-e)+.5*e;var i=0;r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r)));return[t[0],100*i,100*r]};i.hcg.hwb=function(t){var e=t[1]/100;var a=t[2]/100;var r=e+a*(1-e);return[t[0],100*(r-e),100*(1-r)]};i.hwb.hcg=function(t){var e=t[1]/100;var a=t[2]/100;var r=1-a;var i=r-e;var n=0;i<1&&(n=(r-i)/(1-i));return[t[0],100*i,100*n]};i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};i.gray.hsl=i.gray.hsv=function(t){return[0,0,t[0]]};i.gray.hwb=function(t){return[0,100,t[0]]};i.gray.cmyk=function(t){return[0,0,0,t[0]]};i.gray.lab=function(t){return[t[0],0,0]};i.gray.hex=function(t){var e=255&Math.round(t[0]/100*255);var a=(e<<16)+(e<<8)+e;var r=a.toString(16).toUpperCase();return"000000".substring(r.length)+r};i.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}}));var i=r.rgb;var n=r.hsl;var o=r.hsv;var s=r.hwb;var l=r.cmyk;var u=r.xyz;var d=r.lab;var c=r.lch;var h=r.hex;var v=r.keyword;var f=r.ansi16;var g=r.ansi256;var p=r.hcg;var m=r.apple;var b=r.gray;function buildGraph(){var t={};var e=Object.keys(r);for(var a=e.length,i=0;i<a;i++)t[e[i]]={distance:-1,parent:null};return t}function deriveBFS(t){var e=buildGraph();var a=[t];e[t].distance=0;while(a.length){var i=a.pop();var n=Object.keys(r[i]);for(var o=n.length,s=0;s<o;s++){var l=n[s];var u=e[l];if(-1===u.distance){u.distance=e[i].distance+1;u.parent=i;a.unshift(l)}}}return e}function link(t,e){return function(a){return e(t(a))}}function wrapConversion(t,e){var a=[e[t].parent,t];var i=r[e[t].parent][t];var n=e[t].parent;while(e[n].parent){a.unshift(e[n].parent);i=link(r[e[n].parent][n],i);n=e[n].parent}i.conversion=a;return i}var route=function(t){var e=deriveBFS(t);var a={};var r=Object.keys(e);for(var i=r.length,n=0;n<i;n++){var o=r[n];var s=e[o];null!==s.parent&&(a[o]=wrapConversion(o,e))}return a};var x={};var y=Object.keys(r);function wrapRaw(t){var wrappedFn=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));return t(e)};"conversion"in t&&(wrappedFn.conversion=t.conversion);return wrappedFn}function wrapRounded(t){var wrappedFn=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var a=t(e);if("object"===typeof a)for(var r=a.length,i=0;i<r;i++)a[i]=Math.round(a[i]);return a};"conversion"in t&&(wrappedFn.conversion=t.conversion);return wrappedFn}y.forEach((function(t){x[t]={};Object.defineProperty(x[t],"channels",{value:r[t].channels});Object.defineProperty(x[t],"labels",{value:r[t].labels});var e=route(t);var a=Object.keys(e);a.forEach((function(a){var r=e[a];x[t][a]=wrapRounded(r);x[t][a].raw=wrapRaw(r)}))}));var _=x;var k={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var w={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,a=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,n=/(\w+)/;var o=[0,0,0],s=1,l=t.match(e),u="";if(l){l=l[1];u=l[3];for(var d=0;d<o.length;d++)o[d]=parseInt(l[d]+l[d],16);u&&(s=Math.round(parseInt(u+u,16)/255*100)/100)}else if(l=t.match(a)){u=l[2];l=l[1];for(var d=0;d<o.length;d++)o[d]=parseInt(l.slice(2*d,2*d+2),16);u&&(s=Math.round(parseInt(u,16)/255*100)/100)}else if(l=t.match(r)){for(var d=0;d<o.length;d++)o[d]=parseInt(l[d+1]);s=parseFloat(l[4])}else if(l=t.match(i)){for(var d=0;d<o.length;d++)o[d]=Math.round(2.55*parseFloat(l[d+1]));s=parseFloat(l[4])}else if(l=t.match(n)){if("transparent"==l[1])return[0,0,0,0];o=k[l[1]];if(!o)return}for(var d=0;d<o.length;d++)o[d]=scale(o[d],0,255);s=s||0==s?scale(s,0,1):1;o[3]=s;return o}}function getHsla(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var a=t.match(e);if(a){var r=parseFloat(a[4]);var i=scale(parseInt(a[1]),0,360),n=scale(parseFloat(a[2]),0,100),o=scale(parseFloat(a[3]),0,100),s=scale(isNaN(r)?1:r,0,1);return[i,n,o,s]}}}function getHwb(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var a=t.match(e);if(a){var r=parseFloat(a[4]);var i=scale(parseInt(a[1]),0,360),n=scale(parseFloat(a[2]),0,100),o=scale(parseFloat(a[3]),0,100),s=scale(isNaN(r)?1:r,0,1);return[i,n,o,s]}}}function getRgb(t){var e=getRgba(t);return e&&e.slice(0,3)}function getHsl(t){var e=getHsla(t);return e&&e.slice(0,3)}function getAlpha(t){var e=getRgba(t);return e||(e=getHsla(t))||(e=getHwb(t))?e[3]:void 0}function hexString(t,e){var e=void 0!==e&&3===t.length?e:t[3];return"#"+hexDouble(t[0])+hexDouble(t[1])+hexDouble(t[2])+(e>=0&&e<1?hexDouble(Math.round(255*e)):"")}function rgbString(t,e){return e<1||t[3]&&t[3]<1?rgbaString(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function rgbaString(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function percentString(t,e){if(e<1||t[3]&&t[3]<1)return percentaString(t,e);var a=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return"rgb("+a+"%, "+r+"%, "+i+"%)"}function percentaString(t,e){var a=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return"rgba("+a+"%, "+r+"%, "+i+"%, "+(e||t[3]||1)+")"}function hslString(t,e){return e<1||t[3]&&t[3]<1?hslaString(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function hslaString(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function hwbString(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function keyword(t){return M[t.slice(0,3)]}function scale(t,e,a){return Math.min(Math.max(e,t),a)}function hexDouble(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var M={};for(var S in k)M[k[S]]=S;var Color=function(t){if(t instanceof Color)return t;if(!((this||e)instanceof Color))return new Color(t);(this||e).valid=false;(this||e).values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var a;if("string"===typeof t){a=w.getRgba(t);a?this.setValues("rgb",a):(a=w.getHsla(t))?this.setValues("hsl",a):(a=w.getHwb(t))&&this.setValues("hwb",a)}else if("object"===typeof t){a=t;void 0!==a.r||void 0!==a.red?this.setValues("rgb",a):void 0!==a.l||void 0!==a.lightness?this.setValues("hsl",a):void 0!==a.v||void 0!==a.value?this.setValues("hsv",a):void 0!==a.w||void 0!==a.whiteness?this.setValues("hwb",a):void 0===a.c&&void 0===a.cyan||this.setValues("cmyk",a)}};Color.prototype={isValid:function(){return(this||e).valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return(this||e).values.rgb},hslArray:function(){return(this||e).values.hsl},hsvArray:function(){return(this||e).values.hsv},hwbArray:function(){var t=(this||e).values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return(this||e).values.cmyk},rgbaArray:function(){var t=(this||e).values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=(this||e).values;return t.hsl.concat([t.alpha])},alpha:function(t){if(void 0===t)return(this||e).values.alpha;this.setValues("alpha",t);return this||e},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){if(t){t%=360;t=t<0?360+t:t}return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return w.hexString((this||e).values.rgb)},rgbString:function(){return w.rgbString((this||e).values.rgb,(this||e).values.alpha)},rgbaString:function(){return w.rgbaString((this||e).values.rgb,(this||e).values.alpha)},percentString:function(){return w.percentString((this||e).values.rgb,(this||e).values.alpha)},hslString:function(){return w.hslString((this||e).values.hsl,(this||e).values.alpha)},hslaString:function(){return w.hslaString((this||e).values.hsl,(this||e).values.alpha)},hwbString:function(){return w.hwbString((this||e).values.hwb,(this||e).values.alpha)},keyword:function(){return w.keyword((this||e).values.rgb,(this||e).values.alpha)},rgbNumber:function(){var t=(this||e).values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){var t=(this||e).values.rgb;var a=[];for(var r=0;r<t.length;r++){var i=t[r]/255;a[r]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*a[0]+.7152*a[1]+.0722*a[2]},contrast:function(t){var e=this.luminosity();var a=t.luminosity();return e>a?(e+.05)/(a+.05):(a+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=(this||e).values.rgb;var a=(299*t[0]+587*t[1]+114*t[2])/1e3;return a<128},light:function(){return!this.dark()},negate:function(){var t=[];for(var a=0;a<3;a++)t[a]=255-(this||e).values.rgb[a];this.setValues("rgb",t);return this||e},lighten:function(t){var a=(this||e).values.hsl;a[2]+=a[2]*t;this.setValues("hsl",a);return this||e},darken:function(t){var a=(this||e).values.hsl;a[2]-=a[2]*t;this.setValues("hsl",a);return this||e},saturate:function(t){var a=(this||e).values.hsl;a[1]+=a[1]*t;this.setValues("hsl",a);return this||e},desaturate:function(t){var a=(this||e).values.hsl;a[1]-=a[1]*t;this.setValues("hsl",a);return this||e},whiten:function(t){var a=(this||e).values.hwb;a[1]+=a[1]*t;this.setValues("hwb",a);return this||e},blacken:function(t){var a=(this||e).values.hwb;a[2]+=a[2]*t;this.setValues("hwb",a);return this||e},greyscale:function(){var t=(this||e).values.rgb;var a=.3*t[0]+.59*t[1]+.11*t[2];this.setValues("rgb",[a,a,a]);return this||e},clearer:function(t){var a=(this||e).values.alpha;this.setValues("alpha",a-a*t);return this||e},opaquer:function(t){var a=(this||e).values.alpha;this.setValues("alpha",a+a*t);return this||e},rotate:function(t){var a=(this||e).values.hsl;var r=(a[0]+t)%360;a[0]=r<0?360+r:r;this.setValues("hsl",a);return this||e},mix:function(t,a){var r=this||e;var i=t;var n=void 0===a?.5:a;var o=2*n-1;var s=r.alpha()-i.alpha();var l=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;var u=1-l;return this.rgb(l*r.red()+u*i.red(),l*r.green()+u*i.green(),l*r.blue()+u*i.blue()).alpha(r.alpha()*n+i.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t=new Color;var a=(this||e).values;var r=t.values;var i,n;for(var o in a)if(a.hasOwnProperty(o)){i=a[o];n={}.toString.call(i);"[object Array]"===n?r[o]=i.slice(0):"[object Number]"===n?r[o]=i:console.error("unexpected color value:",i)}return t}};Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(t){var a=(this||e).values;var r={};for(var i=0;i<t.length;i++)r[t.charAt(i)]=a[t][i];1!==a.alpha&&(r.a=a.alpha);return r};Color.prototype.setValues=function(t,a){var r=(this||e).values;var i=(this||e).spaces;var n=(this||e).maxes;var o=1;var s;(this||e).valid=true;if("alpha"===t)o=a;else if(a.length){r[t]=a.slice(0,t.length);o=a[t.length]}else if(void 0!==a[t.charAt(0)]){for(s=0;s<t.length;s++)r[t][s]=a[t.charAt(s)];o=a.a}else if(void 0!==a[i[t][0]]){var l=i[t];for(s=0;s<t.length;s++)r[t][s]=a[l[s]];o=a.alpha}r.alpha=Math.max(0,Math.min(1,void 0===o?r.alpha:o));if("alpha"===t)return false;var u;for(s=0;s<t.length;s++){u=Math.max(0,Math.min(n[t][s],r[t][s]));r[t][s]=Math.round(u)}for(var d in i)d!==t&&(r[d]=_[t][d](r[t]));return true};Color.prototype.setSpace=function(t,a){var r=a[0];if(void 0===r)return this.getValues(t);"number"===typeof r&&(r=Array.prototype.slice.call(a));this.setValues(t,r);return this||e};Color.prototype.setChannel=function(t,a,r){var i=(this||e).values[t];if(void 0===r)return i[a];if(r===i[a])return this||e;i[a]=r;this.setValues(t,i);return this||e};"undefined"!==typeof window&&(window.Color=Color);var C=Color;function isValidKey(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}var A={noop:function(){},
/**
     * Returns a unique id, sequentially generated from a global variable.
     * @returns {number}
     * @function
     */
uid:function(){var t=0;return function(){return t++}}(),
/**
     * Returns true if `value` is neither null nor undefined, else returns false.
     * @param {*} value - The value to test.
     * @returns {boolean}
     * @since 2.7.0
     */
isNullOrUndef:function(t){return null===t||"undefined"===typeof t},
/**
     * Returns true if `value` is an array (including typed arrays), else returns false.
     * @param {*} value - The value to test.
     * @returns {boolean}
     * @function
     */
isArray:function(t){if(Array.isArray&&Array.isArray(t))return true;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},
/**
     * Returns true if `value` is an object (excluding null), else returns false.
     * @param {*} value - The value to test.
     * @returns {boolean}
     * @since 2.7.0
     */
isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},
/**
     * Returns true if `value` is a finite number, else returns false
     * @param {*} value  - The value to test.
     * @returns {boolean}
     */
isFinite:function(t){return("number"===typeof t||t instanceof Number)&&isFinite(t)},
/**
     * Returns `value` if defined, else returns `defaultValue`.
     * @param {*} value - The value to return if defined.
     * @param {*} defaultValue - The value to return if `value` is undefined.
     * @returns {*}
     */
valueOrDefault:function(t,e){return"undefined"===typeof t?e:t},
/**
     * Returns value at the given `index` in array if defined, else returns `defaultValue`.
     * @param {Array} value - The array to lookup for value at `index`.
     * @param {number} index - The index in `value` to lookup for value.
     * @param {*} defaultValue - The value to return if `value[index]` is undefined.
     * @returns {*}
     */
valueAtIndexOrDefault:function(t,e,a){return A.valueOrDefault(A.isArray(t)?t[e]:t,a)},
/**
     * Calls `fn` with the given `args` in the scope defined by `thisArg` and returns the
     * value returned by `fn`. If `fn` is not a function, this method returns undefined.
     * @param {function} fn - The function to call.
     * @param {Array|undefined|null} args - The arguments with which `fn` should be called.
     * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.
     * @returns {*}
     */
callback:function(t,e,a){if(t&&"function"===typeof t.call)return t.apply(a,e)},
/**
     * Note(SB) for performance sake, this method should only be used when loopable type
     * is unknown or in none intensive code (not called often and small loopable). Else
     * it's preferable to use a regular for() loop and save extra function calls.
     * @param {object|Array} loopable - The object or array to be iterated.
     * @param {function} fn - The function to call for each item.
     * @param {object} [thisArg] - The value of `this` provided for the call to `fn`.
     * @param {boolean} [reverse] - If true, iterates backward on the loopable.
     */
each:function(t,e,a,r){var i,n,o;if(A.isArray(t)){n=t.length;if(r)for(i=n-1;i>=0;i--)e.call(a,t[i],i);else for(i=0;i<n;i++)e.call(a,t[i],i)}else if(A.isObject(t)){o=Object.keys(t);n=o.length;for(i=0;i<n;i++)e.call(a,t[o[i]],o[i])}},
/**
     * Returns true if the `a0` and `a1` arrays have the same content, else returns false.
     * @see https://stackoverflow.com/a/14853974
     * @param {Array} a0 - The array to compare
     * @param {Array} a1 - The array to compare
     * @returns {boolean}
     */
arrayEquals:function(t,e){var a,r,i,n;if(!t||!e||t.length!==e.length)return false;for(a=0,r=t.length;a<r;++a){i=t[a];n=e[a];if(i instanceof Array&&n instanceof Array){if(!A.arrayEquals(i,n))return false}else if(i!==n)return false}return true},
/**
     * Returns a deep copy of `source` without keeping references on objects and arrays.
     * @param {*} source - The value to clone.
     * @returns {*}
     */
clone:function(t){if(A.isArray(t))return t.map(A.clone);if(A.isObject(t)){var e=Object.create(t);var a=Object.keys(t);var r=a.length;var i=0;for(;i<r;++i)e[a[i]]=A.clone(t[a[i]]);return e}return t},_merger:function(t,e,a,r){if(isValidKey(t)){var i=e[t];var n=a[t];A.isObject(i)&&A.isObject(n)?A.merge(i,n,r):e[t]=A.clone(n)}},_mergerIf:function(t,e,a){if(isValidKey(t)){var r=e[t];var i=a[t];A.isObject(r)&&A.isObject(i)?A.mergeIf(r,i):e.hasOwnProperty(t)||(e[t]=A.clone(i))}},
/**
     * Recursively deep copies `source` properties into `target` with the given `options`.
     * IMPORTANT: `target` is not cloned and will be updated with `source` properties.
     * @param {object} target - The target object in which all sources are merged into.
     * @param {object|object[]} source - Object(s) to merge into `target`.
     * @param {object} [options] - Merging options:
     * @param {function} [options.merger] - The merge method (key, target, source, options)
     * @returns {object} The `target` object.
     */
merge:function(t,e,a){var r=A.isArray(e)?e:[e];var i=r.length;var n,o,s,l,u;if(!A.isObject(t))return t;a=a||{};n=a.merger||A._merger;for(o=0;o<i;++o){e=r[o];if(A.isObject(e)){s=Object.keys(e);for(u=0,l=s.length;u<l;++u)n(s[u],t,e,a)}}return t},
/**
     * Recursively deep copies `source` properties into `target` *only* if not defined in target.
     * IMPORTANT: `target` is not cloned and will be updated with `source` properties.
     * @param {object} target - The target object in which all sources are merged into.
     * @param {object|object[]} source - Object(s) to merge into `target`.
     * @returns {object} The `target` object.
     */
mergeIf:function(t,e){return A.merge(t,e,{merger:A._mergerIf})},
/**
     * Applies the contents of two or more objects together into the first object.
     * @param {object} target - The target object in which all objects are merged into.
     * @param {object} arg1 - Object containing additional properties to merge in target.
     * @param {object} argN - Additional objects containing properties to merge in target.
     * @returns {object} The `target` object.
     */
extend:Object.assign||function(t){return A.merge(t,[].slice.call(arguments,1),{merger:function(t,e,a){e[t]=a[t]}})},inherits:function(t){var a=this||e;var r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return a.apply(this||e,arguments)};var Surrogate=function(){(this||e).constructor=r};Surrogate.prototype=a.prototype;r.prototype=new Surrogate;r.extend=A.inherits;t&&A.extend(r.prototype,t);r.__super__=a.prototype;return r},_deprecated:function(t,e,a,r){void 0!==e&&console.warn(t+': "'+a+'" is deprecated. Please use "'+r+'" instead')}};var P=A;
/**
   * Provided for backward compatibility, use Chart.helpers.callback instead.
   * @function Chart.helpers.callCallback
   * @deprecated since version 2.6.0
   * @todo remove at version 3
   * @private
   */A.callCallback=A.callback;
/**
   * Provided for backward compatibility, use Array.prototype.indexOf instead.
   * Array.prototype.indexOf compatibility: Chrome, Opera, Safari, FF1.5+, IE9+
   * @function Chart.helpers.indexOf
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */A.indexOf=function(t,e,a){return Array.prototype.indexOf.call(t,e,a)};
/**
   * Provided for backward compatibility, use Chart.helpers.valueOrDefault instead.
   * @function Chart.helpers.getValueOrDefault
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */A.getValueOrDefault=A.valueOrDefault;
/**
   * Provided for backward compatibility, use Chart.helpers.valueAtIndexOrDefault instead.
   * @function Chart.helpers.getValueAtIndexOrDefault
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */A.getValueAtIndexOrDefault=A.valueAtIndexOrDefault;var D={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158;var a=0;var r=1;if(0===t)return 0;if(1===t)return 1;a||(a=.3);if(r<1){r=1;e=a/4}else e=a/(2*Math.PI)*Math.asin(1/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a)},easeOutElastic:function(t){var e=1.70158;var a=0;var r=1;if(0===t)return 0;if(1===t)return 1;a||(a=.3);if(r<1){r=1;e=a/4}else e=a/(2*Math.PI)*Math.asin(1/r);return r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/a)+1},easeInOutElastic:function(t){var e=1.70158;var a=0;var r=1;if(0===t)return 0;if(2===(t/=.5))return 1;a||(a=.45);if(r<1){r=1;e=a/4}else e=a/(2*Math.PI)*Math.asin(1/r);return t<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/a)*.5+1},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-D.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*D.easeInBounce(2*t):.5*D.easeOutBounce(2*t-1)+.5}};var T={effects:D};
/**
   * Provided for backward compatibility, use Chart.helpers.easing.effects instead.
   * @function Chart.helpers.easingEffects
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */P.easingEffects=D;var I=Math.PI;var F=I/180;var L=2*I;var O=I/2;var R=I/4;var B=2*I/3;var N={
/**
     * Clears the entire canvas associated to the given `chart`.
     * @param {Chart} chart - The chart for which to clear the canvas.
     */
clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},
/**
     * Creates a "path" for a rectangle with rounded corners at position (x, y) with a
     * given size (width, height) and the same `radius` for all corners.
     * @param {CanvasRenderingContext2D} ctx - The canvas 2D Context.
     * @param {number} x - The x axis of the coordinate for the rectangle starting point.
     * @param {number} y - The y axis of the coordinate for the rectangle starting point.
     * @param {number} width - The rectangle's width.
     * @param {number} height - The rectangle's height.
     * @param {number} radius - The rounded amount (in pixels) for the four corners.
     * @todo handle `radius` as top-left, top-right, bottom-right, bottom-left array/object?
     */
roundedRect:function(t,e,a,r,i,n){if(n){var o=Math.min(n,i/2,r/2);var s=e+o;var l=a+o;var u=e+r-o;var d=a+i-o;t.moveTo(e,l);if(s<u&&l<d){t.arc(s,l,o,-I,-O);t.arc(u,l,o,-O,0);t.arc(u,d,o,0,O);t.arc(s,d,o,O,I)}else if(s<u){t.moveTo(s,a);t.arc(u,l,o,-O,O);t.arc(s,l,o,O,I+O)}else if(l<d){t.arc(s,l,o,-I,0);t.arc(s,d,o,0,I)}else t.arc(s,l,o,-I,I);t.closePath();t.moveTo(e,a)}else t.rect(e,a,r,i)},drawPoint:function(t,e,a,r,i,n){var o,s,l,u,d;var c=(n||0)*F;if(e&&"object"===typeof e){o=e.toString();if("[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o){t.save();t.translate(r,i);t.rotate(c);t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height);t.restore();return}}if(!(isNaN(a)||a<=0)){t.beginPath();switch(e){default:t.arc(r,i,a,0,L);t.closePath();break;case"triangle":t.moveTo(r+Math.sin(c)*a,i-Math.cos(c)*a);c+=B;t.lineTo(r+Math.sin(c)*a,i-Math.cos(c)*a);c+=B;t.lineTo(r+Math.sin(c)*a,i-Math.cos(c)*a);t.closePath();break;case"rectRounded":d=.516*a;u=a-d;s=Math.cos(c+R)*u;l=Math.sin(c+R)*u;t.arc(r-s,i-l,d,c-I,c-O);t.arc(r+l,i-s,d,c-O,c);t.arc(r+s,i+l,d,c,c+O);t.arc(r-l,i+s,d,c+O,c+I);t.closePath();break;case"rect":if(!n){u=Math.SQRT1_2*a;t.rect(r-u,i-u,2*u,2*u);break}c+=R;case"rectRot":s=Math.cos(c)*a;l=Math.sin(c)*a;t.moveTo(r-s,i-l);t.lineTo(r+l,i-s);t.lineTo(r+s,i+l);t.lineTo(r-l,i+s);t.closePath();break;case"crossRot":c+=R;case"cross":s=Math.cos(c)*a;l=Math.sin(c)*a;t.moveTo(r-s,i-l);t.lineTo(r+s,i+l);t.moveTo(r+l,i-s);t.lineTo(r-l,i+s);break;case"star":s=Math.cos(c)*a;l=Math.sin(c)*a;t.moveTo(r-s,i-l);t.lineTo(r+s,i+l);t.moveTo(r+l,i-s);t.lineTo(r-l,i+s);c+=R;s=Math.cos(c)*a;l=Math.sin(c)*a;t.moveTo(r-s,i-l);t.lineTo(r+s,i+l);t.moveTo(r+l,i-s);t.lineTo(r-l,i+s);break;case"line":s=Math.cos(c)*a;l=Math.sin(c)*a;t.moveTo(r-s,i-l);t.lineTo(r+s,i+l);break;case"dash":t.moveTo(r,i);t.lineTo(r+Math.cos(c)*a,i+Math.sin(c)*a);break}t.fill();t.stroke()}},
/**
     * Returns true if the point is inside the rectangle
     * @param {object} point - The point to test
     * @param {object} area - The rectangle
     * @returns {boolean}
     * @private
     */
_isPointInArea:function(t,e){var a=1e-6;return t.x>e.left-a&&t.x<e.right+a&&t.y>e.top-a&&t.y<e.bottom+a},clipArea:function(t,e){t.save();t.beginPath();t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top);t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,a,r){var i=a.steppedLine;if(i){if("middle"===i){var n=(e.x+a.x)/2;t.lineTo(n,r?a.y:e.y);t.lineTo(n,r?e.y:a.y)}else"after"===i&&!r||"after"!==i&&r?t.lineTo(e.x,a.y):t.lineTo(a.x,e.y);t.lineTo(a.x,a.y)}else a.tension?t.bezierCurveTo(r?e.controlPointPreviousX:e.controlPointNextX,r?e.controlPointPreviousY:e.controlPointNextY,r?a.controlPointNextX:a.controlPointPreviousX,r?a.controlPointNextY:a.controlPointPreviousY,a.x,a.y):t.lineTo(a.x,a.y)}};var z=N;
/**
   * Provided for backward compatibility, use Chart.helpers.canvas.clear instead.
   * @namespace Chart.helpers.clear
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */P.clear=N.clear;
/**
   * Provided for backward compatibility, use Chart.helpers.canvas.roundedRect instead.
   * @namespace Chart.helpers.drawRoundedRectangle
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */P.drawRoundedRectangle=function(t){t.beginPath();N.roundedRect.apply(N,arguments)};var E={_set:function(t,a){return P.merge((this||e)[t]||((this||e)[t]={}),a)}};E._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:true});var V=E;var W=P.valueOrDefault;
/**
   * Converts the given font object into a CSS font string.
   * @param {object} font - A font object.
   * @return {string} The CSS font string. See https://developer.mozilla.org/en-US/docs/Web/CSS/font
   * @private
   */function toFontString(t){return!t||P.isNullOrUndef(t.size)||P.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}var H={
/**
     * Converts the given line height `value` in pixels for a specific font `size`.
     * @param {number|string} value - The lineHeight to parse (eg. 1.6, '14px', '75%', '1.6em').
     * @param {number} size - The font size (in pixels) used to resolve relative `value`.
     * @returns {number} The effective line height in pixels (size * 1.2 if value is invalid).
     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/line-height
     * @since 2.7.0
     */
toLineHeight:function(t,e){var a=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!a||"normal"===a[1])return 1.2*e;t=+a[2];switch(a[3]){case"px":return t;case"%":t/=100;break}return e*t},
/**
     * Converts the given value into a padding object with pre-computed width/height.
     * @param {number|object} value - If a number, set the value to all TRBL component,
     *  else, if and object, use defined properties and sets undefined ones to 0.
     * @returns {object} The padding values (top, right, bottom, left, width, height)
     * @since 2.7.0
     */
toPadding:function(t){var e,a,r,i;if(P.isObject(t)){e=+t.top||0;a=+t.right||0;r=+t.bottom||0;i=+t.left||0}else e=a=r=i=+t||0;return{top:e,right:a,bottom:r,left:i,height:e+r,width:i+a}},
/**
     * Parses font options and returns the font object.
     * @param {object} options - A object that contains font options to be parsed.
     * @return {object} The font object.
     * @todo Support font.* options and renamed to toFont().
     * @private
     */
_parseFont:function(t){var e=V.global;var a=W(t.fontSize,e.defaultFontSize);var r={family:W(t.fontFamily,e.defaultFontFamily),lineHeight:P.options.toLineHeight(W(t.lineHeight,e.defaultLineHeight),a),size:a,style:W(t.fontStyle,e.defaultFontStyle),weight:null,string:""};r.string=toFontString(r);return r},
/**
     * Evaluates the given `inputs` sequentially and returns the first defined value.
     * @param {Array} inputs - An array of values, falling back to the last value.
     * @param {object} [context] - If defined and the current value is a function, the value
     * is called with `context` as first argument and the result becomes the new input.
     * @param {number} [index] - If defined and the current value is an array, the value
     * at `index` become the new input.
     * @param {object} [info] - object to return information about resolution in
     * @param {boolean} [info.cacheable] - Will be set to `false` if option is not cacheable.
     * @since 2.7.0
     */
resolve:function(t,e,a,r){var i=true;var n,o,s;for(n=0,o=t.length;n<o;++n){s=t[n];if(void 0!==s){if(void 0!==e&&"function"===typeof s){s=s(e);i=false}if(void 0!==a&&P.isArray(s)){s=s[a];i=false}if(void 0!==s){r&&!i&&(r.cacheable=false);return s}}}}};var j={_factorize:function(t){var e=[];var a=Math.sqrt(t);var r;for(r=1;r<a;r++)if(t%r===0){e.push(r);e.push(t/r)}a===(0|a)&&e.push(a);e.sort((function(t,e){return t-e})).pop();return e},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E;var a=Math.round(e);var r=t===Math.pow(10,a);return r?a:e}};var U=j;
/**
   * Provided for backward compatibility, use Chart.helpers.math.log10 instead.
   * @namespace Chart.helpers.log10
   * @deprecated since version 2.9.0
   * @todo remove at version 3
   * @private
   */P.log10=j.log10;var getRtlAdapter=function(t,e){return{x:function(a){return t+t+e-a},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}};var getLtrAdapter=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}};var getAdapter=function(t,e,a){return t?getRtlAdapter(e,a):getLtrAdapter()};var overrideTextDirection=function(t,e){var a,r;if("ltr"===e||"rtl"===e){a=t.canvas.style;r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")];a.setProperty("direction",e,"important");t.prevTextDirection=r}};var restoreTextDirection=function(t){var e=t.prevTextDirection;if(void 0!==e){delete t.prevTextDirection;t.canvas.style.setProperty("direction",e[0],e[1])}};var q={getRtlAdapter:getAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection};var Y=P;var G=T;var X=z;var K=H;var $=U;var Z=q;Y.easing=G;Y.canvas=X;Y.options=K;Y.math=$;Y.rtl=Z;function interpolate(t,e,a,r){var i=Object.keys(a);var n,o,s,l,u,d,c,h,v;for(n=0,o=i.length;n<o;++n){s=i[n];d=a[s];e.hasOwnProperty(s)||(e[s]=d);l=e[s];if(l!==d&&"_"!==s[0]){t.hasOwnProperty(s)||(t[s]=l);u=t[s];c=typeof d;if(c===typeof u)if("string"===c){h=C(u);if(h.valid){v=C(d);if(v.valid){e[s]=v.mix(h,r).rgbString();continue}}}else if(Y.isFinite(u)&&Y.isFinite(d)){e[s]=u+(d-u)*r;continue}e[s]=d}}}var Element=function(t){Y.extend(this||e,t);(this||e).initialize.apply(this||e,arguments)};Y.extend(Element.prototype,{_type:void 0,initialize:function(){(this||e).hidden=false},pivot:function(){var t=this||e;t._view||(t._view=Y.extend({},t._model));t._start={};return t},transition:function(t){var a=this||e;var r=a._model;var i=a._start;var n=a._view;if(!r||1===t){a._view=Y.extend({},r);a._start=null;return a}n||(n=a._view={});i||(i=a._start={});interpolate(i,n,r,t);return a},tooltipPosition:function(){return{x:(this||e)._model.x,y:(this||e)._model.y}},hasValue:function(){return Y.isNumber((this||e)._model.x)&&Y.isNumber((this||e)._model.y)}});Element.extend=Y.inherits;var J=Element;var Q=J.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});var tt=Q;
/**
   * Provided for backward compatibility, use Chart.Animation instead
   * @prop Chart.Animation#animationObject
   * @deprecated since version 2.6.0
   * @todo remove at version 3
   */Object.defineProperty(Q.prototype,"animationObject",{get:function(){return this||e}});
/**
   * Provided for backward compatibility, use Chart.Animation#chart instead
   * @prop Chart.Animation#chartInstance
   * @deprecated since version 2.6.0
   * @todo remove at version 3
   */Object.defineProperty(Q.prototype,"chartInstance",{get:function(){return(this||e).chart},set:function(t){(this||e).chart=t}});V._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Y.noop,onComplete:Y.noop}});var et={animations:[],request:null,
/**
     * @param {Chart} chart - The chart to animate.
     * @param {Chart.Animation} animation - The animation that we will animate.
     * @param {number} duration - The animation duration in ms.
     * @param {boolean} lazy - if true, the chart is not marked as animating to enable more responsive interactions
     */
addAnimation:function(t,a,r,i){var n=(this||e).animations;var o,s;a.chart=t;a.startTime=Date.now();a.duration=r;i||(t.animating=true);for(o=0,s=n.length;o<s;++o)if(n[o].chart===t){n[o]=a;return}n.push(a);1===n.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var a=Y.findIndex((this||e).animations,(function(e){return e.chart===t}));if(-1!==a){(this||e).animations.splice(a,1);t.animating=false}},requestAnimationFrame:function(){var t=this||e;null===t.request&&(t.request=Y.requestAnimFrame.call(window,(function(){t.request=null;t.startDigest()})))},startDigest:function(){var t=this||e;t.advance();t.animations.length>0&&t.requestAnimationFrame()},advance:function(){var t=(this||e).animations;var a,r,i,n;var o=0;while(o<t.length){a=t[o];r=a.chart;i=a.numSteps;n=Math.floor((Date.now()-a.startTime)/a.duration*i)+1;a.currentStep=Math.min(n,i);Y.callback(a.render,[r,a],r);Y.callback(a.onAnimationProgress,[a],r);if(a.currentStep>=i){Y.callback(a.onAnimationComplete,[a],r);r.animating=false;t.splice(o,1)}else++o}}};var at=Y.options.resolve;var rt=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,a){if(t._chartjs)t._chartjs.listeners.push(a);else{Object.defineProperty(t,"_chartjs",{configurable:true,enumerable:false,value:{listeners:[a]}});rt.forEach((function(a){var r="onData"+a.charAt(0).toUpperCase()+a.slice(1);var i=t[a];Object.defineProperty(t,a,{configurable:true,enumerable:false,value:function(){var a=Array.prototype.slice.call(arguments);var n=i.apply(this||e,a);Y.each(t._chartjs.listeners,(function(t){"function"===typeof t[r]&&t[r].apply(t,a)}));return n}})}))}}function unlistenArrayEvents(t,e){var a=t._chartjs;if(a){var r=a.listeners;var i=r.indexOf(e);-1!==i&&r.splice(i,1);if(!(r.length>0)){rt.forEach((function(e){delete t[e]}));delete t._chartjs}}}var DatasetController=function(t,e){this.initialize(t,e)};Y.extend(DatasetController.prototype,{
/**
     * Element type used to generate a meta dataset (e.g. Chart.element.Line).
     * @type {Chart.core.element}
     */
datasetElementType:null,
/**
     * Element type used to generate a meta data (e.g. Chart.element.Point).
     * @type {Chart.core.element}
     */
dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,a){var r=this||e;r.chart=t;r.index=a;r.linkScales();r.addElements();r._type=r.getMeta().type},updateIndex:function(t){(this||e).index=t},linkScales:function(){var t=this||e;var a=t.getMeta();var r=t.chart;var i=r.scales;var n=t.getDataset();var o=r.options.scales;null!==a.xAxisID&&a.xAxisID in i&&!n.xAxisID||(a.xAxisID=n.xAxisID||o.xAxes[0].id);null!==a.yAxisID&&a.yAxisID in i&&!n.yAxisID||(a.yAxisID=n.yAxisID||o.yAxes[0].id)},getDataset:function(){return(this||e).chart.data.datasets[(this||e).index]},getMeta:function(){return(this||e).chart.getDatasetMeta((this||e).index)},getScaleForId:function(t){return(this||e).chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(true)},destroy:function(){(this||e)._data&&unlistenArrayEvents((this||e)._data,this||e)},createMetaDataset:function(){var t=this||e;var a=t.datasetElementType;return a&&new a({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var a=this||e;var r=a.dataElementType;return r&&new r({_chart:a.chart,_datasetIndex:a.index,_index:t})},addElements:function(){var t=this||e;var a=t.getMeta();var r=t.getDataset().data||[];var i=a.data;var n,o;for(n=0,o=r.length;n<o;++n)i[n]=i[n]||t.createMetaData(n);a.dataset=a.dataset||t.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e);this.updateElement(e,t,true)},buildOrUpdateElements:function(){var t=this||e;var a=t.getDataset();var r=a.data||(a.data=[]);if(t._data!==r){t._data&&unlistenArrayEvents(t._data,t);r&&Object.isExtensible(r)&&listenArrayEvents(r,t);t._data=r}t.resyncElements()},_configure:function(){var t=this||e;t._config=Y.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,a){"_meta"!==t&&"data"!==t&&Y._merger(t,e,a)}})},_update:function(t){var a=this||e;a._configure();a._cachedDataOpts=null;a.update(t)},update:Y.noop,transition:function(t){var e=this.getMeta();var a=e.data||[];var r=a.length;var i=0;for(;i<r;++i)a[i].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta();var e=t.data||[];var a=e.length;var r=0;t.dataset&&t.dataset.draw();for(;r<a;++r)e[r].draw()},
/**
     * Returns a set of predefined style properties that should be used to represent the dataset
     * or the data if the index is specified
     * @param {number} index - data index
     * @return {IStyleInterface} style object
     */
getStyle:function(t){var a=this||e;var r=a.getMeta();var i=r.dataset;var n;a._configure();if(i&&void 0===t)n=a._resolveDatasetElementOptions(i||{});else{t=t||0;n=a._resolveDataElementOptions(r.data[t]||{},t)}false!==n.fill&&null!==n.fill||(n.backgroundColor=n.borderColor);return n},_resolveDatasetElementOptions:function(t,a){var r=this||e;var i=r.chart;var n=r._config;var o=t.custom||{};var s=i.options.elements[r.datasetElementType.prototype._type]||{};var l=r._datasetElementOptions;var u={};var d,c,h,v;var f={chart:i,dataset:r.getDataset(),datasetIndex:r.index,hover:a};for(d=0,c=l.length;d<c;++d){h=l[d];v=a?"hover"+h.charAt(0).toUpperCase()+h.slice(1):h;u[h]=at([o[v],n[v],s[v]],f)}return u},_resolveDataElementOptions:function(t,a){var r=this||e;var i=t&&t.custom;var n=r._cachedDataOpts;if(n&&!i)return n;var o=r.chart;var s=r._config;var l=o.options.elements[r.dataElementType.prototype._type]||{};var u=r._dataElementOptions;var d={};var c={chart:o,dataIndex:a,dataset:r.getDataset(),datasetIndex:r.index};var h={cacheable:!i};var v,f,g,p;i=i||{};if(Y.isArray(u))for(f=0,g=u.length;f<g;++f){p=u[f];d[p]=at([i[p],s[p],l[p]],c,a,h)}else{v=Object.keys(u);for(f=0,g=v.length;f<g;++f){p=v[f];d[p]=at([i[p],s[u[p]],s[p],l[p]],c,a,h)}}h.cacheable&&(r._cachedDataOpts=Object.freeze(d));return d},removeHoverStyle:function(t){Y.merge(t._model,t.$previousStyle||{});delete t.$previousStyle},setHoverStyle:function(t){var a=(this||e).chart.data.datasets[t._datasetIndex];var r=t._index;var i=t.custom||{};var n=t._model;var o=Y.getHoverColor;t.$previousStyle={backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:n.borderWidth};n.backgroundColor=at([i.hoverBackgroundColor,a.hoverBackgroundColor,o(n.backgroundColor)],void 0,r);n.borderColor=at([i.hoverBorderColor,a.hoverBorderColor,o(n.borderColor)],void 0,r);n.borderWidth=at([i.hoverBorderWidth,a.hoverBorderWidth,n.borderWidth],void 0,r)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t=this.getMeta().dataset;var e={};var a,r,i,n,o,s;if(t){s=t._model;o=this._resolveDatasetElementOptions(t,true);n=Object.keys(o);for(a=0,r=n.length;a<r;++a){i=n[a];e[i]=s[i];s[i]=o[i]}t.$previousStyle=e}},resyncElements:function(){var t=this||e;var a=t.getMeta();var r=t.getDataset().data;var i=a.data.length;var n=r.length;n<i?a.data.splice(n,i-n):n>i&&t.insertElements(i,n-i)},insertElements:function(t,e){for(var a=0;a<e;++a)this.addElementAndReset(t+a)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e);this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});DatasetController.extend=Y.inherits;var it=DatasetController;var nt=2*Math.PI;V._set("global",{elements:{arc:{backgroundColor:V.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});function clipArc(t,e){var a=e.startAngle;var r=e.endAngle;var i=e.pixelMargin;var n=i/e.outerRadius;var o=e.x;var s=e.y;t.beginPath();t.arc(o,s,e.outerRadius,a-n,r+n);if(e.innerRadius>i){n=i/e.innerRadius;t.arc(o,s,e.innerRadius-i,r+n,a-n,true)}else t.arc(o,s,i,r+Math.PI/2,a-Math.PI/2);t.closePath();t.clip()}function drawFullCircleBorders(t,e,a,r){var i=a.endAngle;var n;if(r){a.endAngle=a.startAngle+nt;clipArc(t,a);a.endAngle=i;if(a.endAngle===a.startAngle&&a.fullCircles){a.endAngle+=nt;a.fullCircles--}}t.beginPath();t.arc(a.x,a.y,a.innerRadius,a.startAngle+nt,a.startAngle,true);for(n=0;n<a.fullCircles;++n)t.stroke();t.beginPath();t.arc(a.x,a.y,e.outerRadius,a.startAngle,a.startAngle+nt);for(n=0;n<a.fullCircles;++n)t.stroke()}function drawBorder(t,e,a){var r="inner"===e.borderAlign;if(r){t.lineWidth=2*e.borderWidth;t.lineJoin="round"}else{t.lineWidth=e.borderWidth;t.lineJoin="bevel"}a.fullCircles&&drawFullCircleBorders(t,e,a,r);r&&clipArc(t,a);t.beginPath();t.arc(a.x,a.y,e.outerRadius,a.startAngle,a.endAngle);t.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,true);t.closePath();t.stroke()}var ot=J.extend({_type:"arc",inLabelRange:function(t){var a=(this||e)._view;return!!a&&Math.pow(t-a.x,2)<Math.pow(a.radius+a.hoverRadius,2)},inRange:function(t,a){var r=(this||e)._view;if(r){var i=Y.getAngleFromPoint(r,{x:t,y:a});var n=i.angle;var o=i.distance;var s=r.startAngle;var l=r.endAngle;while(l<s)l+=nt;while(n>l)n-=nt;while(n<s)n+=nt;var u=n>=s&&n<=l;var d=o>=r.innerRadius&&o<=r.outerRadius;return u&&d}return false},getCenterPoint:function(){var t=(this||e)._view;var a=(t.startAngle+t.endAngle)/2;var r=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(a)*r,y:t.y+Math.sin(a)*r}},getArea:function(){var t=(this||e)._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=(this||e)._view;var a=t.startAngle+(t.endAngle-t.startAngle)/2;var r=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(a)*r,y:t.y+Math.sin(a)*r}},draw:function(){var t=(this||e)._chart.ctx;var a=(this||e)._view;var r="inner"===a.borderAlign?.33:0;var i={x:a.x,y:a.y,innerRadius:a.innerRadius,outerRadius:Math.max(a.outerRadius-r,0),pixelMargin:r,startAngle:a.startAngle,endAngle:a.endAngle,fullCircles:Math.floor(a.circumference/nt)};var n;t.save();t.fillStyle=a.backgroundColor;t.strokeStyle=a.borderColor;if(i.fullCircles){i.endAngle=i.startAngle+nt;t.beginPath();t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle);t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,true);t.closePath();for(n=0;n<i.fullCircles;++n)t.fill();i.endAngle=i.startAngle+a.circumference%nt}t.beginPath();t.arc(i.x,i.y,i.outerRadius,i.startAngle,i.endAngle);t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,true);t.closePath();t.fill();a.borderWidth&&drawBorder(t,a,i);t.restore()}});var st=Y.valueOrDefault;var lt=V.global.defaultColor;V._set("global",{elements:{line:{tension:.4,backgroundColor:lt,borderWidth:3,borderColor:lt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:true,fill:true}}});var ut=J.extend({_type:"line",draw:function(){var t=this||e;var a=t._view;var r=t._chart.ctx;var i=a.spanGaps;var n=t._children.slice();var o=V.global;var s=o.elements.line;var l=-1;var u=t._loop;var d,c,h;if(n.length){if(t._loop){for(d=0;d<n.length;++d){c=Y.previousItem(n,d);if(!n[d]._view.skip&&c._view.skip){n=n.slice(d).concat(n.slice(0,d));u=i;break}}u&&n.push(n[0])}r.save();r.lineCap=a.borderCapStyle||s.borderCapStyle;r.setLineDash&&r.setLineDash(a.borderDash||s.borderDash);r.lineDashOffset=st(a.borderDashOffset,s.borderDashOffset);r.lineJoin=a.borderJoinStyle||s.borderJoinStyle;r.lineWidth=st(a.borderWidth,s.borderWidth);r.strokeStyle=a.borderColor||o.defaultColor;r.beginPath();h=n[0]._view;if(!h.skip){r.moveTo(h.x,h.y);l=0}for(d=1;d<n.length;++d){h=n[d]._view;c=-1===l?Y.previousItem(n,d):n[l];if(!h.skip){l!==d-1&&!i||-1===l?r.moveTo(h.x,h.y):Y.canvas.lineTo(r,c._view,h);l=d}}u&&r.closePath();r.stroke();r.restore()}}});var dt=Y.valueOrDefault;var ct=V.global.defaultColor;V._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ct,borderColor:ct,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function xRange(t){var a=(this||e)._view;return!!a&&Math.abs(t-a.x)<a.radius+a.hitRadius}function yRange(t){var a=(this||e)._view;return!!a&&Math.abs(t-a.y)<a.radius+a.hitRadius}var ht=J.extend({_type:"point",inRange:function(t,a){var r=(this||e)._view;return!!r&&Math.pow(t-r.x,2)+Math.pow(a-r.y,2)<Math.pow(r.hitRadius+r.radius,2)},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var t=(this||e)._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow((this||e)._view.radius,2)},tooltipPosition:function(){var t=(this||e)._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var a=(this||e)._view;var r=(this||e)._chart.ctx;var i=a.pointStyle;var n=a.rotation;var o=a.radius;var s=a.x;var l=a.y;var u=V.global;var d=u.defaultColor;if(!a.skip&&(void 0===t||Y.canvas._isPointInArea(a,t))){r.strokeStyle=a.borderColor||d;r.lineWidth=dt(a.borderWidth,u.elements.point.borderWidth);r.fillStyle=a.backgroundColor||d;Y.canvas.drawPoint(r,i,o,s,l,n)}}});var vt=V.global.defaultColor;V._set("global",{elements:{rectangle:{backgroundColor:vt,borderColor:vt,borderSkipped:"bottom",borderWidth:0}}});function isVertical(t){return t&&void 0!==t.width}
/**
   * Helper function to get the bounds of the bar regardless of the orientation
   * @param bar {Chart.Element.Rectangle} the bar
   * @return {Bounds} bounds of the bar
   * @private
   */function getBarBounds(t){var e,a,r,i,n;if(isVertical(t)){n=t.width/2;e=t.x-n;a=t.x+n;r=Math.min(t.y,t.base);i=Math.max(t.y,t.base)}else{n=t.height/2;e=Math.min(t.x,t.base);a=Math.max(t.x,t.base);r=t.y-n;i=t.y+n}return{left:e,top:r,right:a,bottom:i}}function swap(t,e,a){return t===e?a:t===a?e:t}function parseBorderSkipped(t){var e=t.borderSkipped;var a={};if(!e)return a;t.horizontal?t.base>t.x&&(e=swap(e,"left","right")):t.base<t.y&&(e=swap(e,"bottom","top"));a[e]=true;return a}function parseBorderWidth(t,e,a){var r=t.borderWidth;var i=parseBorderSkipped(t);var n,o,s,l;if(Y.isObject(r)){n=+r.top||0;o=+r.right||0;s=+r.bottom||0;l=+r.left||0}else n=o=s=l=+r||0;return{t:i.top||n<0?0:n>a?a:n,r:i.right||o<0?0:o>e?e:o,b:i.bottom||s<0?0:s>a?a:s,l:i.left||l<0?0:l>e?e:l}}function boundingRects(t){var e=getBarBounds(t);var a=e.right-e.left;var r=e.bottom-e.top;var i=parseBorderWidth(t,a/2,r/2);return{outer:{x:e.left,y:e.top,w:a,h:r},inner:{x:e.left+i.l,y:e.top+i.t,w:a-i.l-i.r,h:r-i.t-i.b}}}function inRange(t,e,a){var r=null===e;var i=null===a;var n=!(!t||r&&i)&&getBarBounds(t);return n&&(r||e>=n.left&&e<=n.right)&&(i||a>=n.top&&a<=n.bottom)}var ft=J.extend({_type:"rectangle",draw:function(){var t=(this||e)._chart.ctx;var a=(this||e)._view;var r=boundingRects(a);var i=r.outer;var n=r.inner;t.fillStyle=a.backgroundColor;t.fillRect(i.x,i.y,i.w,i.h);if(i.w!==n.w||i.h!==n.h){t.save();t.beginPath();t.rect(i.x,i.y,i.w,i.h);t.clip();t.fillStyle=a.borderColor;t.rect(n.x,n.y,n.w,n.h);t.fill("evenodd");t.restore()}},height:function(){var t=(this||e)._view;return t.base-t.y},inRange:function(t,a){return inRange((this||e)._view,t,a)},inLabelRange:function(t,a){var r=(this||e)._view;return isVertical(r)?inRange(r,t,null):inRange(r,null,a)},inXRange:function(t){return inRange((this||e)._view,t,null)},inYRange:function(t){return inRange((this||e)._view,null,t)},getCenterPoint:function(){var t=(this||e)._view;var a,r;if(isVertical(t)){a=t.x;r=(t.y+t.base)/2}else{a=(t.x+t.base)/2;r=t.y}return{x:a,y:r}},getArea:function(){var t=(this||e)._view;return isVertical(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=(this||e)._view;return{x:t.x,y:t.y}}});var gt={};var pt=ot;var mt=ut;var bt=ht;var xt=ft;gt.Arc=pt;gt.Line=mt;gt.Point=bt;gt.Rectangle=xt;var yt=Y._deprecated;var _t=Y.valueOrDefault;V._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:true,gridLines:{offsetGridLines:true}}],yAxes:[{type:"linear"}]}});V._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});function computeMinSampleSize(t,e){var a=t._length;var r,i,n,o;for(n=1,o=e.length;n<o;++n)a=Math.min(a,Math.abs(e[n]-e[n-1]));for(n=0,o=t.getTicks().length;n<o;++n){i=t.getPixelForTick(n);a=n>0?Math.min(a,Math.abs(i-r)):a;r=i}return a}function computeFitCategoryTraits(t,e,a){var r=a.barThickness;var i=e.stackCount;var n=e.pixels[t];var o=Y.isNullOrUndef(r)?computeMinSampleSize(e.scale,e.pixels):-1;var s,l;if(Y.isNullOrUndef(r)){s=o*a.categoryPercentage;l=a.barPercentage}else{s=r*i;l=1}return{chunk:s/i,ratio:l,start:n-s/2}}function computeFlexCategoryTraits(t,e,a){var r=e.pixels;var i=r[t];var n=t>0?r[t-1]:null;var o=t<r.length-1?r[t+1]:null;var s=a.categoryPercentage;var l,u;null===n&&(n=i-(null===o?e.end-e.start:o-i));null===o&&(o=i+i-n);l=i-(i-Math.min(n,o))/2*s;u=Math.abs(o-n)/2*s;return{chunk:u/e.stackCount,ratio:a.barPercentage,start:l}}var kt=it.extend({dataElementType:gt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t=this||e;var a,r;it.prototype.initialize.apply(t,arguments);a=t.getMeta();a.stack=t.getDataset().stack;a.bar=true;r=t._getIndexScale().options;yt("bar chart",r.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");yt("bar chart",r.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");yt("bar chart",r.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");yt("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");yt("bar chart",r.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var a=this||e;var r=a.getMeta().data;var i,n;a._ruler=a.getRuler();for(i=0,n=r.length;i<n;++i)a.updateElement(r[i],i,t)},updateElement:function(t,a,r){var i=this||e;var n=i.getMeta();var o=i.getDataset();var s=i._resolveDataElementOptions(t,a);t._xScale=i.getScaleForId(n.xAxisID);t._yScale=i.getScaleForId(n.yAxisID);t._datasetIndex=i.index;t._index=a;t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderSkipped:s.borderSkipped,borderWidth:s.borderWidth,datasetLabel:o.label,label:i.chart.data.labels[a]};Y.isArray(o.data[a])&&(t._model.borderSkipped=null);i._updateElementGeometry(t,a,r,s);t.pivot()},_updateElementGeometry:function(t,a,r,i){var n=this||e;var o=t._model;var s=n._getValueScale();var l=s.getBasePixel();var u=s.isHorizontal();var d=n._ruler||n.getRuler();var c=n.calculateBarValuePixels(n.index,a,i);var h=n.calculateBarIndexPixels(n.index,a,d,i);o.horizontal=u;o.base=r?l:c.base;o.x=u?r?l:c.head:h.center;o.y=u?h.center:r?l:c.head;o.height=u?h.size:void 0;o.width=u?void 0:h.size},
/**
     * Returns the stacks based on groups and bar visibility.
     * @param {number} [last] - The dataset index
     * @returns {string[]} The list of stack IDs
     * @private
     */
_getStacks:function(t){var a=this||e;var r=a._getIndexScale();var i=r._getMatchingVisibleMetas(a._type);var n=r.options.stacked;var o=i.length;var s=[];var l,u;for(l=0;l<o;++l){u=i[l];(false===n||-1===s.indexOf(u.stack)||void 0===n&&void 0===u.stack)&&s.push(u.stack);if(u.index===t)break}return s},getStackCount:function(){return this._getStacks().length},
/**
     * Returns the stack index for the given dataset based on groups and bar visibility.
     * @param {number} [datasetIndex] - The dataset index
     * @param {string} [name] - The stack name to find
     * @returns {number} The stack index
     * @private
     */
getStackIndex:function(t,e){var a=this._getStacks(t);var r=void 0!==e?a.indexOf(e):-1;return-1===r?a.length-1:r},getRuler:function(){var t=this||e;var a=t._getIndexScale();var r=[];var i,n;for(i=0,n=t.getMeta().data.length;i<n;++i)r.push(a.getPixelForValue(null,i,t.index));return{pixels:r,start:a._startPixel,end:a._endPixel,stackCount:t.getStackCount(),scale:a}},calculateBarValuePixels:function(t,a,r){var i=this||e;var n=i.chart;var o=i._getValueScale();var s=o.isHorizontal();var l=n.data.datasets;var u=o._getMatchingVisibleMetas(i._type);var d=o._parseValue(l[t].data[a]);var c=r.minBarLength;var h=o.options.stacked;var v=i.getMeta().stack;var f=void 0===d.start?0:d.max>=0&&d.min>=0?d.min:d.max;var g=void 0===d.start?d.end:d.max>=0&&d.min>=0?d.max-d.min:d.min-d.max;var p=u.length;var m,b,x,y,_,k,w;if(h||void 0===h&&void 0!==v)for(m=0;m<p;++m){b=u[m];if(b.index===t)break;if(b.stack===v){w=o._parseValue(l[b.index].data[a]);x=void 0===w.start?w.end:w.min>=0&&w.max>=0?w.max:w.min;(d.min<0&&x<0||d.max>=0&&x>0)&&(f+=x)}}y=o.getPixelForValue(f);_=o.getPixelForValue(f+g);k=_-y;if(void 0!==c&&Math.abs(k)<c){k=c;_=g>=0&&!s||g<0&&s?y-c:y+c}return{size:k,base:y,head:_,center:_+k/2}},calculateBarIndexPixels:function(t,a,r,i){var n=this||e;var o="flex"===i.barThickness?computeFlexCategoryTraits(a,r,i):computeFitCategoryTraits(a,r,i);var s=n.getStackIndex(t,n.getMeta().stack);var l=o.start+o.chunk*s+o.chunk/2;var u=Math.min(_t(i.maxBarThickness,Infinity),o.chunk*o.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}},draw:function(){var t=this||e;var a=t.chart;var r=t._getValueScale();var i=t.getMeta().data;var n=t.getDataset();var o=i.length;var s=0;Y.canvas.clipArea(a.ctx,a.chartArea);for(;s<o;++s){var l=r._parseValue(n.data[s]);isNaN(l.min)||isNaN(l.max)||i[s].draw()}Y.canvas.unclipArea(a.ctx)},_resolveDataElementOptions:function(){var t=this||e;var a=Y.extend({},it.prototype._resolveDataElementOptions.apply(t,arguments));var r=t._getIndexScale().options;var i=t._getValueScale().options;a.barPercentage=_t(r.barPercentage,a.barPercentage);a.barThickness=_t(r.barThickness,a.barThickness);a.categoryPercentage=_t(r.categoryPercentage,a.categoryPercentage);a.maxBarThickness=_t(r.maxBarThickness,a.maxBarThickness);a.minBarLength=_t(i.minBarLength,a.minBarLength);return a}});var wt=Y.valueOrDefault;var Mt=Y.options.resolve;V._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";var r=e.datasets[t.datasetIndex].data[t.index];return a+": ("+t.xLabel+", "+t.yLabel+", "+r.r+")"}}}});var St=it.extend({dataElementType:gt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var a=this||e;var r=a.getMeta();var i=r.data;Y.each(i,(function(e,r){a.updateElement(e,r,t)}))},updateElement:function(t,a,r){var i=this||e;var n=i.getMeta();var o=t.custom||{};var s=i.getScaleForId(n.xAxisID);var l=i.getScaleForId(n.yAxisID);var u=i._resolveDataElementOptions(t,a);var d=i.getDataset().data[a];var c=i.index;var h=r?s.getPixelForDecimal(.5):s.getPixelForValue("object"===typeof d?d:NaN,a,c);var v=r?l.getBasePixel():l.getPixelForValue(d,a,c);t._xScale=s;t._yScale=l;t._options=u;t._datasetIndex=c;t._index=a;t._model={backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,hitRadius:u.hitRadius,pointStyle:u.pointStyle,rotation:u.rotation,radius:r?0:u.radius,skip:o.skip||isNaN(h)||isNaN(v),x:h,y:v};t.pivot()},setHoverStyle:function(t){var e=t._model;var a=t._options;var r=Y.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=wt(a.hoverBackgroundColor,r(a.backgroundColor));e.borderColor=wt(a.hoverBorderColor,r(a.borderColor));e.borderWidth=wt(a.hoverBorderWidth,a.borderWidth);e.radius=a.radius+a.hoverRadius},_resolveDataElementOptions:function(t,a){var r=this||e;var i=r.chart;var n=r.getDataset();var o=t.custom||{};var s=n.data[a]||{};var l=it.prototype._resolveDataElementOptions.apply(r,arguments);var u={chart:i,dataIndex:a,dataset:n,datasetIndex:r.index};r._cachedDataOpts===l&&(l=Y.extend({},l));l.radius=Mt([o.radius,s.r,r._config.radius,i.options.elements.point.radius],u,a);return l}});var Ct=Y.valueOrDefault;var At=Math.PI;var Pt=2*At;var Dt=At/2;V._set("doughnut",{animation:{animateRotate:true,animateScale:false},hover:{mode:"single"},legendCallback:function(t){var e=document.createElement("ul");var a=t.data;var r=a.datasets;var i=a.labels;var n,o,s,l;e.setAttribute("class",t.id+"-legend");if(r.length)for(n=0,o=r[0].data.length;n<o;++n){s=e.appendChild(document.createElement("li"));l=s.appendChild(document.createElement("span"));l.style.backgroundColor=r[0].backgroundColor[n];i[n]&&s.appendChild(document.createTextNode(i[n]))}return e.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(a,r){var i=t.getDatasetMeta(0);var n=i.controller.getStyle(r);return{text:a,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(e.datasets[0].data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(t,a){var r=a.index;var i=(this||e).chart;var n,o,s;for(n=0,o=(i.data.datasets||[]).length;n<o;++n){s=i.getDatasetMeta(n);s.data[r]&&(s.data[r].hidden=!s.data[r].hidden)}i.update()}},cutoutPercentage:50,rotation:-Dt,circumference:Pt,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.labels[t.index];var r=": "+e.datasets[t.datasetIndex].data[t.index];if(Y.isArray(a)){a=a.slice();a[0]+=r}else a+=r;return a}}}});var Tt=it.extend({dataElementType:gt.Arc,linkScales:Y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){var a=0;for(var r=0;r<t;++r)(this||e).chart.isDatasetVisible(r)&&++a;return a},update:function(t){var a=this||e;var r=a.chart;var i=r.chartArea;var n=r.options;var o=1;var s=1;var l=0;var u=0;var d=a.getMeta();var c=d.data;var h=n.cutoutPercentage/100||0;var v=n.circumference;var f=a._getRingWeight(a.index);var g,p,m,b;if(v<Pt){var x=n.rotation%Pt;x+=x>=At?-Pt:x<-At?Pt:0;var y=x+v;var _=Math.cos(x);var k=Math.sin(x);var w=Math.cos(y);var M=Math.sin(y);var S=x<=0&&y>=0||y>=Pt;var C=x<=Dt&&y>=Dt||y>=Pt+Dt;var A=x===-At||y>=At;var P=x<=-Dt&&y>=-Dt||y>=At+Dt;var D=A?-1:Math.min(_,_*h,w,w*h);var T=P?-1:Math.min(k,k*h,M,M*h);var I=S?1:Math.max(_,_*h,w,w*h);var F=C?1:Math.max(k,k*h,M,M*h);o=(I-D)/2;s=(F-T)/2;l=-(I+D)/2;u=-(F+T)/2}for(m=0,b=c.length;m<b;++m)c[m]._options=a._resolveDataElementOptions(c[m],m);r.borderWidth=a.getMaxBorderWidth();g=(i.right-i.left-r.borderWidth)/o;p=(i.bottom-i.top-r.borderWidth)/s;r.outerRadius=Math.max(Math.min(g,p)/2,0);r.innerRadius=Math.max(r.outerRadius*h,0);r.radiusLength=(r.outerRadius-r.innerRadius)/(a._getVisibleDatasetWeightTotal()||1);r.offsetX=l*r.outerRadius;r.offsetY=u*r.outerRadius;d.total=a.calculateTotal();a.outerRadius=r.outerRadius-r.radiusLength*a._getRingWeightOffset(a.index);a.innerRadius=Math.max(a.outerRadius-r.radiusLength*f,0);for(m=0,b=c.length;m<b;++m)a.updateElement(c[m],m,t)},updateElement:function(t,a,r){var i=this||e;var n=i.chart;var o=n.chartArea;var s=n.options;var l=s.animation;var u=(o.left+o.right)/2;var d=(o.top+o.bottom)/2;var c=s.rotation;var h=s.rotation;var v=i.getDataset();var f=r&&l.animateRotate||t.hidden?0:i.calculateCircumference(v.data[a])*(s.circumference/Pt);var g=r&&l.animateScale?0:i.innerRadius;var p=r&&l.animateScale?0:i.outerRadius;var m=t._options||{};Y.extend(t,{_datasetIndex:i.index,_index:a,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:u+n.offsetX,y:d+n.offsetY,startAngle:c,endAngle:h,circumference:f,outerRadius:p,innerRadius:g,label:Y.valueAtIndexOrDefault(v.label,a,n.data.labels[a])}});var b=t._model;if(!r||!l.animateRotate){b.startAngle=0===a?s.rotation:i.getMeta().data[a-1]._model.endAngle;b.endAngle=b.startAngle+b.circumference}t.pivot()},calculateTotal:function(){var t=this.getDataset();var e=this.getMeta();var a=0;var r;Y.each(e.data,(function(e,i){r=t.data[i];isNaN(r)||e.hidden||(a+=Math.abs(r))}));return a},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?Pt*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var a=this||e;var r=0;var i=a.chart;var n,o,s,l,u,d,c,h;if(!t)for(n=0,o=i.data.datasets.length;n<o;++n)if(i.isDatasetVisible(n)){s=i.getDatasetMeta(n);t=s.data;n!==a.index&&(u=s.controller);break}if(!t)return 0;for(n=0,o=t.length;n<o;++n){l=t[n];if(u){u._configure();d=u._resolveDataElementOptions(l,n)}else d=l._options;if("inner"!==d.borderAlign){c=d.borderWidth;h=d.hoverBorderWidth;r=c>r?c:r;r=h>r?h:r}}return r},setHoverStyle:function(t){var e=t._model;var a=t._options;var r=Y.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth};e.backgroundColor=Ct(a.hoverBackgroundColor,r(a.backgroundColor));e.borderColor=Ct(a.hoverBorderColor,r(a.borderColor));e.borderWidth=Ct(a.hoverBorderWidth,a.borderWidth)},_getRingWeightOffset:function(t){var a=0;for(var r=0;r<t;++r)(this||e).chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a},_getRingWeight:function(t){return Math.max(Ct((this||e).chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset((this||e).chart.data.datasets.length)}});V._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:true,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});V._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var It=kt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}});var Ft=Y.valueOrDefault;var Lt=Y.options.resolve;var Ot=Y.canvas._isPointInArea;V._set("line",{showLines:true,spanGaps:false,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});function scaleClip(t,e){var a=t&&t.options.ticks||{};var r=a.reverse;var i=void 0===a.min?e:0;var n=void 0===a.max?e:0;return{start:r?n:i,end:r?i:n}}function defaultClip(t,e,a){var r=a/2;var i=scaleClip(t,r);var n=scaleClip(e,r);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function toClip(t){var e,a,r,i;if(Y.isObject(t)){e=t.top;a=t.right;r=t.bottom;i=t.left}else e=a=r=i=t;return{top:e,right:a,bottom:r,left:i}}var Rt=it.extend({datasetElementType:gt.Line,dataElementType:gt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var a=this||e;var r=a.getMeta();var i=r.dataset;var n=r.data||[];var o=a.chart.options;var s=a._config;var l=a._showLine=Ft(s.showLine,o.showLines);var u,d;a._xScale=a.getScaleForId(r.xAxisID);a._yScale=a.getScaleForId(r.yAxisID);if(l){void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension);i._scale=a._yScale;i._datasetIndex=a.index;i._children=n;i._model=a._resolveDatasetElementOptions(i);i.pivot()}for(u=0,d=n.length;u<d;++u)a.updateElement(n[u],u,t);l&&0!==i._model.tension&&a.updateBezierControlPoints();for(u=0,d=n.length;u<d;++u)n[u].pivot()},updateElement:function(t,a,r){var i=this||e;var n=i.getMeta();var o=t.custom||{};var s=i.getDataset();var l=i.index;var u=s.data[a];var d=i._xScale;var c=i._yScale;var h=n.dataset._model;var v,f;var g=i._resolveDataElementOptions(t,a);v=d.getPixelForValue("object"===typeof u?u:NaN,a,l);f=r?c.getBasePixel():i.calculatePointY(u,a,l);t._xScale=d;t._yScale=c;t._options=g;t._datasetIndex=l;t._index=a;t._model={x:v,y:f,skip:o.skip||isNaN(v)||isNaN(f),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Ft(o.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(t){var a=this||e;var r=a._config;var i=t.custom||{};var n=a.chart.options;var o=n.elements.line;var s=it.prototype._resolveDatasetElementOptions.apply(a,arguments);s.spanGaps=Ft(r.spanGaps,n.spanGaps);s.tension=Ft(r.lineTension,o.tension);s.steppedLine=Lt([i.steppedLine,r.steppedLine,o.stepped]);s.clip=toClip(Ft(r.clip,defaultClip(a._xScale,a._yScale,s.borderWidth)));return s},calculatePointY:function(t,a,r){var i=this||e;var n=i.chart;var o=i._yScale;var s=0;var l=0;var u,d,c,h,v,f,g;if(o.options.stacked){v=+o.getRightValue(t);f=n._getSortedVisibleDatasetMetas();g=f.length;for(u=0;u<g;++u){c=f[u];if(c.index===r)break;d=n.data.datasets[c.index];if("line"===c.type&&c.yAxisID===o.id){h=+o.getRightValue(d.data[a]);h<0?l+=h||0:s+=h||0}}return v<0?o.getPixelForValue(l+v):o.getPixelForValue(s+v)}return o.getPixelForValue(t)},updateBezierControlPoints:function(){var t=this||e;var a=t.chart;var r=t.getMeta();var i=r.dataset._model;var n=a.chartArea;var o=r.data||[];var s,l,u,d;i.spanGaps&&(o=o.filter((function(t){return!t._model.skip})));function capControlPoint(t,e,a){return Math.max(Math.min(t,a),e)}if("monotone"===i.cubicInterpolationMode)Y.splineCurveMonotone(o);else for(s=0,l=o.length;s<l;++s){u=o[s]._model;d=Y.splineCurve(Y.previousItem(o,s)._model,u,Y.nextItem(o,s)._model,i.tension);u.controlPointPreviousX=d.previous.x;u.controlPointPreviousY=d.previous.y;u.controlPointNextX=d.next.x;u.controlPointNextY=d.next.y}if(a.options.elements.line.capBezierPoints)for(s=0,l=o.length;s<l;++s){u=o[s]._model;if(Ot(u,n)){if(s>0&&Ot(o[s-1]._model,n)){u.controlPointPreviousX=capControlPoint(u.controlPointPreviousX,n.left,n.right);u.controlPointPreviousY=capControlPoint(u.controlPointPreviousY,n.top,n.bottom)}if(s<o.length-1&&Ot(o[s+1]._model,n)){u.controlPointNextX=capControlPoint(u.controlPointNextX,n.left,n.right);u.controlPointNextY=capControlPoint(u.controlPointNextY,n.top,n.bottom)}}}},draw:function(){var t=this||e;var a=t.chart;var r=t.getMeta();var i=r.data||[];var n=a.chartArea;var o=a.canvas;var s=0;var l=i.length;var u;if(t._showLine){u=r.dataset._model.clip;Y.canvas.clipArea(a.ctx,{left:false===u.left?0:n.left-u.left,right:false===u.right?o.width:n.right+u.right,top:false===u.top?0:n.top-u.top,bottom:false===u.bottom?o.height:n.bottom+u.bottom});r.dataset.draw();Y.canvas.unclipArea(a.ctx)}for(;s<l;++s)i[s].draw(n)},setHoverStyle:function(t){var e=t._model;var a=t._options;var r=Y.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=Ft(a.hoverBackgroundColor,r(a.backgroundColor));e.borderColor=Ft(a.hoverBorderColor,r(a.borderColor));e.borderWidth=Ft(a.hoverBorderWidth,a.borderWidth);e.radius=Ft(a.hoverRadius,a.radius)}});var Bt=Y.options.resolve;V._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:false},gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-.5*Math.PI,legendCallback:function(t){var e=document.createElement("ul");var a=t.data;var r=a.datasets;var i=a.labels;var n,o,s,l;e.setAttribute("class",t.id+"-legend");if(r.length)for(n=0,o=r[0].data.length;n<o;++n){s=e.appendChild(document.createElement("li"));l=s.appendChild(document.createElement("span"));l.style.backgroundColor=r[0].backgroundColor[n];i[n]&&s.appendChild(document.createTextNode(i[n]))}return e.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map((function(a,r){var i=t.getDatasetMeta(0);var n=i.controller.getStyle(r);return{text:a,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(e.datasets[0].data[r])||i.data[r].hidden,index:r}})):[]}},onClick:function(t,a){var r=a.index;var i=(this||e).chart;var n,o,s;for(n=0,o=(i.data.datasets||[]).length;n<o;++n){s=i.getDatasetMeta(n);s.data[r].hidden=!s.data[r].hidden}i.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Nt=it.extend({dataElementType:gt.Arc,linkScales:Y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return(this||e).chart.scale.id},_getValueScaleId:function(){return(this||e).chart.scale.id},update:function(t){var a=this||e;var r=a.getDataset();var i=a.getMeta();var n=a.chart.options.startAngle||0;var o=a._starts=[];var s=a._angles=[];var l=i.data;var u,d,c;a._updateRadius();i.count=a.countVisibleElements();for(u=0,d=r.data.length;u<d;u++){o[u]=n;c=a._computeAngle(u);s[u]=c;n+=c}for(u=0,d=l.length;u<d;++u){l[u]._options=a._resolveDataElementOptions(l[u],u);a.updateElement(l[u],u,t)}},_updateRadius:function(){var t=this||e;var a=t.chart;var r=a.chartArea;var i=a.options;var n=Math.min(r.right-r.left,r.bottom-r.top);a.outerRadius=Math.max(n/2,0);a.innerRadius=Math.max(i.cutoutPercentage?a.outerRadius/100*i.cutoutPercentage:1,0);a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount();t.outerRadius=a.outerRadius-a.radiusLength*t.index;t.innerRadius=t.outerRadius-a.radiusLength},updateElement:function(t,a,r){var i=this||e;var n=i.chart;var o=i.getDataset();var s=n.options;var l=s.animation;var u=n.scale;var d=n.data.labels;var c=u.xCenter;var h=u.yCenter;var v=s.startAngle;var f=t.hidden?0:u.getDistanceFromCenterForValue(o.data[a]);var g=i._starts[a];var p=g+(t.hidden?0:i._angles[a]);var m=l.animateScale?0:u.getDistanceFromCenterForValue(o.data[a]);var b=t._options||{};Y.extend(t,{_datasetIndex:i.index,_index:a,_scale:u,_model:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,borderAlign:b.borderAlign,x:c,y:h,innerRadius:0,outerRadius:r?m:f,startAngle:r&&l.animateRotate?v:g,endAngle:r&&l.animateRotate?v:p,label:Y.valueAtIndexOrDefault(d,a,d[a])}});t.pivot()},countVisibleElements:function(){var t=this.getDataset();var e=this.getMeta();var a=0;Y.each(e.data,(function(e,r){isNaN(t.data[r])||e.hidden||a++}));return a},setHoverStyle:function(t){var e=t._model;var a=t._options;var r=Y.getHoverColor;var i=Y.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth};e.backgroundColor=i(a.hoverBackgroundColor,r(a.backgroundColor));e.borderColor=i(a.hoverBorderColor,r(a.borderColor));e.borderWidth=i(a.hoverBorderWidth,a.borderWidth)},_computeAngle:function(t){var a=this||e;var r=this.getMeta().count;var i=a.getDataset();var n=a.getMeta();if(isNaN(i.data[t])||n.data[t].hidden)return 0;var o={chart:a.chart,dataIndex:t,dataset:i,datasetIndex:a.index};return Bt([a.chart.options.elements.arc.angle,2*Math.PI/r],o,t)}});V._set("pie",Y.clone(V.doughnut));V._set("pie",{cutoutPercentage:0});var zt=Tt;var Et=Y.valueOrDefault;V._set("radar",{spanGaps:false,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Vt=it.extend({datasetElementType:gt.Line,dataElementType:gt.Point,linkScales:Y.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return(this||e).chart.scale.id},_getValueScaleId:function(){return(this||e).chart.scale.id},update:function(t){var a=this||e;var r=a.getMeta();var i=r.dataset;var n=r.data||[];var o=a.chart.scale;var s=a._config;var l,u;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension);i._scale=o;i._datasetIndex=a.index;i._children=n;i._loop=true;i._model=a._resolveDatasetElementOptions(i);i.pivot();for(l=0,u=n.length;l<u;++l)a.updateElement(n[l],l,t);a.updateBezierControlPoints();for(l=0,u=n.length;l<u;++l)n[l].pivot()},updateElement:function(t,a,r){var i=this||e;var n=t.custom||{};var o=i.getDataset();var s=i.chart.scale;var l=s.getPointPositionForValue(a,o.data[a]);var u=i._resolveDataElementOptions(t,a);var d=i.getMeta().dataset._model;var c=r?s.xCenter:l.x;var h=r?s.yCenter:l.y;t._scale=s;t._options=u;t._datasetIndex=i.index;t._index=a;t._model={x:c,y:h,skip:n.skip||isNaN(c)||isNaN(h),radius:u.radius,pointStyle:u.pointStyle,rotation:u.rotation,backgroundColor:u.backgroundColor,borderColor:u.borderColor,borderWidth:u.borderWidth,tension:Et(n.tension,d?d.tension:0),hitRadius:u.hitRadius}},_resolveDatasetElementOptions:function(){var t=this||e;var a=t._config;var r=t.chart.options;var i=it.prototype._resolveDatasetElementOptions.apply(t,arguments);i.spanGaps=Et(a.spanGaps,r.spanGaps);i.tension=Et(a.lineTension,r.elements.line.tension);return i},updateBezierControlPoints:function(){var t=this||e;var a=t.getMeta();var r=t.chart.chartArea;var i=a.data||[];var n,o,s,l;a.dataset._model.spanGaps&&(i=i.filter((function(t){return!t._model.skip})));function capControlPoint(t,e,a){return Math.max(Math.min(t,a),e)}for(n=0,o=i.length;n<o;++n){s=i[n]._model;l=Y.splineCurve(Y.previousItem(i,n,true)._model,s,Y.nextItem(i,n,true)._model,s.tension);s.controlPointPreviousX=capControlPoint(l.previous.x,r.left,r.right);s.controlPointPreviousY=capControlPoint(l.previous.y,r.top,r.bottom);s.controlPointNextX=capControlPoint(l.next.x,r.left,r.right);s.controlPointNextY=capControlPoint(l.next.y,r.top,r.bottom)}},setHoverStyle:function(t){var e=t._model;var a=t._options;var r=Y.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=Et(a.hoverBackgroundColor,r(a.backgroundColor));e.borderColor=Et(a.hoverBorderColor,r(a.borderColor));e.borderWidth=Et(a.hoverBorderWidth,a.borderWidth);e.radius=Et(a.hoverRadius,a.radius)}});V._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});V._set("global",{datasets:{scatter:{showLine:false}}});var Wt=Rt;var Ht={bar:kt,bubble:St,doughnut:Tt,horizontalBar:It,line:Rt,polarArea:Nt,pie:zt,radar:Vt,scatter:Wt};
/**
   * Helper function to get relative position for an event
   * @param {Event|IEvent} event - The event to get the position for
   * @param {Chart} chart - The chart
   * @returns {object} the event position
   */function getRelativePosition(t,e){return t.native?{x:t.x,y:t.y}:Y.getRelativePosition(t,e)}
/**
   * Helper function to traverse all of the visible elements in the chart
   * @param {Chart} chart - the chart
   * @param {function} handler - the callback to execute for each visible item
   */function parseVisibleItems(t,e){var a=t._getSortedVisibleDatasetMetas();var r,i,n,o,s,l;for(i=0,o=a.length;i<o;++i){r=a[i].data;for(n=0,s=r.length;n<s;++n){l=r[n];l._view.skip||e(l)}}}
/**
   * Helper function to get the items that intersect the event position
   * @param {ChartElement[]} items - elements to filter
   * @param {object} position - the point to be nearest to
   * @return {ChartElement[]} the nearest items
   */function getIntersectItems(t,e){var a=[];parseVisibleItems(t,(function(t){t.inRange(e.x,e.y)&&a.push(t)}));return a}
/**
   * Helper function to get the items nearest to the event position considering all visible items in teh chart
   * @param {Chart} chart - the chart to look at elements from
   * @param {object} position - the point to be nearest to
   * @param {boolean} intersect - if true, only consider items that intersect the position
   * @param {function} distanceMetric - function to provide the distance between points
   * @return {ChartElement[]} the nearest items
   */function getNearestItems(t,e,a,r){var i=Number.POSITIVE_INFINITY;var n=[];parseVisibleItems(t,(function(t){if(!a||t.inRange(e.x,e.y)){var o=t.getCenterPoint();var s=r(e,o);if(s<i){n=[t];i=s}else s===i&&n.push(t)}}));return n}
/**
   * Get a distance metric function for two points based on the
   * axis mode setting
   * @param {string} axis - the axis mode. x|y|xy
   */function getDistanceMetricForAxis(t){var e=-1!==t.indexOf("x");var a=-1!==t.indexOf("y");return function(t,r){var i=e?Math.abs(t.x-r.x):0;var n=a?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}}function indexMode(t,e,a){var r=getRelativePosition(e,t);a.axis=a.axis||"x";var i=getDistanceMetricForAxis(a.axis);var n=a.intersect?getIntersectItems(t,r):getNearestItems(t,r,false,i);var o=[];if(!n.length)return[];t._getSortedVisibleDatasetMetas().forEach((function(t){var e=t.data[n[0]._index];e&&!e._view.skip&&o.push(e)}));return o}
/**
   * If true, only consider items that intersect the point
   * @name IInterfaceOptions#boolean
   * @type Boolean
   */var jt={modes:{single:function(t,e){var a=getRelativePosition(e,t);var r=[];parseVisibleItems(t,(function(t){if(t.inRange(a.x,a.y)){r.push(t);return r}}));return r.slice(0,1)},
/**
       * @function Chart.Interaction.modes.label
       * @deprecated since version 2.4.0
       * @todo remove at version 3
       * @private
       */
label:indexMode,
/**
       * Returns items at the same index. If the options.intersect parameter is true, we only return items if we intersect something
       * If the options.intersect mode is false, we find the nearest item and return the items at the same index as that item
       * @function Chart.Interaction.modes.index
       * @since v2.4.0
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @param {IInteractionOptions} options - options to use during interaction
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
index:indexMode,
/**
       * Returns items in the same dataset. If the options.intersect parameter is true, we only return items if we intersect something
       * If the options.intersect is false, we find the nearest item and return the items in that dataset
       * @function Chart.Interaction.modes.dataset
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @param {IInteractionOptions} options - options to use during interaction
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
dataset:function(t,e,a){var r=getRelativePosition(e,t);a.axis=a.axis||"xy";var i=getDistanceMetricForAxis(a.axis);var n=a.intersect?getIntersectItems(t,r):getNearestItems(t,r,false,i);n.length>0&&(n=t.getDatasetMeta(n[0]._datasetIndex).data);return n},
/**
       * @function Chart.Interaction.modes.x-axis
       * @deprecated since version 2.4.0. Use index mode and intersect == true
       * @todo remove at version 3
       * @private
       */
"x-axis":function(t,e){return indexMode(t,e,{intersect:false})},
/**
       * Point mode returns all elements that hit test based on the event position
       * of the event
       * @function Chart.Interaction.modes.intersect
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
point:function(t,e){var a=getRelativePosition(e,t);return getIntersectItems(t,a)},
/**
       * nearest mode returns the element closest to the point
       * @function Chart.Interaction.modes.intersect
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @param {IInteractionOptions} options - options to use
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
nearest:function(t,e,a){var r=getRelativePosition(e,t);a.axis=a.axis||"xy";var i=getDistanceMetricForAxis(a.axis);return getNearestItems(t,r,a.intersect,i)},
/**
       * x mode returns the elements that hit-test at the current x coordinate
       * @function Chart.Interaction.modes.x
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @param {IInteractionOptions} options - options to use
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
x:function(t,e,a){var r=getRelativePosition(e,t);var i=[];var n=false;parseVisibleItems(t,(function(t){t.inXRange(r.x)&&i.push(t);t.inRange(r.x,r.y)&&(n=true)}));a.intersect&&!n&&(i=[]);return i},
/**
       * y mode returns the elements that hit-test at the current y coordinate
       * @function Chart.Interaction.modes.y
       * @param {Chart} chart - the chart we are returning items from
       * @param {Event} e - the event we are find things at
       * @param {IInteractionOptions} options - options to use
       * @return {Chart.Element[]} Array of elements that are under the point. If none are found, an empty array is returned
       */
y:function(t,e,a){var r=getRelativePosition(e,t);var i=[];var n=false;parseVisibleItems(t,(function(t){t.inYRange(r.y)&&i.push(t);t.inRange(r.x,r.y)&&(n=true)}));a.intersect&&!n&&(i=[]);return i}}};var Ut=Y.extend;function filterByPosition(t,e){return Y.where(t,(function(t){return t.pos===e}))}function sortByWeight(t,e){return t.sort((function(t,a){var r=e?a:t;var i=e?t:a;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function wrapBoxes(t){var e=[];var a,r,i;for(a=0,r=(t||[]).length;a<r;++a){i=t[a];e.push({index:a,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight})}return e}function setLayoutDims(t,e){var a,r,i;for(a=0,r=t.length;a<r;++a){i=t[a];i.width=i.horizontal?i.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth;i.height=i.horizontal&&e.hBoxMaxHeight}}function buildLayoutBoxes(t){var e=wrapBoxes(t);var a=sortByWeight(filterByPosition(e,"left"),true);var r=sortByWeight(filterByPosition(e,"right"));var i=sortByWeight(filterByPosition(e,"top"),true);var n=sortByWeight(filterByPosition(e,"bottom"));return{leftAndTop:a.concat(i),rightAndBottom:r.concat(n),chartArea:filterByPosition(e,"chartArea"),vertical:a.concat(r),horizontal:i.concat(n)}}function getCombinedMax(t,e,a,r){return Math.max(t[a],e[a])+Math.max(t[r],e[r])}function updateDims(t,e,a){var r=a.box;var i=t.maxPadding;var n,o;a.size&&(t[a.pos]-=a.size);a.size=a.horizontal?r.height:r.width;t[a.pos]+=a.size;if(r.getPadding){var s=r.getPadding();i.top=Math.max(i.top,s.top);i.left=Math.max(i.left,s.left);i.bottom=Math.max(i.bottom,s.bottom);i.right=Math.max(i.right,s.right)}n=e.outerWidth-getCombinedMax(i,t,"left","right");o=e.outerHeight-getCombinedMax(i,t,"top","bottom");if(n!==t.w||o!==t.h){t.w=n;t.h=o;var l=a.horizontal?[n,t.w]:[o,t.h];return l[0]!==l[1]&&(!isNaN(l[0])||!isNaN(l[1]))}}function handleMaxPadding(t){var e=t.maxPadding;function updatePos(a){var r=Math.max(e[a]-t[a],0);t[a]+=r;return r}t.y+=updatePos("top");t.x+=updatePos("left");updatePos("right");updatePos("bottom")}function getMargins(t,e){var a=e.maxPadding;function marginForPositions(t){var r={left:0,top:0,right:0,bottom:0};t.forEach((function(t){r[t]=Math.max(e[t],a[t])}));return r}return marginForPositions(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,a){var r=[];var i,n,o,s,l,u;for(i=0,n=t.length;i<n;++i){o=t[i];s=o.box;s.update(o.width||e.w,o.height||e.h,getMargins(o.horizontal,e));if(updateDims(e,a,o)){u=true;r.length&&(l=true)}s.fullWidth||r.push(o)}return l&&fitBoxes(r,e,a)||u}function placeBoxes(t,e,a){var r=a.padding;var i=e.x;var n=e.y;var o,s,l,u;for(o=0,s=t.length;o<s;++o){l=t[o];u=l.box;if(l.horizontal){u.left=u.fullWidth?r.left:e.left;u.right=u.fullWidth?a.outerWidth-r.right:e.left+e.w;u.top=n;u.bottom=n+u.height;u.width=u.right-u.left;n=u.bottom}else{u.left=i;u.right=i+u.width;u.top=e.top;u.bottom=e.top+e.h;u.height=u.bottom-u.top;i=u.right}}e.x=i;e.y=n}V._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var qt={defaults:{},
/**
     * Register a box to a chart.
     * A box is simply a reference to an object that requires layout. eg. Scales, Legend, Title.
     * @param {Chart} chart - the chart to use
     * @param {ILayoutItem} item - the item to add to be layed out
     */
addBox:function(t,e){t.boxes||(t.boxes=[]);e.fullWidth=e.fullWidth||false;e.position=e.position||"top";e.weight=e.weight||0;e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]};t.boxes.push(e)},
/**
     * Remove a layoutItem from a chart
     * @param {Chart} chart - the chart to remove the box from
     * @param {ILayoutItem} layoutItem - the item to remove from the layout
     */
removeBox:function(t,e){var a=t.boxes?t.boxes.indexOf(e):-1;-1!==a&&t.boxes.splice(a,1)},
/**
     * Sets (or updates) options on the given `item`.
     * @param {Chart} chart - the chart in which the item lives (or will be added to)
     * @param {ILayoutItem} item - the item to configure with the given options
     * @param {object} options - the new item options.
     */
configure:function(t,e,a){var r=["fullWidth","position","weight"];var i=r.length;var n=0;var o;for(;n<i;++n){o=r[n];a.hasOwnProperty(o)&&(e[o]=a[o])}},
/**
     * Fits boxes of the given chart into the given size by having each box measure itself
     * then running a fitting algorithm
     * @param {Chart} chart - the chart
     * @param {number} width - the width to fit into
     * @param {number} height - the height to fit into
     */
update:function(t,e,a){if(t){var r=t.options.layout||{};var i=Y.options.toPadding(r.padding);var n=e-i.width;var o=a-i.height;var s=buildLayoutBoxes(t.boxes);var l=s.vertical;var u=s.horizontal;var d=Object.freeze({outerWidth:e,outerHeight:a,padding:i,availableWidth:n,vBoxMaxWidth:n/2/l.length,hBoxMaxHeight:o/2});var c=Ut({maxPadding:Ut({},i),w:n,h:o,x:i.left,y:i.top},i);setLayoutDims(l.concat(u),d);fitBoxes(l,c,d);fitBoxes(u,c,d)&&fitBoxes(l,c,d);handleMaxPadding(c);placeBoxes(s.leftAndTop,c,d);c.x+=c.w;c.y+=c.h;placeBoxes(s.rightAndBottom,c,d);t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h};Y.each(s.chartArea,(function(e){var a=e.box;Ut(a,t.chartArea);a.update(c.w,c.h)}))}}};var Yt={acquireContext:function(t){t&&t.canvas&&(t=t.canvas);return t&&t.getContext("2d")||null}};var Gt="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n";var Xt=Object.freeze({__proto__:null,default:Gt});var Kt=getCjsExportFromNamespace(Xt);var $t="$chartjs";var Zt="chartjs-";var Jt=Zt+"size-monitor";var Qt=Zt+"render-monitor";var te=Zt+"render-animation";var ee=["animationstart","webkitAnimationStart"];var ae={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};
/**
   * The "used" size is the final value of a dimension property after all calculations have
   * been performed. This method uses the computed style of `element` but returns undefined
   * if the computed style is not expressed in pixels. That can happen in some cases where
   * `element` has a size relative to its parent and this last one is not yet displayed,
   * for example because of `display: none` on a parent node.
   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/used_value
   * @returns {number} Size in pixels or undefined if unknown.
   */function readUsedSize(t,e){var a=Y.getStyle(t,e);var r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?Number(r[1]):void 0}function initCanvas(t,e){var a=t.style;var r=t.getAttribute("height");var i=t.getAttribute("width");t[$t]={initial:{height:r,width:i,style:{display:a.display,height:a.height,width:a.width}}};a.display=a.display||"block";if(null===i||""===i){var n=readUsedSize(t,"width");void 0!==n&&(t.width=n)}if(null===r||""===r)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=readUsedSize(t,"height");void 0!==n&&(t.height=o)}return t}var re=function(){var t=false;try{var e=Object.defineProperty({},"passive",{get:function(){t=true}});window.addEventListener("e",null,e)}catch(t){}return t}();var ie=!!re&&{passive:true};function addListener(t,e,a){t.addEventListener(e,a,ie)}function removeListener(t,e,a){t.removeEventListener(e,a,ie)}function createEvent(t,e,a,r,i){return{type:t,chart:e,native:i||null,x:void 0!==a?a:null,y:void 0!==r?r:null}}function fromNativeEvent(t,e){var a=ae[t.type]||t.type;var r=Y.getRelativePosition(t,e);return createEvent(a,e,r.x,r.y,t)}function throttled(t,a){var r=false;var i=[];return function(){i=Array.prototype.slice.call(arguments);a=a||this||e;if(!r){r=true;Y.requestAnimFrame.call(window,(function(){r=false;t.apply(a,i)}))}}}function createDiv(t){var e=document.createElement("div");e.className=t||"";return e}function createResizer(t){var e=1e6;var a=createDiv(Jt);var r=createDiv(Jt+"-expand");var i=createDiv(Jt+"-shrink");r.appendChild(createDiv());i.appendChild(createDiv());a.appendChild(r);a.appendChild(i);a._reset=function(){r.scrollLeft=e;r.scrollTop=e;i.scrollLeft=e;i.scrollTop=e};var onScroll=function(){a._reset();t()};addListener(r,"scroll",onScroll.bind(r,"expand"));addListener(i,"scroll",onScroll.bind(i,"shrink"));return a}function watchForRender(t,e){var a=t[$t]||(t[$t]={});var r=a.renderProxy=function(t){t.animationName===te&&e()};Y.each(ee,(function(e){addListener(t,e,r)}));a.reflow=!!t.offsetParent;t.classList.add(Qt)}function unwatchForRender(t){var e=t[$t]||{};var a=e.renderProxy;if(a){Y.each(ee,(function(e){removeListener(t,e,a)}));delete e.renderProxy}t.classList.remove(Qt)}function addResizeListener(t,e,a){var r=t[$t]||(t[$t]={});var i=r.resizer=createResizer(throttled((function(){if(r.resizer){var i=a.options.maintainAspectRatio&&t.parentNode;var n=i?i.clientWidth:0;e(createEvent("resize",a));i&&i.clientWidth<n&&a.canvas&&e(createEvent("resize",a))}})));watchForRender(t,(function(){if(r.resizer){var e=t.parentNode;e&&e!==i.parentNode&&e.insertBefore(i,e.firstChild);i._reset()}}))}function removeResizeListener(t){var e=t[$t]||{};var a=e.resizer;delete e.resizer;unwatchForRender(t);a&&a.parentNode&&a.parentNode.removeChild(a)}
/**
   * Injects CSS styles inline if the styles are not already present.
   * @param {HTMLDocument|ShadowRoot} rootNode - the node to contain the <style>.
   * @param {string} css - the CSS to be injected.
   */function injectCSS(t,e){var a=t[$t]||(t[$t]={});if(!a.containsStyles){a.containsStyles=true;e="/* Chart.js */\n"+e;var r=document.createElement("style");r.setAttribute("type","text/css");r.appendChild(document.createTextNode(e));t.appendChild(r)}}var ne={disableCSSInjection:false,_enabled:"undefined"!==typeof window&&"undefined"!==typeof document,
/**
     * Initializes resources that depend on platform options.
     * @param {HTMLCanvasElement} canvas - The Canvas element.
     * @private
     */
_ensureLoaded:function(t){if(!(this||e).disableCSSInjection){var a=t.getRootNode?t.getRootNode():document;var r=a.host?a:document.head;injectCSS(r,Kt)}},acquireContext:function(t,e){"string"===typeof t?t=document.getElementById(t):t.length&&(t=t[0]);t&&t.canvas&&(t=t.canvas);var a=t&&t.getContext&&t.getContext("2d");if(a&&a.canvas===t){this._ensureLoaded(t);initCanvas(t,e);return a}return null},releaseContext:function(t){var e=t.canvas;if(e[$t]){var a=e[$t].initial;["height","width"].forEach((function(t){var r=a[t];Y.isNullOrUndef(r)?e.removeAttribute(t):e.setAttribute(t,r)}));Y.each(a.style||{},(function(t,a){e.style[a]=t}));e.width=e.width;delete e[$t]}},addEventListener:function(t,e,a){var r=t.canvas;if("resize"!==e){var i=a[$t]||(a[$t]={});var n=i.proxies||(i.proxies={});var o=n[t.id+"_"+e]=function(e){a(fromNativeEvent(e,t))};addListener(r,e,o)}else addResizeListener(r,a,t)},removeEventListener:function(t,e,a){var r=t.canvas;if("resize"!==e){var i=a[$t]||{};var n=i.proxies||{};var o=n[t.id+"_"+e];o&&removeListener(r,e,o)}else removeResizeListener(r)}};
/**
   * Provided for backward compatibility, use EventTarget.addEventListener instead.
   * EventTarget.addEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+
   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener
   * @function Chart.helpers.addEvent
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */Y.addEvent=addListener;
/**
   * Provided for backward compatibility, use EventTarget.removeEventListener instead.
   * EventTarget.removeEventListener compatibility: Chrome, Opera 7, Safari, FF1.5+, IE9+
   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener
   * @function Chart.helpers.removeEvent
   * @deprecated since version 2.7.0
   * @todo remove at version 3
   * @private
   */Y.removeEvent=removeListener;var oe=ne._enabled?ne:Yt;var se=Y.extend({initialize:function(){},
/**
     * Called at chart construction time, returns a context2d instance implementing
     * the [W3C Canvas 2D Context API standard]{@link https://www.w3.org/TR/2dcontext/}.
     * @param {*} item - The native item from which to acquire context (platform specific)
     * @param {object} options - The chart options
     * @returns {CanvasRenderingContext2D} context2d instance
     */
acquireContext:function(){},
/**
     * Called at chart destruction time, releases any resources associated to the context
     * previously returned by the acquireContext() method.
     * @param {CanvasRenderingContext2D} context - The context2d instance
     * @returns {boolean} true if the method succeeded, else false
     */
releaseContext:function(){},
/**
     * Registers the specified listener on the given chart.
     * @param {Chart} chart - Chart from which to listen for event
     * @param {string} type - The ({@link IEvent}) type to listen for
     * @param {function} listener - Receives a notification (an object that implements
     * the {@link IEvent} interface) when an event of the specified type occurs.
     */
addEventListener:function(){},
/**
     * Removes the specified listener previously registered with addEventListener.
     * @param {Chart} chart - Chart from which to remove the listener
     * @param {string} type - The ({@link IEvent}) type to remove
     * @param {function} listener - The listener function to remove from the event target.
     */
removeEventListener:function(){}},oe);V._set("global",{plugins:{}});var le={_plugins:[],_cacheId:0,
/**
     * Registers the given plugin(s) if not already registered.
     * @param {IPlugin[]|IPlugin} plugins plugin instance(s).
     */
register:function(t){var a=(this||e)._plugins;[].concat(t).forEach((function(t){-1===a.indexOf(t)&&a.push(t)}));(this||e)._cacheId++},
/**
     * Unregisters the given plugin(s) only if registered.
     * @param {IPlugin[]|IPlugin} plugins plugin instance(s).
     */
unregister:function(t){var a=(this||e)._plugins;[].concat(t).forEach((function(t){var e=a.indexOf(t);-1!==e&&a.splice(e,1)}));(this||e)._cacheId++},clear:function(){(this||e)._plugins=[];(this||e)._cacheId++},
/**
     * Returns the number of registered plugins?
     * @returns {number}
     * @since 2.1.5
     */
count:function(){return(this||e)._plugins.length},
/**
     * Returns all registered plugin instances.
     * @returns {IPlugin[]} array of plugin objects.
     * @since 2.1.5
     */
getAll:function(){return(this||e)._plugins},
/**
     * Calls enabled plugins for `chart` on the specified hook and with the given args.
     * This method immediately returns as soon as a plugin explicitly returns false. The
     * returned value can be used, for instance, to interrupt the current action.
     * @param {Chart} chart - The chart instance for which plugins should be called.
     * @param {string} hook - The name of the plugin method to call (e.g. 'beforeUpdate').
     * @param {Array} [args] - Extra arguments to apply to the hook call.
     * @returns {boolean} false if any of the plugins return false, else returns true.
     */
notify:function(t,e,a){var r=this.descriptors(t);var i=r.length;var n,o,s,l,u;for(n=0;n<i;++n){o=r[n];s=o.plugin;u=s[e];if("function"===typeof u){l=[t].concat(a||[]);l.push(o.options);if(false===u.apply(s,l))return false}}return true},
/**
     * Returns descriptors of enabled plugins for the given chart.
     * @returns {object[]} [{ plugin, options }]
     * @private
     */
descriptors:function(t){var a=t.$plugins||(t.$plugins={});if(a.id===(this||e)._cacheId)return a.descriptors;var r=[];var i=[];var n=t&&t.config||{};var o=n.options&&n.options.plugins||{};(this||e)._plugins.concat(n.plugins||[]).forEach((function(t){var e=r.indexOf(t);if(-1===e){var a=t.id;var n=o[a];if(false!==n){true===n&&(n=Y.clone(V.global.plugins[a]));r.push(t);i.push({plugin:t,options:n||{}})}}}));a.descriptors=i;a.id=(this||e)._cacheId;return i},_invalidate:function(t){delete t.$plugins}};var ue={constructors:{},defaults:{},registerScaleType:function(t,a,r){(this||e).constructors[t]=a;(this||e).defaults[t]=Y.clone(r)},getScaleConstructor:function(t){return(this||e).constructors.hasOwnProperty(t)?(this||e).constructors[t]:void 0},getScaleDefaults:function(t){return(this||e).defaults.hasOwnProperty(t)?Y.merge(Object.create(null),[V.scale,(this||e).defaults[t]]):{}},updateScaleDefaults:function(t,a){var r=this||e;r.defaults.hasOwnProperty(t)&&(r.defaults[t]=Y.extend(r.defaults[t],a))},addScalesToLayout:function(t){Y.each(t.scales,(function(e){e.fullWidth=e.options.fullWidth;e.position=e.options.position;e.weight=e.options.weight;qt.addBox(t,e)}))}};var de=Y.valueOrDefault;var ce=Y.rtl.getRtlAdapter;V._set("global",{tooltips:{enabled:true,custom:null,mode:"nearest",position:"average",intersect:true,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:true,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Y.noop,title:function(t,e){var a="";var r=e.labels;var i=r?r.length:0;if(t.length>0){var n=t[0];n.label?a=n.label:n.xLabel?a=n.xLabel:i>0&&n.index<i&&(a=r[n.index])}return a},afterTitle:Y.noop,beforeBody:Y.noop,beforeLabel:Y.noop,label:function(t,e){var a=e.datasets[t.datasetIndex].label||"";a&&(a+=": ");Y.isNullOrUndef(t.value)?a+=t.yLabel:a+=t.value;return a},labelColor:function(t,e){var a=e.getDatasetMeta(t.datasetIndex);var r=a.data[t.index];var i=r._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return(this||e)._options.bodyFontColor},afterLabel:Y.noop,afterBody:Y.noop,beforeFooter:Y.noop,footer:Y.noop,afterFooter:Y.noop}}});var he={
/**
     * Average mode places the tooltip at the average position of the elements shown
     * @function Chart.Tooltip.positioners.average
     * @param elements {ChartElement[]} the elements being displayed in the tooltip
     * @returns {object} tooltip position
     */
average:function(t){if(!t.length)return false;var e,a;var r=0;var i=0;var n=0;for(e=0,a=t.length;e<a;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x;i+=s.y;++n}}return{x:r/n,y:i/n}},
/**
     * Gets the tooltip position nearest of the item nearest to the event position
     * @function Chart.Tooltip.positioners.nearest
     * @param elements {Chart.Element[]} the tooltip elements
     * @param eventPosition {object} the position of the event in canvas coordinates
     * @returns {object} the tooltip position
     */
nearest:function(t,e){var a=e.x;var r=e.y;var i=Number.POSITIVE_INFINITY;var n,o,s;for(n=0,o=t.length;n<o;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint();var d=Y.distanceBetweenPoints(e,u);if(d<i){i=d;s=l}}}if(s){var c=s.tooltipPosition();a=c.x;r=c.y}return{x:a,y:r}}};function pushOrConcat(t,e){e&&(Y.isArray(e)?Array.prototype.push.apply(t,e):t.push(e));return t}
/**
   * Returns array of strings split by newline
   * @param {string} value - The value to split by newline.
   * @returns {string[]} value if newline present - Returned from String split() method
   * @function
   */function splitNewlines(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}
/**
   * Private helper to create a tooltip item model
   * @param element - the chart element (point, arc, bar) to create the tooltip item for
   * @return new tooltip item
   */function createTooltipItem(t){var e=t._xScale;var a=t._yScale||t._scale;var r=t._index;var i=t._datasetIndex;var n=t._chart.getDatasetMeta(i).controller;var o=n._getIndexScale();var s=n._getValueScale();return{xLabel:e?e.getLabelForIndex(r,i):"",yLabel:a?a.getLabelForIndex(r,i):"",label:o?""+o.getLabelForIndex(r,i):"",value:s?""+s.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:t._model.x,y:t._model.y}}
/**
   * Helper to get the reset model for the tooltip
   * @param tooltipOpts {object} the tooltip options
   */function getBaseModel(t){var e=V.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:de(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:de(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:de(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:de(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:de(t.titleFontStyle,e.defaultFontStyle),titleFontSize:de(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:de(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:de(t.footerFontStyle,e.defaultFontStyle),footerFontSize:de(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function getTooltipSize(t,e){var a=t._chart.ctx;var r=2*e.yPadding;var i=0;var n=e.body;var o=n.reduce((function(t,e){return t+e.before.length+e.lines.length+e.after.length}),0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length;var l=e.footer.length;var u=e.titleFontSize;var d=e.bodyFontSize;var c=e.footerFontSize;r+=s*u;r+=s?(s-1)*e.titleSpacing:0;r+=s?e.titleMarginBottom:0;r+=o*d;r+=o?(o-1)*e.bodySpacing:0;r+=l?e.footerMarginTop:0;r+=l*c;r+=l?(l-1)*e.footerSpacing:0;var h=0;var maxLineWidth=function(t){i=Math.max(i,a.measureText(t).width+h)};a.font=Y.fontString(u,e._titleFontStyle,e._titleFontFamily);Y.each(e.title,maxLineWidth);a.font=Y.fontString(d,e._bodyFontStyle,e._bodyFontFamily);Y.each(e.beforeBody.concat(e.afterBody),maxLineWidth);h=e.displayColors?d+2:0;Y.each(n,(function(t){Y.each(t.before,maxLineWidth);Y.each(t.lines,maxLineWidth);Y.each(t.after,maxLineWidth)}));h=0;a.font=Y.fontString(c,e._footerFontStyle,e._footerFontFamily);Y.each(e.footer,maxLineWidth);i+=2*e.xPadding;return{width:i,height:r}}function determineAlignment(t,e){var a=t._model;var r=t._chart;var i=t._chart.chartArea;var n="center";var o="center";a.y<e.height?o="top":a.y>r.height-e.height&&(o="bottom");var s,l;var u,d;var c;var h=(i.left+i.right)/2;var v=(i.top+i.bottom)/2;if("center"===o){s=function(t){return t<=h};l=function(t){return t>h}}else{s=function(t){return t<=e.width/2};l=function(t){return t>=r.width-e.width/2}}u=function(t){return t+e.width+a.caretSize+a.caretPadding>r.width};d=function(t){return t-e.width-a.caretSize-a.caretPadding<0};c=function(t){return t<=v?"top":"bottom"};if(s(a.x)){n="left";if(u(a.x)){n="center";o=c(a.y)}}else if(l(a.x)){n="right";if(d(a.x)){n="center";o=c(a.y)}}var f=t._options;return{xAlign:f.xAlign?f.xAlign:n,yAlign:f.yAlign?f.yAlign:o}}function getBackgroundPoint(t,e,a,r){var i=t.x;var n=t.y;var o=t.caretSize;var s=t.caretPadding;var l=t.cornerRadius;var u=a.xAlign;var d=a.yAlign;var c=o+s;var h=l+s;if("right"===u)i-=e.width;else if("center"===u){i-=e.width/2;i+e.width>r.width&&(i=r.width-e.width);i<0&&(i=0)}"top"===d?n+=c:n-="bottom"===d?e.height+c:e.height/2;"center"===d?"left"===u?i+=c:"right"===u&&(i-=c):"left"===u?i-=h:"right"===u&&(i+=h);return{x:i,y:n}}function getAlignedX(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}var ve=J.extend({initialize:function(){(this||e)._model=getBaseModel((this||e)._options);(this||e)._lastActive=[]},getTitle:function(){var t=this||e;var a=t._options;var r=a.callbacks;var i=r.beforeTitle.apply(t,arguments);var n=r.title.apply(t,arguments);var o=r.afterTitle.apply(t,arguments);var s=[];s=pushOrConcat(s,splitNewlines(i));s=pushOrConcat(s,splitNewlines(n));s=pushOrConcat(s,splitNewlines(o));return s},getBeforeBody:function(){return getBeforeAfterBodyLines((this||e)._options.callbacks.beforeBody.apply(this||e,arguments))},getBody:function(t,a){var r=this||e;var i=r._options.callbacks;var n=[];Y.each(t,(function(t){var e={before:[],lines:[],after:[]};pushOrConcat(e.before,splitNewlines(i.beforeLabel.call(r,t,a)));pushOrConcat(e.lines,i.label.call(r,t,a));pushOrConcat(e.after,splitNewlines(i.afterLabel.call(r,t,a)));n.push(e)}));return n},getAfterBody:function(){return getBeforeAfterBodyLines((this||e)._options.callbacks.afterBody.apply(this||e,arguments))},getFooter:function(){var t=this||e;var a=t._options.callbacks;var r=a.beforeFooter.apply(t,arguments);var i=a.footer.apply(t,arguments);var n=a.afterFooter.apply(t,arguments);var o=[];o=pushOrConcat(o,splitNewlines(r));o=pushOrConcat(o,splitNewlines(i));o=pushOrConcat(o,splitNewlines(n));return o},update:function(t){var a=this||e;var r=a._options;var i=a._model;var n=a._model=getBaseModel(r);var o=a._active;var s=a._data;var l={xAlign:i.xAlign,yAlign:i.yAlign};var u={x:i.x,y:i.y};var d={width:i.width,height:i.height};var c={x:i.caretX,y:i.caretY};var h,v;if(o.length){n.opacity=1;var f=[];var g=[];c=he[r.position].call(a,o,a._eventPosition);var p=[];for(h=0,v=o.length;h<v;++h)p.push(createTooltipItem(o[h]));r.filter&&(p=p.filter((function(t){return r.filter(t,s)})));r.itemSort&&(p=p.sort((function(t,e){return r.itemSort(t,e,s)})));Y.each(p,(function(t){f.push(r.callbacks.labelColor.call(a,t,a._chart));g.push(r.callbacks.labelTextColor.call(a,t,a._chart))}));n.title=a.getTitle(p,s);n.beforeBody=a.getBeforeBody(p,s);n.body=a.getBody(p,s);n.afterBody=a.getAfterBody(p,s);n.footer=a.getFooter(p,s);n.x=c.x;n.y=c.y;n.caretPadding=r.caretPadding;n.labelColors=f;n.labelTextColors=g;n.dataPoints=p;d=getTooltipSize(this||e,n);l=determineAlignment(this||e,d);u=getBackgroundPoint(n,d,l,a._chart)}else n.opacity=0;n.xAlign=l.xAlign;n.yAlign=l.yAlign;n.x=u.x;n.y=u.y;n.width=d.width;n.height=d.height;n.caretX=c.x;n.caretY=c.y;a._model=n;t&&r.custom&&r.custom.call(a,n);return a},drawCaret:function(t,a){var r=(this||e)._chart.ctx;var i=(this||e)._view;var n=this.getCaretPosition(t,a,i);r.lineTo(n.x1,n.y1);r.lineTo(n.x2,n.y2);r.lineTo(n.x3,n.y3)},getCaretPosition:function(t,e,a){var r,i,n,o,s,l;var u=a.caretSize;var d=a.cornerRadius;var c=a.xAlign;var h=a.yAlign;var v=t.x;var f=t.y;var g=e.width;var p=e.height;if("center"===h){s=f+p/2;if("left"===c){r=v;i=r-u;n=r;o=s+u;l=s-u}else{r=v+g;i=r+u;n=r;o=s-u;l=s+u}}else{if("left"===c){i=v+d+u;r=i-u;n=i+u}else if("right"===c){i=v+g-d-u;r=i-u;n=i+u}else{i=a.caretX;r=i-u;n=i+u}if("top"===h){o=f;s=o-u;l=o}else{o=f+p;s=o+u;l=o;var m=n;n=r;r=m}}return{x1:r,x2:i,x3:n,y1:o,y2:s,y3:l}},drawTitle:function(t,e,a){var r=e.title;var i=r.length;var n,o,s;if(i){var l=ce(e.rtl,e.x,e.width);t.x=getAlignedX(e,e._titleAlign);a.textAlign=l.textAlign(e._titleAlign);a.textBaseline="middle";n=e.titleFontSize;o=e.titleSpacing;a.fillStyle=e.titleFontColor;a.font=Y.fontString(n,e._titleFontStyle,e._titleFontFamily);for(s=0;s<i;++s){a.fillText(r[s],l.x(t.x),t.y+n/2);t.y+=n+o;s+1===i&&(t.y+=e.titleMarginBottom-o)}}},drawBody:function(t,e,a){var r=e.bodyFontSize;var i=e.bodySpacing;var n=e._bodyAlign;var o=e.body;var s=e.displayColors;var l=0;var u=s?getAlignedX(e,"left"):0;var d=ce(e.rtl,e.x,e.width);var fillLineOfText=function(e){a.fillText(e,d.x(t.x+l),t.y+r/2);t.y+=r+i};var c,h,v,f,g,p,m,b;var x=d.textAlign(n);a.textAlign=n;a.textBaseline="middle";a.font=Y.fontString(r,e._bodyFontStyle,e._bodyFontFamily);t.x=getAlignedX(e,x);a.fillStyle=e.bodyFontColor;Y.each(e.beforeBody,fillLineOfText);l=s&&"right"!==x?"center"===n?r/2+1:r+2:0;for(g=0,m=o.length;g<m;++g){c=o[g];h=e.labelTextColors[g];v=e.labelColors[g];a.fillStyle=h;Y.each(c.before,fillLineOfText);f=c.lines;for(p=0,b=f.length;p<b;++p){if(s){var y=d.x(u);a.fillStyle=e.legendColorBackground;a.fillRect(d.leftForLtr(y,r),t.y,r,r);a.lineWidth=1;a.strokeStyle=v.borderColor;a.strokeRect(d.leftForLtr(y,r),t.y,r,r);a.fillStyle=v.backgroundColor;a.fillRect(d.leftForLtr(d.xPlus(y,1),r-2),t.y+1,r-2,r-2);a.fillStyle=h}fillLineOfText(f[p])}Y.each(c.after,fillLineOfText)}l=0;Y.each(e.afterBody,fillLineOfText);t.y-=i},drawFooter:function(t,e,a){var r=e.footer;var i=r.length;var n,o;if(i){var s=ce(e.rtl,e.x,e.width);t.x=getAlignedX(e,e._footerAlign);t.y+=e.footerMarginTop;a.textAlign=s.textAlign(e._footerAlign);a.textBaseline="middle";n=e.footerFontSize;a.fillStyle=e.footerFontColor;a.font=Y.fontString(n,e._footerFontStyle,e._footerFontFamily);for(o=0;o<i;++o){a.fillText(r[o],s.x(t.x),t.y+n/2);t.y+=n+e.footerSpacing}}},drawBackground:function(t,e,a,r){a.fillStyle=e.backgroundColor;a.strokeStyle=e.borderColor;a.lineWidth=e.borderWidth;var i=e.xAlign;var n=e.yAlign;var o=t.x;var s=t.y;var l=r.width;var u=r.height;var d=e.cornerRadius;a.beginPath();a.moveTo(o+d,s);"top"===n&&this.drawCaret(t,r);a.lineTo(o+l-d,s);a.quadraticCurveTo(o+l,s,o+l,s+d);"center"===n&&"right"===i&&this.drawCaret(t,r);a.lineTo(o+l,s+u-d);a.quadraticCurveTo(o+l,s+u,o+l-d,s+u);"bottom"===n&&this.drawCaret(t,r);a.lineTo(o+d,s+u);a.quadraticCurveTo(o,s+u,o,s+u-d);"center"===n&&"left"===i&&this.drawCaret(t,r);a.lineTo(o,s+d);a.quadraticCurveTo(o,s,o+d,s);a.closePath();a.fill();e.borderWidth>0&&a.stroke()},draw:function(){var t=(this||e)._chart.ctx;var a=(this||e)._view;if(0!==a.opacity){var r={width:a.width,height:a.height};var i={x:a.x,y:a.y};var n=Math.abs(a.opacity<.001)?0:a.opacity;var o=a.title.length||a.beforeBody.length||a.body.length||a.afterBody.length||a.footer.length;if((this||e)._options.enabled&&o){t.save();t.globalAlpha=n;this.drawBackground(i,a,t,r);i.y+=a.yPadding;Y.rtl.overrideTextDirection(t,a.textDirection);this.drawTitle(i,a,t);this.drawBody(i,a,t);this.drawFooter(i,a,t);Y.rtl.restoreTextDirection(t,a.textDirection);t.restore()}}},
/**
     * Handle an event
     * @private
     * @param {IEvent} event - The event to handle
     * @returns {boolean} true if the tooltip changed
     */
handleEvent:function(t){var a=this||e;var r=a._options;var i=false;a._lastActive=a._lastActive||[];if("mouseout"===t.type)a._active=[];else{a._active=a._chart.getElementsAtEventForMode(t,r.mode,r);r.reverse&&a._active.reverse()}i=!Y.arrayEquals(a._active,a._lastActive);if(i){a._lastActive=a._active;if(r.enabled||r.custom){a._eventPosition={x:t.x,y:t.y};a.update(true);a.pivot()}}return i}});var fe=he;var ge=ve;ge.positioners=fe;var pe=Y.valueOrDefault;V._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:true,animationDuration:400},onClick:null,maintainAspectRatio:true,responsive:true,responsiveAnimationDuration:0});function mergeScaleConfig(){return Y.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,a,r){if("xAxes"===t||"yAxes"===t){var i=a[t].length;var n,o,s;e[t]||(e[t]=[]);for(n=0;n<i;++n){s=a[t][n];o=pe(s.type,"xAxes"===t?"category":"linear");n>=e[t].length&&e[t].push({});!e[t][n].type||s.type&&s.type!==e[t][n].type?Y.merge(e[t][n],[ue.getScaleDefaults(o),s]):Y.merge(e[t][n],s)}}else Y._merger(t,e,a,r)}})}function mergeConfig(){return Y.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,a,r){var i=e[t]||Object.create(null);var n=a[t];"scales"===t?e[t]=mergeScaleConfig(i,n):"scale"===t?e[t]=Y.merge(i,[ue.getScaleDefaults(n.type),n]):Y._merger(t,e,a,r)}})}function initConfig(t){t=t||Object.create(null);var e=t.data=t.data||{};e.datasets=e.datasets||[];e.labels=e.labels||[];t.options=mergeConfig(V.global,V[t.type],t.options||{});return t}function updateConfig(t){var e=t.options;Y.each(t.scales,(function(e){qt.removeBox(t,e)}));e=mergeConfig(V.global,V[t.config.type],e);t.options=t.config.options=e;t.ensureScalesHaveIDs();t.buildOrUpdateScales();t.tooltip._options=e.tooltips;t.tooltip.initialize()}function nextAvailableScaleId(t,e,a){var r;var hasId=function(t){return t.id===r};do{r=e+a++}while(Y.findIndex(t,hasId)>=0);return r}function positionIsHorizontal(t){return"top"===t||"bottom"===t}function compare2Level(t,e){return function(a,r){return a[t]===r[t]?a[e]-r[e]:a[t]-r[t]}}var Chart=function(t,a){this.construct(t,a);return this||e};Y.extend(Chart.prototype,{construct:function(t,a){var r=this||e;a=initConfig(a);var i=se.acquireContext(t,a);var n=i&&i.canvas;var o=n&&n.height;var s=n&&n.width;r.id=Y.uid();r.ctx=i;r.canvas=n;r.config=a;r.width=s;r.height=o;r.aspectRatio=o?s/o:null;r.options=a.options;r._bufferedRender=false;r._layers=[];
/**
       * Provided for backward compatibility, Chart and Chart.Controller have been merged,
       * the "instance" still need to be defined since it might be called from plugins.
       * @prop Chart#chart
       * @deprecated since version 2.6.0
       * @todo remove at version 3
       * @private
       */r.chart=r;r.controller=r;Chart.instances[r.id]=r;Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}});if(i&&n){r.initialize();r.update()}else console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this||e;le.notify(t,"beforeInit");Y.retinaScale(t,t.options.devicePixelRatio);t.bindEvents();t.options.responsive&&t.resize(true);t.initToolTip();le.notify(t,"afterInit");return t},clear:function(){Y.canvas.clear(this||e);return this||e},stop:function(){et.cancelAnimation(this||e);return this||e},resize:function(t){var a=this||e;var r=a.options;var i=a.canvas;var n=r.maintainAspectRatio&&a.aspectRatio||null;var o=Math.max(0,Math.floor(Y.getMaximumWidth(i)));var s=Math.max(0,Math.floor(n?o/n:Y.getMaximumHeight(i)));if(a.width!==o||a.height!==s){i.width=a.width=o;i.height=a.height=s;i.style.width=o+"px";i.style.height=s+"px";Y.retinaScale(a,r.devicePixelRatio);if(!t){var l={width:o,height:s};le.notify(a,"resize",[l]);r.onResize&&r.onResize(a,l);a.stop();a.update({duration:r.responsiveAnimationDuration})}}},ensureScalesHaveIDs:function(){var t=(this||e).options;var a=t.scales||{};var r=t.scale;Y.each(a.xAxes,(function(t,e){t.id||(t.id=nextAvailableScaleId(a.xAxes,"x-axis-",e))}));Y.each(a.yAxes,(function(t,e){t.id||(t.id=nextAvailableScaleId(a.yAxes,"y-axis-",e))}));r&&(r.id=r.id||"scale")},buildOrUpdateScales:function(){var t=this||e;var a=t.options;var r=t.scales||{};var i=[];var n=Object.keys(r).reduce((function(t,e){t[e]=false;return t}),{});a.scales&&(i=i.concat((a.scales.xAxes||[]).map((function(t){return{options:t,dtype:"category",dposition:"bottom"}})),(a.scales.yAxes||[]).map((function(t){return{options:t,dtype:"linear",dposition:"left"}}))));a.scale&&i.push({options:a.scale,dtype:"radialLinear",isDefault:true,dposition:"chartArea"});Y.each(i,(function(e){var a=e.options;var i=a.id;var o=pe(a.type,e.dtype);positionIsHorizontal(a.position)!==positionIsHorizontal(e.dposition)&&(a.position=e.dposition);n[i]=true;var s=null;if(i in r&&r[i].type===o){s=r[i];s.options=a;s.ctx=t.ctx;s.chart=t}else{var l=ue.getScaleConstructor(o);if(!l)return;s=new l({id:i,type:o,options:a,ctx:t.ctx,chart:t});r[s.id]=s}s.mergeTicksOptions();e.isDefault&&(t.scale=s)}));Y.each(n,(function(t,e){t||delete r[e]}));t.scales=r;ue.addScalesToLayout(this||e)},buildOrUpdateControllers:function(){var t=this||e;var a=[];var r=t.data.datasets;var i,n;for(i=0,n=r.length;i<n;i++){var o=r[i];var s=t.getDatasetMeta(i);var l=o.type||t.config.type;if(s.type&&s.type!==l){t.destroyDatasetMeta(i);s=t.getDatasetMeta(i)}s.type=l;s.order=o.order||0;s.index=i;if(s.controller){s.controller.updateIndex(i);s.controller.linkScales()}else{var u=Ht[s.type];if(void 0===u)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new u(t,i);a.push(s.controller)}}return a},resetElements:function(){var t=this||e;Y.each(t.data.datasets,(function(e,a){t.getDatasetMeta(a).controller.reset()}),t)},reset:function(){this.resetElements();(this||e).tooltip.initialize()},update:function(t){var a=this||e;var r,i;t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]});updateConfig(a);le._invalidate(a);if(false!==le.notify(a,"beforeUpdate")){a.tooltip._data=a.data;var n=a.buildOrUpdateControllers();for(r=0,i=a.data.datasets.length;r<i;r++)a.getDatasetMeta(r).controller.buildOrUpdateElements();a.updateLayout();a.options.animation&&a.options.animation.duration&&Y.each(n,(function(t){t.reset()}));a.updateDatasets();a.tooltip.initialize();a.lastActive=[];le.notify(a,"afterUpdate");a._layers.sort(compare2Level("z","_idx"));a._bufferedRender?a._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:a.render(t)}},updateLayout:function(){var t=this||e;if(false!==le.notify(t,"beforeLayout")){qt.update(this||e,(this||e).width,(this||e).height);t._layers=[];Y.each(t.boxes,(function(e){e._configure&&e._configure();t._layers.push.apply(t._layers,e._layers())}),t);t._layers.forEach((function(t,e){t._idx=e}));
/**
       * Provided for backward compatibility, use `afterLayout` instead.
       * @method IPlugin#afterScaleUpdate
       * @deprecated since version 2.5.0
       * @todo remove at version 3
       * @private
       */le.notify(t,"afterScaleUpdate");le.notify(t,"afterLayout")}},updateDatasets:function(){var t=this||e;if(false!==le.notify(t,"beforeDatasetsUpdate")){for(var a=0,r=t.data.datasets.length;a<r;++a)t.updateDataset(a);le.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var a=this||e;var r=a.getDatasetMeta(t);var i={meta:r,index:t};if(false!==le.notify(a,"beforeDatasetUpdate",[i])){r.controller._update();le.notify(a,"afterDatasetUpdate",[i])}},render:function(t){var a=this||e;t&&"object"===typeof t||(t={duration:t,lazy:arguments[1]});var r=a.options.animation;var i=pe(t.duration,r&&r.duration);var n=t.lazy;if(false!==le.notify(a,"beforeRender")){var onComplete=function(t){le.notify(a,"afterRender");Y.callback(r&&r.onComplete,[t],a)};if(r&&i){var o=new tt({numSteps:i/16.66,easing:t.easing||r.easing,render:function(t,e){var a=Y.easing.effects[e.easing];var r=e.currentStep;var i=r/e.numSteps;t.draw(a(i),i,r)},onAnimationProgress:r.onProgress,onAnimationComplete:onComplete});et.addAnimation(a,o,i,n)}else{a.draw();onComplete(new tt({numSteps:0,chart:a}))}return a}},draw:function(t){var a=this||e;var r,i;a.clear();Y.isNullOrUndef(t)&&(t=1);a.transition(t);if(!(a.width<=0||a.height<=0)&&false!==le.notify(a,"beforeDraw",[t])){i=a._layers;for(r=0;r<i.length&&i[r].z<=0;++r)i[r].draw(a.chartArea);a.drawDatasets(t);for(;r<i.length;++r)i[r].draw(a.chartArea);a._drawTooltip(t);le.notify(a,"afterDraw",[t])}},transition:function(t){var a=this||e;for(var r=0,i=(a.data.datasets||[]).length;r<i;++r)a.isDatasetVisible(r)&&a.getDatasetMeta(r).controller.transition(t);a.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var a=this||e;var r=a.data.datasets||[];var i=[];var n,o;for(n=0,o=r.length;n<o;++n)t&&!a.isDatasetVisible(n)||i.push(a.getDatasetMeta(n));i.sort(compare2Level("order","index"));return i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(true)},drawDatasets:function(t){var a=this||e;var r,i;if(false!==le.notify(a,"beforeDatasetsDraw",[t])){r=a._getSortedVisibleDatasetMetas();for(i=r.length-1;i>=0;--i)a.drawDataset(r[i],t);le.notify(a,"afterDatasetsDraw",[t])}},drawDataset:function(t,a){var r=this||e;var i={meta:t,index:t.index,easingValue:a};if(false!==le.notify(r,"beforeDatasetDraw",[i])){t.controller.draw(a);le.notify(r,"afterDatasetDraw",[i])}},_drawTooltip:function(t){var a=this||e;var r=a.tooltip;var i={tooltip:r,easingValue:t};if(false!==le.notify(a,"beforeTooltipDraw",[i])){r.draw();le.notify(a,"afterTooltipDraw",[i])}},getElementAtEvent:function(t){return jt.modes.single(this||e,t)},getElementsAtEvent:function(t){return jt.modes.label(this||e,t,{intersect:true})},getElementsAtXAxis:function(t){return jt.modes["x-axis"](this||e,t,{intersect:true})},getElementsAtEventForMode:function(t,a,r){var i=jt.modes[a];return"function"===typeof i?i(this||e,t,r):[]},getDatasetAtEvent:function(t){return jt.modes.dataset(this||e,t,{intersect:true})},getDatasetMeta:function(t){var a=this||e;var r=a.data.datasets[t];r._meta||(r._meta={});var i=r._meta[a.id];i||(i=r._meta[a.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r.order||0,index:t});return i},getVisibleDatasetCount:function(){var t=0;for(var a=0,r=(this||e).data.datasets.length;a<r;++a)this.isDatasetVisible(a)&&t++;return t},isDatasetVisible:function(t){var a=this.getDatasetMeta(t);return"boolean"===typeof a.hidden?!a.hidden:!(this||e).data.datasets[t].hidden},generateLegend:function(){return(this||e).options.legendCallback(this||e)},destroyDatasetMeta:function(t){var a=(this||e).id;var r=(this||e).data.datasets[t];var i=r._meta&&r._meta[a];if(i){i.controller.destroy();delete r._meta[a]}},destroy:function(){var t=this||e;var a=t.canvas;var r,i;t.stop();for(r=0,i=t.data.datasets.length;r<i;++r)t.destroyDatasetMeta(r);if(a){t.unbindEvents();Y.canvas.clear(t);se.releaseContext(t.ctx);t.canvas=null;t.ctx=null}le.notify(t,"destroy");delete Chart.instances[t.id]},toBase64Image:function(){return(this||e).canvas.toDataURL.apply((this||e).canvas,arguments)},initToolTip:function(){var t=this||e;t.tooltip=new ge({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this||e;var a=t._listeners={};var listener=function(){t.eventHandler.apply(t,arguments)};Y.each(t.options.events,(function(e){se.addEventListener(t,e,listener);a[e]=listener}));if(t.options.responsive){listener=function(){t.resize()};se.addEventListener(t,"resize",listener);a.resize=listener}},unbindEvents:function(){var t=this||e;var a=t._listeners;if(a){delete t._listeners;Y.each(a,(function(e,a){se.removeEventListener(t,a,e)}))}},updateHoverStyle:function(t,e,a){var r=a?"set":"remove";var i,n,o;for(n=0,o=t.length;n<o;++n){i=t[n];i&&this.getDatasetMeta(i._datasetIndex).controller[r+"HoverStyle"](i)}"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+r+"DatasetHoverStyle"]()},eventHandler:function(t){var a=this||e;var r=a.tooltip;if(false!==le.notify(a,"beforeEvent",[t])){a._bufferedRender=true;a._bufferedRequest=null;var i=a.handleEvent(t);r&&(i=r._start?r.handleEvent(t):i|r.handleEvent(t));le.notify(a,"afterEvent",[t]);var n=a._bufferedRequest;if(n)a.render(n);else if(i&&!a.animating){a.stop();a.render({duration:a.options.hover.animationDuration,lazy:true})}a._bufferedRender=false;a._bufferedRequest=null;return a}},
/**
     * Handle an event
     * @private
     * @param {IEvent} event the event to handle
     * @return {boolean} true if the chart needs to re-render
     */
handleEvent:function(t){var a=this||e;var r=a.options||{};var i=r.hover;var n=false;a.lastActive=a.lastActive||[];"mouseout"===t.type?a.active=[]:a.active=a.getElementsAtEventForMode(t,i.mode,i);Y.callback(r.onHover||r.hover.onHover,[t.native,a.active],a);"mouseup"!==t.type&&"click"!==t.type||r.onClick&&r.onClick.call(a,t.native,a.active);a.lastActive.length&&a.updateHoverStyle(a.lastActive,i.mode,false);a.active.length&&i.mode&&a.updateHoverStyle(a.active,i.mode,true);n=!Y.arrayEquals(a.active,a.lastActive);a.lastActive=a.active;return n}});Chart.instances={};var me=Chart;
/**
   * Provided for backward compatibility, use Chart instead.
   * @class Chart.Controller
   * @deprecated since version 2.6
   * @todo remove at version 3
   * @private
   */Chart.Controller=Chart;
/**
   * Provided for backward compatibility, not available anymore.
   * @namespace Chart
   * @deprecated since version 2.8
   * @todo remove at version 3
   * @private
   */Chart.types={};
/**
   * Provided for backward compatibility, not available anymore.
   * @namespace Chart.helpers.configMerge
   * @deprecated since version 2.8.0
   * @todo remove at version 3
   * @private
   */Y.configMerge=mergeConfig;
/**
   * Provided for backward compatibility, not available anymore.
   * @namespace Chart.helpers.scaleMerge
   * @deprecated since version 2.8.0
   * @todo remove at version 3
   * @private
   */Y.scaleMerge=mergeScaleConfig;var core_helpers=function(){Y.where=function(t,e){if(Y.isArray(t)&&Array.prototype.filter)return t.filter(e);var a=[];Y.each(t,(function(t){e(t)&&a.push(t)}));return a};Y.findIndex=Array.prototype.findIndex?function(t,e,a){return t.findIndex(e,a)}:function(t,e,a){a=void 0===a?t:a;for(var r=0,i=t.length;r<i;++r)if(e.call(a,t[r],r,t))return r;return-1};Y.findNextWhere=function(t,e,a){Y.isNullOrUndef(a)&&(a=-1);for(var r=a+1;r<t.length;r++){var i=t[r];if(e(i))return i}};Y.findPreviousWhere=function(t,e,a){Y.isNullOrUndef(a)&&(a=t.length);for(var r=a-1;r>=0;r--){var i=t[r];if(e(i))return i}};Y.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};Y.almostEquals=function(t,e,a){return Math.abs(t-e)<a};Y.almostWhole=function(t,e){var a=Math.round(t);return a-e<=t&&a+e>=t};Y.max=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.max(t,e)}),Number.NEGATIVE_INFINITY)};Y.min=function(t){return t.reduce((function(t,e){return isNaN(e)?t:Math.min(t,e)}),Number.POSITIVE_INFINITY)};Y.sign=Math.sign?function(t){return Math.sign(t)}:function(t){t=+t;return 0===t||isNaN(t)?t:t>0?1:-1};Y.toRadians=function(t){return t*(Math.PI/180)};Y.toDegrees=function(t){return t*(180/Math.PI)};
/**
     * Returns the number of decimal places
     * i.e. the number of digits after the decimal point, of the value of this Number.
     * @param {number} x - A number.
     * @returns {number} The number of decimal places.
     * @private
     */Y._decimalPlaces=function(t){if(Y.isFinite(t)){var e=1;var a=0;while(Math.round(t*e)/e!==t){e*=10;a++}return a}};Y.getAngleFromPoint=function(t,e){var a=e.x-t.x;var r=e.y-t.y;var i=Math.sqrt(a*a+r*r);var n=Math.atan2(r,a);n<-.5*Math.PI&&(n+=2*Math.PI);return{angle:n,distance:i}};Y.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};
/**
     * Provided for backward compatibility, not available anymore
     * @function Chart.helpers.aliasPixel
     * @deprecated since version 2.8.0
     * @todo remove at version 3
     */Y.aliasPixel=function(t){return t%2===0?0:.5};
/**
     * Returns the aligned pixel value to avoid anti-aliasing blur
     * @param {Chart} chart - The chart instance.
     * @param {number} pixel - A pixel value.
     * @param {number} width - The width of the element.
     * @returns {number} The aligned pixel value.
     * @private
     */Y._alignPixel=function(t,e,a){var r=t.currentDevicePixelRatio;var i=a/2;return Math.round((e-i)*r)/r+i};Y.splineCurve=function(t,e,a,r){var i=t.skip?e:t;var n=e;var o=a.skip?e:a;var s=Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2));var l=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2));var u=s/(s+l);var d=l/(s+l);u=isNaN(u)?0:u;d=isNaN(d)?0:d;var c=r*u;var h=r*d;return{previous:{x:n.x-c*(o.x-i.x),y:n.y-c*(o.y-i.y)},next:{x:n.x+h*(o.x-i.x),y:n.y+h*(o.y-i.y)}}};Y.EPSILON=Number.EPSILON||1e-14;Y.splineCurveMonotone=function(t){var a=(t||[]).map((function(t){return{model:t._model,deltaK:0,mK:0}}));var r=a.length;var i,n,o,s;for(i=0;i<r;++i){o=a[i];if(!o.model.skip){n=i>0?a[i-1]:null;s=i<r-1?a[i+1]:null;if(s&&!s.model.skip){var l=s.model.x-o.model.x;o.deltaK=0!==l?(s.model.y-o.model.y)/l:0}!n||n.model.skip?o.mK=o.deltaK:!s||s.model.skip?o.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(o.deltaK)?o.mK=0:o.mK=(n.deltaK+o.deltaK)/2}}var u,d,c,h;for(i=0;i<r-1;++i){o=a[i];s=a[i+1];if(!o.model.skip&&!s.model.skip)if(Y.almostEquals(o.deltaK,0,(this||e).EPSILON))o.mK=s.mK=0;else{u=o.mK/o.deltaK;d=s.mK/o.deltaK;h=Math.pow(u,2)+Math.pow(d,2);if(!(h<=9)){c=3/Math.sqrt(h);o.mK=u*c*o.deltaK;s.mK=d*c*o.deltaK}}}var v;for(i=0;i<r;++i){o=a[i];if(!o.model.skip){n=i>0?a[i-1]:null;s=i<r-1?a[i+1]:null;if(n&&!n.model.skip){v=(o.model.x-n.model.x)/3;o.model.controlPointPreviousX=o.model.x-v;o.model.controlPointPreviousY=o.model.y-v*o.mK}if(s&&!s.model.skip){v=(s.model.x-o.model.x)/3;o.model.controlPointNextX=o.model.x+v;o.model.controlPointNextY=o.model.y+v*o.mK}}}};Y.nextItem=function(t,e,a){return a?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]};Y.previousItem=function(t,e,a){return a?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]};Y.niceNum=function(t,e){var a=Math.floor(Y.log10(t));var r=t/Math.pow(10,a);var i;i=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10;return i*Math.pow(10,a)};Y.requestAnimFrame=function(){return"undefined"===typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}();Y.getRelativePosition=function(t,e){var a,r;var i=t.originalEvent||t;var n=t.target||t.srcElement;var o=n.getBoundingClientRect();var s=i.touches;if(s&&s.length>0){a=s[0].clientX;r=s[0].clientY}else{a=i.clientX;r=i.clientY}var l=parseFloat(Y.getStyle(n,"padding-left"));var u=parseFloat(Y.getStyle(n,"padding-top"));var d=parseFloat(Y.getStyle(n,"padding-right"));var c=parseFloat(Y.getStyle(n,"padding-bottom"));var h=o.right-o.left-l-d;var v=o.bottom-o.top-u-c;a=Math.round((a-o.left-l)/h*n.width/e.currentDevicePixelRatio);r=Math.round((r-o.top-u)/v*n.height/e.currentDevicePixelRatio);return{x:a,y:r}};function parseMaxStyle(t,e,a){var r;if("string"===typeof t){r=parseInt(t,10);-1!==t.indexOf("%")&&(r=r/100*e.parentNode[a])}else r=t;return r}function isConstrainedValue(t){return void 0!==t&&null!==t&&"none"!==t}
/**
     * Returns the max width or height of the given DOM node in a cross-browser compatible fashion
     * @param {HTMLElement} domNode - the node to check the constraint on
     * @param {string} maxStyle - the style that defines the maximum for the direction we are using ('max-width' / 'max-height')
     * @param {string} percentageProperty - property of parent to use when calculating width as a percentage
     * @see {@link https://www.nathanaeljones.com/blog/2013/reading-max-width-cross-browser}
     */function getConstraintDimension(t,e,a){var r=document.defaultView;var i=Y._getParentNode(t);var n=r.getComputedStyle(t)[e];var o=r.getComputedStyle(i)[e];var s=isConstrainedValue(n);var l=isConstrainedValue(o);var u=Number.POSITIVE_INFINITY;return s||l?Math.min(s?parseMaxStyle(n,t,a):u,l?parseMaxStyle(o,i,a):u):"none"}Y.getConstraintWidth=function(t){return getConstraintDimension(t,"max-width","clientWidth")};Y.getConstraintHeight=function(t){return getConstraintDimension(t,"max-height","clientHeight")};Y._calculatePadding=function(t,e,a){e=Y.getStyle(t,e);return e.indexOf("%")>-1?a*parseInt(e,10)/100:parseInt(e,10)};Y._getParentNode=function(t){var e=t.parentNode;e&&"[object ShadowRoot]"===e.toString()&&(e=e.host);return e};Y.getMaximumWidth=function(t){var e=Y._getParentNode(t);if(!e)return t.clientWidth;var a=e.clientWidth;var r=Y._calculatePadding(e,"padding-left",a);var i=Y._calculatePadding(e,"padding-right",a);var n=a-r-i;var o=Y.getConstraintWidth(t);return isNaN(o)?n:Math.min(n,o)};Y.getMaximumHeight=function(t){var e=Y._getParentNode(t);if(!e)return t.clientHeight;var a=e.clientHeight;var r=Y._calculatePadding(e,"padding-top",a);var i=Y._calculatePadding(e,"padding-bottom",a);var n=a-r-i;var o=Y.getConstraintHeight(t);return isNaN(o)?n:Math.min(n,o)};Y.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)};Y.retinaScale=function(t,e){var a=t.currentDevicePixelRatio=e||"undefined"!==typeof window&&window.devicePixelRatio||1;if(1!==a){var r=t.canvas;var i=t.height;var n=t.width;r.height=i*a;r.width=n*a;t.ctx.scale(a,a);if(!r.style.height&&!r.style.width){r.style.height=i+"px";r.style.width=n+"px"}}};Y.fontString=function(t,e,a){return e+" "+t+"px "+a};Y.longestText=function(t,e,a,r){r=r||{};var i=r.data=r.data||{};var n=r.garbageCollect=r.garbageCollect||[];if(r.font!==e){i=r.data={};n=r.garbageCollect=[];r.font=e}t.font=e;var o=0;var s=a.length;var l,u,d,c,h;for(l=0;l<s;l++){c=a[l];if(void 0!==c&&null!==c&&true!==Y.isArray(c))o=Y.measureText(t,i,n,o,c);else if(Y.isArray(c))for(u=0,d=c.length;u<d;u++){h=c[u];void 0===h||null===h||Y.isArray(h)||(o=Y.measureText(t,i,n,o,h))}}var v=n.length/2;if(v>a.length){for(l=0;l<v;l++)delete i[n[l]];n.splice(0,v)}return o};Y.measureText=function(t,e,a,r,i){var n=e[i];if(!n){n=e[i]=t.measureText(i).width;a.push(i)}n>r&&(r=n);return r};
/**
     * @deprecated
     */Y.numberOfLabelLines=function(t){var e=1;Y.each(t,(function(t){Y.isArray(t)&&t.length>e&&(e=t.length)}));return e};Y.color=C?function(t){t instanceof CanvasGradient&&(t=V.global.defaultColor);return C(t)}:function(t){console.error("Color.js not found!");return t};Y.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:Y.color(t).saturate(.5).darken(.1).rgbString()}};function abstract(){throw new Error("This method is not implemented: either no adapter can "+"be found or an incomplete integration was provided.")}
/**
   * Currently supported unit string values.
   * @typedef {('millisecond'|'second'|'minute'|'hour'|'day'|'week'|'month'|'quarter'|'year')}
   * @memberof Chart._adapters._date
   * @name Unit
   */function DateAdapter(t){(this||e).options=t||{}}Y.extend(DateAdapter.prototype,{
/**
     * Returns a map of time formats for the supported formatting units defined
     * in Unit as well as 'datetime' representing a detailed date/time string.
     * @returns {{string: string}}
     */
formats:abstract,
/**
     * Parses the given `value` and return the associated timestamp.
     * @param {any} value - the value to parse (usually comes from the data)
     * @param {string} [format] - the expected data format
     * @returns {(number|null)}
     * @function
     */
parse:abstract,
/**
     * Returns the formatted date in the specified `format` for a given `timestamp`.
     * @param {number} timestamp - the timestamp to format
     * @param {string} format - the date/time token
     * @return {string}
     * @function
     */
format:abstract,
/**
     * Adds the specified `amount` of `unit` to the given `timestamp`.
     * @param {number} timestamp - the input timestamp
     * @param {number} amount - the amount to add
     * @param {Unit} unit - the unit as string
     * @return {number}
     * @function
     */
add:abstract,
/**
     * Returns the number of `unit` between the given timestamps.
     * @param {number} max - the input timestamp (reference)
     * @param {number} min - the timestamp to substract
     * @param {Unit} unit - the unit as string
     * @return {number}
     * @function
     */
diff:abstract,
/**
     * Returns start of `unit` for the given `timestamp`.
     * @param {number} timestamp - the input timestamp
     * @param {Unit} unit - the unit as string
     * @param {number} [weekday] - the ISO day of the week with 1 being Monday
     * and 7 being Sunday (only needed if param *unit* is `isoWeek`).
     * @function
     */
startOf:abstract,
/**
     * Returns end of `unit` for the given `timestamp`.
     * @param {number} timestamp - the input timestamp
     * @param {Unit} unit - the unit as string
     * @function
     */
endOf:abstract,
/**
     * Provided for backward compatibility for scale.getValueForPixel(),
     * this method should be overridden only by the moment adapter.
     * @deprecated since version 2.8.0
     * @todo remove at version 3
     * @private
     */
_create:function(t){return t}});DateAdapter.override=function(t){Y.extend(DateAdapter.prototype,t)};var be=DateAdapter;var xe={_date:be};var ye={formatters:{
/**
       * Formatter for value labels
       * @method Chart.Ticks.formatters.values
       * @param value the value to display
       * @return {string|string[]} the label to display
       */
values:function(t){return Y.isArray(t)?t:""+t},
/**
       * Formatter for linear numeric ticks
       * @method Chart.Ticks.formatters.linear
       * @param tickValue {number} the value to be formatted
       * @param index {number} the position of the tickValue parameter in the ticks array
       * @param ticks {number[]} the list of ticks being converted
       * @return {string} string representation of the tickValue parameter
       */
linear:function(t,e,a){var r=a.length>3?a[2]-a[1]:a[1]-a[0];Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));var i=Y.log10(Math.abs(r));var n="";if(0!==t){var o=Math.max(Math.abs(a[0]),Math.abs(a[a.length-1]));if(o<1e-4){var s=Y.log10(Math.abs(t));var l=Math.floor(s)-Math.floor(i);l=Math.max(Math.min(l,20),0);n=t.toExponential(l)}else{var u=-1*Math.floor(i);u=Math.max(Math.min(u,20),0);n=t.toFixed(u)}}else n="0";return n},logarithmic:function(t,e,a){var r=t/Math.pow(10,Math.floor(Y.log10(t)));return 0===t?"0":1===r||2===r||5===r||0===e||e===a.length-1?t.toExponential():""}}};var _e=Y.isArray;var ke=Y.isNullOrUndef;var we=Y.valueOrDefault;var Me=Y.valueAtIndexOrDefault;V._set("scale",{display:true,position:"left",offset:false,gridLines:{display:true,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:false,borderDash:[],borderDashOffset:0},scaleLabel:{display:false,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:ye.formatters.values,minor:{},major:{}}});function sample(t,e){var a=[];var r=t.length/e;var i=0;var n=t.length;for(;i<n;i+=r)a.push(t[Math.floor(i)]);return a}function getPixelForGridLine(t,e,a){var r=t.getTicks().length;var i=Math.min(e,r-1);var n=t.getPixelForTick(i);var o=t._startPixel;var s=t._endPixel;var l=1e-6;var u;if(a){u=1===r?Math.max(n-o,s-n):0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(i-1))/2;n+=i<e?u:-u;if(n<o-l||n>s+l)return}return n}function garbageCollect(t,e){Y.each(t,(function(t){var a=t.gc;var r=a.length/2;var i;if(r>e){for(i=0;i<r;++i)delete t.data[a[i]];a.splice(0,r)}}))}function computeLabelSizes(t,e,a,r){var i=a.length;var n=[];var o=[];var s=[];var l=0;var u=0;var d,c,h,v,f,g,p,m,b,x,y,_,k;for(d=0;d<i;++d){v=a[d].label;f=a[d].major?e.major:e.minor;t.font=g=f.string;p=r[g]=r[g]||{data:{},gc:[]};m=f.lineHeight;b=x=0;if(ke(v)||_e(v)){if(_e(v))for(c=0,h=v.length;c<h;++c){y=v[c];if(!ke(y)&&!_e(y)){b=Y.measureText(t,p.data,p.gc,b,y);x+=m}}}else{b=Y.measureText(t,p.data,p.gc,b,v);x=m}n.push(b);o.push(x);s.push(m/2);l=Math.max(b,l);u=Math.max(x,u)}garbageCollect(r,i);_=n.indexOf(l);k=o.indexOf(u);function valueAt(t){return{width:n[t]||0,height:o[t]||0,offset:s[t]||0}}return{first:valueAt(0),last:valueAt(i-1),widest:valueAt(_),highest:valueAt(k)}}function getTickMarkLength(t){return t.drawTicks?t.tickMarkLength:0}function getScaleLabelHeight(t){var e,a;if(!t.display)return 0;e=Y.options._parseFont(t);a=Y.options.toPadding(t.padding);return e.lineHeight+a.height}function parseFontOptions(t,e){return Y.extend(Y.options._parseFont({fontFamily:we(e.fontFamily,t.fontFamily),fontSize:we(e.fontSize,t.fontSize),fontStyle:we(e.fontStyle,t.fontStyle),lineHeight:we(e.lineHeight,t.lineHeight)}),{color:Y.options.resolve([e.fontColor,t.fontColor,V.global.defaultFontColor])})}function parseTickFontOptions(t){var e=parseFontOptions(t,t.minor);var a=t.major.enabled?parseFontOptions(t,t.major):e;return{minor:e,major:a}}function nonSkipped(t){var e=[];var a,r,i;for(r=0,i=t.length;r<i;++r){a=t[r];"undefined"!==typeof a._index&&e.push(a)}return e}function getEvenSpacing(t){var e=t.length;var a,r;if(e<2)return false;for(r=t[0],a=1;a<e;++a)if(t[a]-t[a-1]!==r)return false;return r}function calculateSpacing(t,e,a,r){var i=getEvenSpacing(t);var n=(e.length-1)/r;var o,s,l,u;if(!i)return Math.max(n,1);o=Y.math._factorize(i);for(l=0,u=o.length-1;l<u;l++){s=o[l];if(s>n)return s}return Math.max(n,1)}function getMajorIndices(t){var e=[];var a,r;for(a=0,r=t.length;a<r;a++)t[a].major&&e.push(a);return e}function skipMajors(t,e,a){var r=0;var i=e[0];var n,o;a=Math.ceil(a);for(n=0;n<t.length;n++){o=t[n];if(n===i){o._index=n;r++;i=e[r*a]}else delete o.label}}function skip(t,e,a,r){var i=we(a,0);var n=Math.min(we(r,t.length),t.length);var o=0;var s,l,u,d;e=Math.ceil(e);if(r){s=r-a;e=s/Math.floor(s/e)}d=i;while(d<0){o++;d=Math.round(i+o*e)}for(l=Math.max(i,0);l<n;l++){u=t[l];if(l===d){u._index=l;o++;d=Math.round(i+o*e)}else delete u.label}}var Se=J.extend({zeroLineIndex:0,
/**
     * Get the padding needed for the scale
     * @method getPadding
     * @private
     * @returns {Padding} the necessary padding
     */
getPadding:function(){var t=this||e;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return(this||e)._ticks},_getLabels:function(){var t=(this||e).chart.data;return(this||e).options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},
/**
     * Provided for backward compatibility, not available anymore
     * @function Chart.Scale.mergeTicksOptions
     * @deprecated since version 2.8.0
     * @todo remove at version 3
     */
mergeTicksOptions:function(){},beforeUpdate:function(){Y.callback((this||e).options.beforeUpdate,[this||e])},
/**
     * @param {number} maxWidth - the max width in pixels
     * @param {number} maxHeight - the max height in pixels
     * @param {object} margins - the space between the edge of the other scales and edge of the chart
     *   This space comes from two sources:
     *     - padding - space that's required to show the labels at the edges of the scale
     *     - thickness of scales or legends in another orientation
     */
update:function(t,a,r){var i=this||e;var n=i.options.ticks;var o=n.sampleSize;var s,l,u,d,c;i.beforeUpdate();i.maxWidth=t;i.maxHeight=a;i.margins=Y.extend({left:0,right:0,top:0,bottom:0},r);i._ticks=null;i.ticks=null;i._labelSizes=null;i._maxLabelLines=0;i.longestLabelWidth=0;i.longestTextCache=i.longestTextCache||{};i._gridLineItems=null;i._labelItems=null;i.beforeSetDimensions();i.setDimensions();i.afterSetDimensions();i.beforeDataLimits();i.determineDataLimits();i.afterDataLimits();i.beforeBuildTicks();d=i.buildTicks()||[];d=i.afterBuildTicks(d)||d;if((!d||!d.length)&&i.ticks){d=[];for(s=0,l=i.ticks.length;s<l;++s)d.push({value:i.ticks[s],major:false})}i._ticks=d;c=o<d.length;u=i._convertTicksToLabels(c?sample(d,o):d);i._configure();i.beforeCalculateTickRotation();i.calculateTickRotation();i.afterCalculateTickRotation();i.beforeFit();i.fit();i.afterFit();i._ticksToDraw=n.display&&(n.autoSkip||"auto"===n.source)?i._autoSkip(d):d;c&&(u=i._convertTicksToLabels(i._ticksToDraw));i.ticks=u;i.afterUpdate();return i.minSize},_configure:function(){var t=this||e;var a=t.options.ticks.reverse;var r,i;if(t.isHorizontal()){r=t.left;i=t.right}else{r=t.top;i=t.bottom;a=!a}t._startPixel=r;t._endPixel=i;t._reversePixels=a;t._length=i-r},afterUpdate:function(){Y.callback((this||e).options.afterUpdate,[this||e])},beforeSetDimensions:function(){Y.callback((this||e).options.beforeSetDimensions,[this||e])},setDimensions:function(){var t=this||e;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0},afterSetDimensions:function(){Y.callback((this||e).options.afterSetDimensions,[this||e])},beforeDataLimits:function(){Y.callback((this||e).options.beforeDataLimits,[this||e])},determineDataLimits:Y.noop,afterDataLimits:function(){Y.callback((this||e).options.afterDataLimits,[this||e])},beforeBuildTicks:function(){Y.callback((this||e).options.beforeBuildTicks,[this||e])},buildTicks:Y.noop,afterBuildTicks:function(t){var a=this||e;if(_e(t)&&t.length)return Y.callback(a.options.afterBuildTicks,[a,t]);a.ticks=Y.callback(a.options.afterBuildTicks,[a,a.ticks])||a.ticks;return t},beforeTickToLabelConversion:function(){Y.callback((this||e).options.beforeTickToLabelConversion,[this||e])},convertTicksToLabels:function(){var t=this||e;var a=t.options.ticks;t.ticks=t.ticks.map(a.userCallback||a.callback,this||e)},afterTickToLabelConversion:function(){Y.callback((this||e).options.afterTickToLabelConversion,[this||e])},beforeCalculateTickRotation:function(){Y.callback((this||e).options.beforeCalculateTickRotation,[this||e])},calculateTickRotation:function(){var t=this||e;var a=t.options;var r=a.ticks;var i=t.getTicks().length;var n=r.minRotation||0;var o=r.maxRotation;var s=n;var l,u,d,c,h,v,f;if(!t._isVisible()||!r.display||n>=o||i<=1||!t.isHorizontal())t.labelRotation=n;else{l=t._getLabelSizes();u=l.widest.width;d=l.highest.height-l.highest.offset;c=Math.min(t.maxWidth,t.chart.width-u);h=a.offset?t.maxWidth/i:c/(i-1);if(u+6>h){h=c/(i-(a.offset?.5:1));v=t.maxHeight-getTickMarkLength(a.gridLines)-r.padding-getScaleLabelHeight(a.scaleLabel);f=Math.sqrt(u*u+d*d);s=Y.toDegrees(Math.min(Math.asin(Math.min((l.highest.height+6)/h,1)),Math.asin(Math.min(v/f,1))-Math.asin(d/f)));s=Math.max(n,Math.min(o,s))}t.labelRotation=s}},afterCalculateTickRotation:function(){Y.callback((this||e).options.afterCalculateTickRotation,[this||e])},beforeFit:function(){Y.callback((this||e).options.beforeFit,[this||e])},fit:function(){var t=this||e;var a=t.minSize={width:0,height:0};var r=t.chart;var i=t.options;var n=i.ticks;var o=i.scaleLabel;var s=i.gridLines;var l=t._isVisible();var u="bottom"===i.position;var d=t.isHorizontal();d?a.width=t.maxWidth:l&&(a.width=getTickMarkLength(s)+getScaleLabelHeight(o));d?l&&(a.height=getTickMarkLength(s)+getScaleLabelHeight(o)):a.height=t.maxHeight;if(n.display&&l){var c=parseTickFontOptions(n);var h=t._getLabelSizes();var v=h.first;var f=h.last;var g=h.widest;var p=h.highest;var m=.4*c.minor.lineHeight;var b=n.padding;if(d){var x=0!==t.labelRotation;var y=Y.toRadians(t.labelRotation);var _=Math.cos(y);var k=Math.sin(y);var w=k*g.width+_*(p.height-(x?p.offset:0))+(x?0:m);a.height=Math.min(t.maxHeight,a.height+w+b);var M=t.getPixelForTick(0)-t.left;var S=t.right-t.getPixelForTick(t.getTicks().length-1);var C,A;if(x){C=u?_*v.width+k*v.offset:k*(v.height-v.offset);A=u?k*(f.height-f.offset):_*f.width+k*f.offset}else{C=v.width/2;A=f.width/2}t.paddingLeft=Math.max((C-M)*t.width/(t.width-M),0)+3;t.paddingRight=Math.max((A-S)*t.width/(t.width-S),0)+3}else{var P=n.mirror?0:g.width+b+m;a.width=Math.min(t.maxWidth,a.width+P);t.paddingTop=v.height/2;t.paddingBottom=f.height/2}}t.handleMargins();if(d){t.width=t._length=r.width-t.margins.left-t.margins.right;t.height=a.height}else{t.width=a.width;t.height=t._length=r.height-t.margins.top-t.margins.bottom}},handleMargins:function(){var t=this||e;if(t.margins){t.margins.left=Math.max(t.paddingLeft,t.margins.left);t.margins.top=Math.max(t.paddingTop,t.margins.top);t.margins.right=Math.max(t.paddingRight,t.margins.right);t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom)}},afterFit:function(){Y.callback((this||e).options.afterFit,[this||e])},isHorizontal:function(){var t=(this||e).options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return(this||e).options.fullWidth},getRightValue:function(t){if(ke(t))return NaN;if(("number"===typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var a=this||e;var r,i,n;a.ticks=t.map((function(t){return t.value}));a.beforeTickToLabelConversion();r=a.convertTicksToLabels(t)||a.ticks;a.afterTickToLabelConversion();for(i=0,n=t.length;i<n;++i)t[i].label=r[i];return r},_getLabelSizes:function(){var t=this||e;var a=t._labelSizes;if(!a){t._labelSizes=a=computeLabelSizes(t.ctx,parseTickFontOptions(t.options.ticks),t.getTicks(),t.longestTextCache);t.longestLabelWidth=a.widest.width}return a},_parseValue:function(t){var e,a,r,i;if(_e(t)){e=+this.getRightValue(t[0]);a=+this.getRightValue(t[1]);r=Math.min(e,a);i=Math.max(e,a)}else{t=+this.getRightValue(t);e=void 0;a=t;r=t;i=t}return{min:r,max:i,start:e,end:a}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},
/**
     * Used to get the value to display in the tooltip for the data at the given index
     * @param index
     * @param datasetIndex
     */
getLabelForIndex:Y.noop,
/**
     * Returns the location of the given data point. Value can either be an index or a numerical value
     * The coordinate (0, 0) is at the upper-left corner of the canvas
     * @param value
     * @param index
     * @param datasetIndex
     */
getPixelForValue:Y.noop,
/**
     * Used to get the data value from a given pixel. This is the inverse of getPixelForValue
     * The coordinate (0, 0) is at the upper-left corner of the canvas
     * @param pixel
     */
getValueForPixel:Y.noop,getPixelForTick:function(t){var a=this||e;var r=a.options.offset;var i=a._ticks.length;var n=1/Math.max(i-(r?0:1),1);return t<0||t>i-1?null:a.getPixelForDecimal(t*n+(r?n/2:0))},getPixelForDecimal:function(t){var a=this||e;a._reversePixels&&(t=1-t);return a._startPixel+t*a._length},getDecimalForPixel:function(t){var a=(t-(this||e)._startPixel)/(this||e)._length;return(this||e)._reversePixels?1-a:a},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this||e;var a=t.min;var r=t.max;return t.beginAtZero?0:a<0&&r<0?r:a>0&&r>0?a:0},_autoSkip:function(t){var a=this||e;var r=a.options.ticks;var i=a._length;var n=r.maxTicksLimit||i/a._tickSize()+1;var o=r.major.enabled?getMajorIndices(t):[];var s=o.length;var l=o[0];var u=o[s-1];var d,c,h,v;if(s>n){skipMajors(t,o,s/n);return nonSkipped(t)}h=calculateSpacing(o,t,i,n);if(s>0){for(d=0,c=s-1;d<c;d++)skip(t,h,o[d],o[d+1]);v=s>1?(u-l)/(s-1):null;skip(t,h,Y.isNullOrUndef(v)?0:l-v,l);skip(t,h,u,Y.isNullOrUndef(v)?t.length:u+v);return nonSkipped(t)}skip(t,h);return nonSkipped(t)},_tickSize:function(){var t=this||e;var a=t.options.ticks;var r=Y.toRadians(t.labelRotation);var i=Math.abs(Math.cos(r));var n=Math.abs(Math.sin(r));var o=t._getLabelSizes();var s=a.autoSkipPadding||0;var l=o?o.widest.width+s:0;var u=o?o.highest.height+s:0;return t.isHorizontal()?u*i>l*n?l/i:u/n:u*n<l*i?u/i:l/n},_isVisible:function(){var t=this||e;var a=t.chart;var r=t.options.display;var i,n,o;if("auto"!==r)return!!r;for(i=0,n=a.data.datasets.length;i<n;++i)if(a.isDatasetVisible(i)){o=a.getDatasetMeta(i);if(o.xAxisID===t.id||o.yAxisID===t.id)return true}return false},_computeGridLineItems:function(t){var a=this||e;var r=a.chart;var i=a.options;var n=i.gridLines;var o=i.position;var s=n.offsetGridLines;var l=a.isHorizontal();var u=a._ticksToDraw;var d=u.length+(s?1:0);var c=getTickMarkLength(n);var h=[];var v=n.drawBorder?Me(n.lineWidth,0,0):0;var f=v/2;var g=Y._alignPixel;var alignBorderValue=function(t){return g(r,t,v)};var p,m,b,x,y;var _,k,w,M,S,C,A,P,D,T,I,F;if("top"===o){p=alignBorderValue(a.bottom);k=a.bottom-c;M=p-f;C=alignBorderValue(t.top)+f;P=t.bottom}else if("bottom"===o){p=alignBorderValue(a.top);C=t.top;P=alignBorderValue(t.bottom)-f;k=p+f;M=a.top+c}else if("left"===o){p=alignBorderValue(a.right);_=a.right-c;w=p-f;S=alignBorderValue(t.left)+f;A=t.right}else{p=alignBorderValue(a.left);S=t.left;A=alignBorderValue(t.right)-f;_=p+f;w=a.left+c}for(m=0;m<d;++m){b=u[m]||{};if(!(ke(b.label)&&m<u.length)){if(m===a.zeroLineIndex&&i.offset===s){D=n.zeroLineWidth;T=n.zeroLineColor;I=n.zeroLineBorderDash||[];F=n.zeroLineBorderDashOffset||0}else{D=Me(n.lineWidth,m,1);T=Me(n.color,m,"rgba(0,0,0,0.1)");I=n.borderDash||[];F=n.borderDashOffset||0}x=getPixelForGridLine(a,b._index||m,s);if(void 0!==x){y=g(r,x,D);l?_=w=S=A=y:k=M=C=P=y;h.push({tx1:_,ty1:k,tx2:w,ty2:M,x1:S,y1:C,x2:A,y2:P,width:D,color:T,borderDash:I,borderDashOffset:F})}}}h.ticksLength=d;h.borderValue=p;return h},_computeLabelItems:function(){var t=this||e;var a=t.options;var r=a.ticks;var i=a.position;var n=r.mirror;var o=t.isHorizontal();var s=t._ticksToDraw;var l=parseTickFontOptions(r);var u=r.padding;var d=getTickMarkLength(a.gridLines);var c=-Y.toRadians(t.labelRotation);var h=[];var v,f,g,p,m,b,x,y,_,k,w,M;if("top"===i){b=t.bottom-d-u;x=c?"left":"center"}else if("bottom"===i){b=t.top+d+u;x=c?"right":"center"}else if("left"===i){m=t.right-(n?0:d)-u;x=n?"left":"right"}else{m=t.left+(n?0:d)+u;x=n?"right":"left"}for(v=0,f=s.length;v<f;++v){g=s[v];p=g.label;if(!ke(p)){y=t.getPixelForTick(g._index||v)+r.labelOffset;_=g.major?l.major:l.minor;k=_.lineHeight;w=_e(p)?p.length:1;if(o){m=y;M="top"===i?((c?1:.5)-w)*k:(c?0:.5)*k}else{b=y;M=(1-w)*k/2}h.push({x:m,y:b,rotation:c,label:p,font:_,textOffset:M,textAlign:x})}}return h},_drawGrid:function(t){var a=this||e;var r=a.options.gridLines;if(r.display){var i=a.ctx;var n=a.chart;var o=Y._alignPixel;var s=r.drawBorder?Me(r.lineWidth,0,0):0;var l=a._gridLineItems||(a._gridLineItems=a._computeGridLineItems(t));var u,d,c,h,v;for(c=0,h=l.length;c<h;++c){v=l[c];u=v.width;d=v.color;if(u&&d){i.save();i.lineWidth=u;i.strokeStyle=d;if(i.setLineDash){i.setLineDash(v.borderDash);i.lineDashOffset=v.borderDashOffset}i.beginPath();if(r.drawTicks){i.moveTo(v.tx1,v.ty1);i.lineTo(v.tx2,v.ty2)}if(r.drawOnChartArea){i.moveTo(v.x1,v.y1);i.lineTo(v.x2,v.y2)}i.stroke();i.restore()}}if(s){var f=s;var g=Me(r.lineWidth,l.ticksLength-1,1);var p=l.borderValue;var m,b,x,y;if(a.isHorizontal()){m=o(n,a.left,f)-f/2;b=o(n,a.right,g)+g/2;x=y=p}else{x=o(n,a.top,f)-f/2;y=o(n,a.bottom,g)+g/2;m=b=p}i.lineWidth=s;i.strokeStyle=Me(r.color,0);i.beginPath();i.moveTo(m,x);i.lineTo(b,y);i.stroke()}}},_drawLabels:function(){var t=this||e;var a=t.options.ticks;if(a.display){var r=t.ctx;var i=t._labelItems||(t._labelItems=t._computeLabelItems());var n,o,s,l,u,d,c,h;for(n=0,s=i.length;n<s;++n){u=i[n];d=u.font;r.save();r.translate(u.x,u.y);r.rotate(u.rotation);r.font=d.string;r.fillStyle=d.color;r.textBaseline="middle";r.textAlign=u.textAlign;c=u.label;h=u.textOffset;if(_e(c))for(o=0,l=c.length;o<l;++o){r.fillText(""+c[o],0,h);h+=d.lineHeight}else r.fillText(c,0,h);r.restore()}}},_drawTitle:function(){var t=this||e;var a=t.ctx;var r=t.options;var i=r.scaleLabel;if(i.display){var n=we(i.fontColor,V.global.defaultFontColor);var o=Y.options._parseFont(i);var s=Y.options.toPadding(i.padding);var l=o.lineHeight/2;var u=r.position;var d=0;var c,h;if(t.isHorizontal()){c=t.left+t.width/2;h="bottom"===u?t.bottom-l-s.bottom:t.top+l+s.top}else{var v="left"===u;c=v?t.left+l+s.top:t.right-l-s.top;h=t.top+t.height/2;d=v?-.5*Math.PI:.5*Math.PI}a.save();a.translate(c,h);a.rotate(d);a.textAlign="center";a.textBaseline="middle";a.fillStyle=n;a.font=o.string;a.fillText(i.labelString,0,0);a.restore()}},draw:function(t){var a=this||e;if(a._isVisible()){a._drawGrid(t);a._drawTitle();a._drawLabels()}},_layers:function(){var t=this||e;var a=t.options;var r=a.ticks&&a.ticks.z||0;var i=a.gridLines&&a.gridLines.z||0;return t._isVisible()&&r!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments);t._drawTitle.apply(t,arguments)}},{z:r,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:r,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var a=this||e;var r=a.isHorizontal();return a.chart._getSortedVisibleDatasetMetas().filter((function(e){return(!t||e.type===t)&&(r?e.xAxisID===a.id:e.yAxisID===a.id)}))}});Se.prototype._draw=Se.prototype.draw;var Ce=Se;var Ae=Y.isNullOrUndef;var Pe={position:"bottom"};var De=Ce.extend({determineDataLimits:function(){var t=this||e;var a=t._getLabels();var r=t.options.ticks;var i=r.min;var n=r.max;var o=0;var s=a.length-1;var l;if(void 0!==i){l=a.indexOf(i);l>=0&&(o=l)}if(void 0!==n){l=a.indexOf(n);l>=0&&(s=l)}t.minIndex=o;t.maxIndex=s;t.min=a[o];t.max=a[s]},buildTicks:function(){var t=this||e;var a=t._getLabels();var r=t.minIndex;var i=t.maxIndex;t.ticks=0===r&&i===a.length-1?a:a.slice(r,i+1)},getLabelForIndex:function(t,a){var r=this||e;var i=r.chart;return i.getDatasetMeta(a).controller._getValueScaleId()===r.id?r.getRightValue(i.data.datasets[a].data[t]):r._getLabels()[t]},_configure:function(){var t=this||e;var a=t.options.offset;var r=t.ticks;Ce.prototype._configure.call(t);t.isHorizontal()||(t._reversePixels=!t._reversePixels);if(r){t._startValue=t.minIndex-(a?.5:0);t._valueRange=Math.max(r.length-(a?0:1),1)}},getPixelForValue:function(t,a,r){var i=this||e;var n,o,s;Ae(a)||Ae(r)||(t=i.chart.data.datasets[r].data[a]);Ae(t)||(n=i.isHorizontal()?t.x:t.y);if(void 0!==n||void 0!==t&&isNaN(a)){o=i._getLabels();t=Y.valueOrDefault(n,t);s=o.indexOf(t);a=-1!==s?s:a;isNaN(a)&&(a=t)}return i.getPixelForDecimal((a-i._startValue)/i._valueRange)},getPixelForTick:function(t){var a=(this||e).ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t],t+(this||e).minIndex)},getValueForPixel:function(t){var a=this||e;var r=Math.round(a._startValue+a.getDecimalForPixel(t)*a._valueRange);return Math.min(Math.max(r,0),a.ticks.length-1)},getBasePixel:function(){return(this||e).bottom}});var Te=Pe;De._defaults=Te;var Ie=Y.noop;var Fe=Y.isNullOrUndef;
/**
   * Generate a set of linear ticks
   * @param generationOptions the options used to generate the ticks
   * @param dataRange the range of the data
   * @returns {number[]} array of tick values
   */function generateTicks(t,e){var a=[];var r=1e-14;var i=t.stepSize;var n=i||1;var o=t.maxTicks-1;var s=t.min;var l=t.max;var u=t.precision;var d=e.min;var c=e.max;var h=Y.niceNum((c-d)/o/n)*n;var v,f,g,p;if(h<r&&Fe(s)&&Fe(l))return[d,c];p=Math.ceil(c/h)-Math.floor(d/h);p>o&&(h=Y.niceNum(p*h/o/n)*n);if(i||Fe(u))v=Math.pow(10,Y._decimalPlaces(h));else{v=Math.pow(10,u);h=Math.ceil(h*v)/v}f=Math.floor(d/h)*h;g=Math.ceil(c/h)*h;if(i){!Fe(s)&&Y.almostWhole(s/h,h/1e3)&&(f=s);!Fe(l)&&Y.almostWhole(l/h,h/1e3)&&(g=l)}p=(g-f)/h;p=Y.almostEquals(p,Math.round(p),h/1e3)?Math.round(p):Math.ceil(p);f=Math.round(f*v)/v;g=Math.round(g*v)/v;a.push(Fe(s)?f:s);for(var m=1;m<p;++m)a.push(Math.round((f+m*h)*v)/v);a.push(Fe(l)?g:l);return a}var Le=Ce.extend({getRightValue:function(t){return"string"===typeof t?+t:Ce.prototype.getRightValue.call(this||e,t)},handleTickRangeOptions:function(){var t=this||e;var a=t.options;var r=a.ticks;if(r.beginAtZero){var i=Y.sign(t.min);var n=Y.sign(t.max);i<0&&n<0?t.max=0:i>0&&n>0&&(t.min=0)}var o=void 0!==r.min||void 0!==r.suggestedMin;var s=void 0!==r.max||void 0!==r.suggestedMax;void 0!==r.min?t.min=r.min:void 0!==r.suggestedMin&&(null===t.min?t.min=r.suggestedMin:t.min=Math.min(t.min,r.suggestedMin));void 0!==r.max?t.max=r.max:void 0!==r.suggestedMax&&(null===t.max?t.max=r.suggestedMax:t.max=Math.max(t.max,r.suggestedMax));o!==s&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1);if(t.min===t.max){t.max++;r.beginAtZero||t.min--}},getTickLimit:function(){var t=this||e;var a=t.options.ticks;var r=a.stepSize;var i=a.maxTicksLimit;var n;if(r)n=Math.ceil(t.max/r)-Math.floor(t.min/r)+1;else{n=t._computeTickLimit();i=i||11}i&&(n=Math.min(i,n));return n},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Ie,buildTicks:function(){var t=this||e;var a=t.options;var r=a.ticks;var i=t.getTickLimit();i=Math.max(2,i);var n={maxTicks:i,min:r.min,max:r.max,precision:r.precision,stepSize:Y.valueOrDefault(r.fixedStepSize,r.stepSize)};var o=t.ticks=generateTicks(n,t);t.handleDirectionalChanges();t.max=Y.max(o);t.min=Y.min(o);if(r.reverse){o.reverse();t.start=t.max;t.end=t.min}else{t.start=t.min;t.end=t.max}},convertTicksToLabels:function(){var t=this||e;t.ticksAsNumbers=t.ticks.slice();t.zeroLineIndex=t.ticks.indexOf(0);Ce.prototype.convertTicksToLabels.call(t)},_configure:function(){var t=this||e;var a=t.getTicks();var r=t.min;var i=t.max;var n;Ce.prototype._configure.call(t);if(t.options.offset&&a.length){n=(i-r)/Math.max(a.length-1,1)/2;r-=n;i+=n}t._startValue=r;t._endValue=i;t._valueRange=i-r}});var Oe={position:"left",ticks:{callback:ye.formatters.linear}};var Re=0;var Be=1;function getOrCreateStack(t,e,a){var r=[a.type,void 0===e&&void 0===a.stack?a.index:"",a.stack].join(".");void 0===t[r]&&(t[r]={pos:[],neg:[]});return t[r]}function stackData(t,e,a,r){var i=t.options;var n=i.stacked;var o=getOrCreateStack(e,n,a);var s=o.pos;var l=o.neg;var u=r.length;var d,c;for(d=0;d<u;++d){c=t._parseValue(r[d]);if(!(isNaN(c.min)||isNaN(c.max)||a.data[d].hidden)){s[d]=s[d]||0;l[d]=l[d]||0;i.relativePoints?s[d]=100:c.min<0||c.max<0?l[d]+=c.min:s[d]+=c.max}}}function updateMinMax(t,e,a){var r=a.length;var i,n;for(i=0;i<r;++i){n=t._parseValue(a[i]);if(!(isNaN(n.min)||isNaN(n.max)||e.data[i].hidden)){t.min=Math.min(t.min,n.min);t.max=Math.max(t.max,n.max)}}}var Ne=Le.extend({determineDataLimits:function(){var t=this||e;var a=t.options;var r=t.chart;var i=r.data.datasets;var n=t._getMatchingVisibleMetas();var o=a.stacked;var s={};var l=n.length;var u,d,c,h;t.min=Number.POSITIVE_INFINITY;t.max=Number.NEGATIVE_INFINITY;if(void 0===o)for(u=0;!o&&u<l;++u){d=n[u];o=void 0!==d.stack}for(u=0;u<l;++u){d=n[u];c=i[d.index].data;o?stackData(t,s,d,c):updateMinMax(t,d,c)}Y.each(s,(function(e){h=e.pos.concat(e.neg);t.min=Math.min(t.min,Y.min(h));t.max=Math.max(t.max,Y.max(h))}));t.min=Y.isFinite(t.min)&&!isNaN(t.min)?t.min:Re;t.max=Y.isFinite(t.max)&&!isNaN(t.max)?t.max:Be;t.handleTickRangeOptions()},_computeTickLimit:function(){var t=this||e;var a;if(t.isHorizontal())return Math.ceil(t.width/40);a=Y.options._parseFont(t.options.ticks);return Math.ceil(t.height/a.lineHeight)},handleDirectionalChanges:function(){this.isHorizontal()||(this||e).ticks.reverse()},getLabelForIndex:function(t,a){return this._getScaleLabel((this||e).chart.data.datasets[a].data[t])},getPixelForValue:function(t){var a=this||e;return a.getPixelForDecimal((+a.getRightValue(t)-a._startValue)/a._valueRange)},getValueForPixel:function(t){return(this||e)._startValue+this.getDecimalForPixel(t)*(this||e)._valueRange},getPixelForTick:function(t){var a=(this||e).ticksAsNumbers;return t<0||t>a.length-1?null:this.getPixelForValue(a[t])}});var ze=Oe;Ne._defaults=ze;var Ee=Y.valueOrDefault;var Ve=Y.math.log10;
/**
   * Generate a set of logarithmic ticks
   * @param generationOptions the options used to generate the ticks
   * @param dataRange the range of the data
   * @returns {number[]} array of tick values
   */function generateTicks$1(t,e){var a=[];var r=Ee(t.min,Math.pow(10,Math.floor(Ve(e.min))));var i=Math.floor(Ve(e.max));var n=Math.ceil(e.max/Math.pow(10,i));var o,s;if(0===r){o=Math.floor(Ve(e.minNotZero));s=Math.floor(e.minNotZero/Math.pow(10,o));a.push(r);r=s*Math.pow(10,o)}else{o=Math.floor(Ve(r));s=Math.floor(r/Math.pow(10,o))}var l=o<0?Math.pow(10,Math.abs(o)):1;do{a.push(r);++s;if(10===s){s=1;++o;l=o>=0?1:l}r=Math.round(s*Math.pow(10,o)*l)/l}while(o<i||o===i&&s<n);var u=Ee(t.max,r);a.push(u);return a}var We={position:"left",ticks:{callback:ye.formatters.logarithmic}};function nonNegativeOrDefault(t,e){return Y.isFinite(t)&&t>=0?t:e}var He=Ce.extend({determineDataLimits:function(){var t=this||e;var a=t.options;var r=t.chart;var i=r.data.datasets;var n=t.isHorizontal();function IDMatches(e){return n?e.xAxisID===t.id:e.yAxisID===t.id}var o,s,l,u,d,c;t.min=Number.POSITIVE_INFINITY;t.max=Number.NEGATIVE_INFINITY;t.minNotZero=Number.POSITIVE_INFINITY;var h=a.stacked;if(void 0===h)for(o=0;o<i.length;o++){s=r.getDatasetMeta(o);if(r.isDatasetVisible(o)&&IDMatches(s)&&void 0!==s.stack){h=true;break}}if(a.stacked||h){var v={};for(o=0;o<i.length;o++){s=r.getDatasetMeta(o);var f=[s.type,void 0===a.stacked&&void 0===s.stack?o:"",s.stack].join(".");if(r.isDatasetVisible(o)&&IDMatches(s)){void 0===v[f]&&(v[f]=[]);u=i[o].data;for(d=0,c=u.length;d<c;d++){var g=v[f];l=t._parseValue(u[d]);if(!(isNaN(l.min)||isNaN(l.max)||s.data[d].hidden||l.min<0||l.max<0)){g[d]=g[d]||0;g[d]+=l.max}}}}Y.each(v,(function(e){if(e.length>0){var a=Y.min(e);var r=Y.max(e);t.min=Math.min(t.min,a);t.max=Math.max(t.max,r)}}))}else for(o=0;o<i.length;o++){s=r.getDatasetMeta(o);if(r.isDatasetVisible(o)&&IDMatches(s)){u=i[o].data;for(d=0,c=u.length;d<c;d++){l=t._parseValue(u[d]);if(!(isNaN(l.min)||isNaN(l.max)||s.data[d].hidden||l.min<0||l.max<0)){t.min=Math.min(l.min,t.min);t.max=Math.max(l.max,t.max);0!==l.min&&(t.minNotZero=Math.min(l.min,t.minNotZero))}}}}t.min=Y.isFinite(t.min)?t.min:null;t.max=Y.isFinite(t.max)?t.max:null;t.minNotZero=Y.isFinite(t.minNotZero)?t.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this||e;var a=t.options.ticks;var r=1;var i=10;t.min=nonNegativeOrDefault(a.min,t.min);t.max=nonNegativeOrDefault(a.max,t.max);if(t.min===t.max)if(0!==t.min&&null!==t.min){t.min=Math.pow(10,Math.floor(Ve(t.min))-1);t.max=Math.pow(10,Math.floor(Ve(t.max))+1)}else{t.min=r;t.max=i}null===t.min&&(t.min=Math.pow(10,Math.floor(Ve(t.max))-1));null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Ve(t.min))+1):i);null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Ve(t.max))):t.minNotZero=r)},buildTicks:function(){var t=this||e;var a=t.options.ticks;var r=!t.isHorizontal();var i={min:nonNegativeOrDefault(a.min),max:nonNegativeOrDefault(a.max)};var n=t.ticks=generateTicks$1(i,t);t.max=Y.max(n);t.min=Y.min(n);if(a.reverse){r=!r;t.start=t.max;t.end=t.min}else{t.start=t.min;t.end=t.max}r&&n.reverse()},convertTicksToLabels:function(){(this||e).tickValues=(this||e).ticks.slice();Ce.prototype.convertTicksToLabels.call(this||e)},getLabelForIndex:function(t,a){return this._getScaleLabel((this||e).chart.data.datasets[a].data[t])},getPixelForTick:function(t){var a=(this||e).tickValues;return t<0||t>a.length-1?null:this.getPixelForValue(a[t])},
/**
     * Returns the value of the first tick.
     * @param {number} value - The minimum not zero value.
     * @return {number} The first tick value.
     * @private
     */
_getFirstTickValue:function(t){var e=Math.floor(Ve(t));var a=Math.floor(t/Math.pow(10,e));return a*Math.pow(10,e)},_configure:function(){var t=this||e;var a=t.min;var r=0;Ce.prototype._configure.call(t);if(0===a){a=t._getFirstTickValue(t.minNotZero);r=Ee(t.options.ticks.fontSize,V.global.defaultFontSize)/t._length}t._startValue=Ve(a);t._valueOffset=r;t._valueRange=(Ve(t.max)-Ve(a))/(1-r)},getPixelForValue:function(t){var a=this||e;var r=0;t=+a.getRightValue(t);t>a.min&&t>0&&(r=(Ve(t)-a._startValue)/a._valueRange+a._valueOffset);return a.getPixelForDecimal(r)},getValueForPixel:function(t){var a=this||e;var r=a.getDecimalForPixel(t);return 0===r&&0===a.min?0:Math.pow(10,a._startValue+(r-a._valueOffset)*a._valueRange)}});var je=We;He._defaults=je;var Ue=Y.valueOrDefault;var qe=Y.valueAtIndexOrDefault;var Ye=Y.options.resolve;var Ge={display:true,animate:true,position:"chartArea",angleLines:{display:true,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ye.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(t){return t}}};function getTickBackdropHeight(t){var e=t.ticks;return e.display&&t.display?Ue(e.fontSize,V.global.defaultFontSize)+2*e.backdropPaddingY:0}function measureLabelSize(t,e,a){return Y.isArray(a)?{w:Y.longestText(t,t.font,a),h:a.length*e}:{w:t.measureText(a).width,h:e}}function determineLimits(t,e,a,r,i){return t===r||t===i?{start:e-a/2,end:e+a/2}:t<r||t>i?{start:e-a,end:e}:{start:e,end:e+a}}function fitWithPointLabels(t){var e=Y.options._parseFont(t.options.pointLabels);var a={l:0,r:t.width,t:0,b:t.height-t.paddingTop};var r={};var i,n,o;t.ctx.font=e.string;t._pointLabelSizes=[];var s=t.chart.data.labels.length;for(i=0;i<s;i++){o=t.getPointPosition(i,t.drawingArea+5);n=measureLabelSize(t.ctx,e.lineHeight,t.pointLabels[i]);t._pointLabelSizes[i]=n;var l=t.getIndexAngle(i);var u=Y.toDegrees(l)%360;var d=determineLimits(u,o.x,n.w,0,180);var c=determineLimits(u,o.y,n.h,90,270);if(d.start<a.l){a.l=d.start;r.l=l}if(d.end>a.r){a.r=d.end;r.r=l}if(c.start<a.t){a.t=c.start;r.t=l}if(c.end>a.b){a.b=c.end;r.b=l}}t.setReductions(t.drawingArea,a,r)}function getTextAlignForAngle(t){return 0===t||180===t?"center":t<180?"left":"right"}function fillText(t,e,a,r){var i=a.y+r/2;var n,o;if(Y.isArray(e))for(n=0,o=e.length;n<o;++n){t.fillText(e[n],a.x,i);i+=r}else t.fillText(e,a.x,i)}function adjustPointPositionForLabelHeight(t,e,a){90===t||270===t?a.y-=e.h/2:(t>270||t<90)&&(a.y-=e.h)}function drawPointLabels(t){var e=t.ctx;var a=t.options;var r=a.pointLabels;var i=getTickBackdropHeight(a);var n=t.getDistanceFromCenterForValue(a.ticks.reverse?t.min:t.max);var o=Y.options._parseFont(r);e.save();e.font=o.string;e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=0===s?i/2:0;var u=t.getPointPosition(s,n+l+5);var d=qe(r.fontColor,s,V.global.defaultFontColor);e.fillStyle=d;var c=t.getIndexAngle(s);var h=Y.toDegrees(c);e.textAlign=getTextAlignForAngle(h);adjustPointPositionForLabelHeight(h,t._pointLabelSizes[s],u);fillText(e,t.pointLabels[s],u,o.lineHeight)}e.restore()}function drawRadiusLine(t,e,a,r){var i=t.ctx;var n=e.circular;var o=t.chart.data.labels.length;var s=qe(e.color,r-1);var l=qe(e.lineWidth,r-1);var u;if((n||o)&&s&&l){i.save();i.strokeStyle=s;i.lineWidth=l;if(i.setLineDash){i.setLineDash(e.borderDash||[]);i.lineDashOffset=e.borderDashOffset||0}i.beginPath();if(n)i.arc(t.xCenter,t.yCenter,a,0,2*Math.PI);else{u=t.getPointPosition(0,a);i.moveTo(u.x,u.y);for(var d=1;d<o;d++){u=t.getPointPosition(d,a);i.lineTo(u.x,u.y)}}i.closePath();i.stroke();i.restore()}}function numberOrZero(t){return Y.isNumber(t)?t:0}var Xe=Le.extend({setDimensions:function(){var t=this||e;t.width=t.maxWidth;t.height=t.maxHeight;t.paddingTop=getTickBackdropHeight(t.options)/2;t.xCenter=Math.floor(t.width/2);t.yCenter=Math.floor((t.height-t.paddingTop)/2);t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this||e;var a=t.chart;var r=Number.POSITIVE_INFINITY;var i=Number.NEGATIVE_INFINITY;Y.each(a.data.datasets,(function(e,n){if(a.isDatasetVisible(n)){var o=a.getDatasetMeta(n);Y.each(e.data,(function(e,a){var n=+t.getRightValue(e);if(!isNaN(n)&&!o.data[a].hidden){r=Math.min(n,r);i=Math.max(n,i)}}))}}));t.min=r===Number.POSITIVE_INFINITY?0:r;t.max=i===Number.NEGATIVE_INFINITY?0:i;t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil((this||e).drawingArea/getTickBackdropHeight((this||e).options))},convertTicksToLabels:function(){var t=this||e;Le.prototype.convertTicksToLabels.call(t);t.pointLabels=t.chart.data.labels.map((function(){var e=Y.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""}))},getLabelForIndex:function(t,a){return+this.getRightValue((this||e).chart.data.datasets[a].data[t])},fit:function(){var t=this||e;var a=t.options;a.display&&a.pointLabels.display?fitWithPointLabels(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,a,r){var i=this||e;var n=a.l/Math.sin(r.l);var o=Math.max(a.r-i.width,0)/Math.sin(r.r);var s=-a.t/Math.cos(r.t);var l=-Math.max(a.b-(i.height-i.paddingTop),0)/Math.cos(r.b);n=numberOrZero(n);o=numberOrZero(o);s=numberOrZero(s);l=numberOrZero(l);i.drawingArea=Math.min(Math.floor(t-(n+o)/2),Math.floor(t-(s+l)/2));i.setCenterPoint(n,o,s,l)},setCenterPoint:function(t,a,r,i){var n=this||e;var o=n.width-a-n.drawingArea;var s=t+n.drawingArea;var l=r+n.drawingArea;var u=n.height-n.paddingTop-i-n.drawingArea;n.xCenter=Math.floor((s+o)/2+n.left);n.yCenter=Math.floor((l+u)/2+n.top+n.paddingTop)},getIndexAngle:function(t){var a=(this||e).chart;var r=360/a.data.labels.length;var i=a.options||{};var n=i.startAngle||0;var o=(t*r+n)%360;return(o<0?o+360:o)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var a=this||e;if(Y.isNullOrUndef(t))return NaN;var r=a.drawingArea/(a.max-a.min);return a.options.ticks.reverse?(a.max-t)*r:(t-a.min)*r},getPointPosition:function(t,a){var r=this||e;var i=r.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(i)*a+r.xCenter,y:Math.sin(i)*a+r.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var a=this||e;var r=a.min;var i=a.max;return a.getPointPositionForValue(t||0,a.beginAtZero?0:r<0&&i<0?i:r>0&&i>0?r:0)},_drawGrid:function(){var t=this||e;var a=t.ctx;var r=t.options;var i=r.gridLines;var n=r.angleLines;var o=Ue(n.lineWidth,i.lineWidth);var s=Ue(n.color,i.color);var l,u,d;r.pointLabels.display&&drawPointLabels(t);i.display&&Y.each(t.ticks,(function(e,a){if(0!==a){u=t.getDistanceFromCenterForValue(t.ticksAsNumbers[a]);drawRadiusLine(t,i,u,a)}}));if(n.display&&o&&s){a.save();a.lineWidth=o;a.strokeStyle=s;if(a.setLineDash){a.setLineDash(Ye([n.borderDash,i.borderDash,[]]));a.lineDashOffset=Ye([n.borderDashOffset,i.borderDashOffset,0])}for(l=t.chart.data.labels.length-1;l>=0;l--){u=t.getDistanceFromCenterForValue(r.ticks.reverse?t.min:t.max);d=t.getPointPosition(l,u);a.beginPath();a.moveTo(t.xCenter,t.yCenter);a.lineTo(d.x,d.y);a.stroke()}a.restore()}},_drawLabels:function(){var t=this||e;var a=t.ctx;var r=t.options;var i=r.ticks;if(i.display){var n=t.getIndexAngle(0);var o=Y.options._parseFont(i);var s=Ue(i.fontColor,V.global.defaultFontColor);var l,u;a.save();a.font=o.string;a.translate(t.xCenter,t.yCenter);a.rotate(n);a.textAlign="center";a.textBaseline="middle";Y.each(t.ticks,(function(e,r){if(0!==r||i.reverse){l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[r]);if(i.showLabelBackdrop){u=a.measureText(e).width;a.fillStyle=i.backdropColor;a.fillRect(-u/2-i.backdropPaddingX,-l-o.size/2-i.backdropPaddingY,u+2*i.backdropPaddingX,o.size+2*i.backdropPaddingY)}a.fillStyle=s;a.fillText(e,0,-l)}}));a.restore()}},_drawTitle:Y.noop});var Ke=Ge;Xe._defaults=Ke;var $e=Y._deprecated;var Ze=Y.options.resolve;var Je=Y.valueOrDefault;var Qe=Number.MIN_SAFE_INTEGER||-9007199254740991;var ta=Number.MAX_SAFE_INTEGER||9007199254740991;var ea={millisecond:{common:true,size:1,steps:1e3},second:{common:true,size:1e3,steps:60},minute:{common:true,size:6e4,steps:60},hour:{common:true,size:36e5,steps:24},day:{common:true,size:864e5,steps:30},week:{common:false,size:6048e5,steps:4},month:{common:true,size:2628e6,steps:12},quarter:{common:false,size:7884e6,steps:4},year:{common:true,size:3154e7}};var aa=Object.keys(ea);function sorter(t,e){return t-e}function arrayUnique(t){var e={};var a=[];var r,i,n;for(r=0,i=t.length;r<i;++r){n=t[r];if(!e[n]){e[n]=true;a.push(n)}}return a}function getMin(t){return Y.valueOrDefault(t.time.min,t.ticks.min)}function getMax(t){return Y.valueOrDefault(t.time.max,t.ticks.max)}
/**
   * Returns an array of {time, pos} objects used to interpolate a specific `time` or position
   * (`pos`) on the scale, by searching entries before and after the requested value. `pos` is
   * a decimal between 0 and 1: 0 being the start of the scale (left or top) and 1 the other
   * extremity (left + width or top + height). Note that it would be more optimized to directly
   * store pre-computed pixels, but the scale dimensions are not guaranteed at the time we need
   * to create the lookup table. The table ALWAYS contains at least two items: min and max.
   *
   * @param {number[]} timestamps - timestamps sorted from lowest to highest.
   * @param {string} distribution - If 'linear', timestamps will be spread linearly along the min
   * and max range, so basically, the table will contains only two items: {min, 0} and {max, 1}.
   * If 'series', timestamps will be positioned at the same distance from each other. In this
   * case, only timestamps that break the time linearity are registered, meaning that in the
   * best case, all timestamps are linear, the table contains only min and max.
   */function buildLookupTable(t,e,a,r){if("linear"===r||!t.length)return[{time:e,pos:0},{time:a,pos:1}];var i=[];var n=[e];var o,s,l,u,d;for(o=0,s=t.length;o<s;++o){u=t[o];u>e&&u<a&&n.push(u)}n.push(a);for(o=0,s=n.length;o<s;++o){d=n[o+1];l=n[o-1];u=n[o];void 0!==l&&void 0!==d&&Math.round((d+l)/2)===u||i.push({time:u,pos:o/(s-1)})}return i}function lookup(t,e,a){var r=0;var i=t.length-1;var n,o,s;while(r>=0&&r<=i){n=r+i>>1;o=t[n-1]||null;s=t[n];if(!o)return{lo:null,hi:s};if(s[e]<a)r=n+1;else{if(!(o[e]>a))return{lo:o,hi:s};i=n-1}}return{lo:s,hi:null}}function interpolate$1(t,e,a,r){var i=lookup(t,e,a);var n=i.lo?i.hi?i.lo:t[t.length-2]:t[0];var o=i.lo?i.hi?i.hi:t[t.length-1]:t[1];var s=o[e]-n[e];var l=s?(a-n[e])/s:0;var u=(o[r]-n[r])*l;return n[r]+u}function toTimestamp(t,e){var a=t._adapter;var r=t.options.time;var i=r.parser;var n=i||r.format;var o=e;"function"===typeof i&&(o=i(o));Y.isFinite(o)||(o="string"===typeof n?a.parse(o,n):a.parse(o));if(null!==o)return+o;if(!i&&"function"===typeof n){o=n(e);Y.isFinite(o)||(o=a.parse(o))}return o}function parse(t,e){if(Y.isNullOrUndef(e))return null;var a=t.options.time;var r=toTimestamp(t,t.getRightValue(e));if(null===r)return r;a.round&&(r=+t._adapter.startOf(r,a.round));return r}function determineUnitForAutoTicks(t,e,a,r){var i=aa.length;var n,o,s;for(n=aa.indexOf(t);n<i-1;++n){o=ea[aa[n]];s=o.steps?o.steps:ta;if(o.common&&Math.ceil((a-e)/(s*o.size))<=r)return aa[n]}return aa[i-1]}function determineUnitForFormatting(t,e,a,r,i){var n,o;for(n=aa.length-1;n>=aa.indexOf(a);n--){o=aa[n];if(ea[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return aa[a?aa.indexOf(a):0]}function determineMajorUnit(t){for(var e=aa.indexOf(t)+1,a=aa.length;e<a;++e)if(ea[aa[e]].common)return aa[e]}function generate(t,e,a,r){var i=t._adapter;var n=t.options;var o=n.time;var s=o.unit||determineUnitForAutoTicks(o.minUnit,e,a,r);var l=Ze([o.stepSize,o.unitStepSize,1]);var u="week"===s&&o.isoWeekday;var d=e;var c=[];var h;u&&(d=+i.startOf(d,"isoWeek",u));d=+i.startOf(d,u?"day":s);if(i.diff(a,e,s)>1e5*l)throw e+" and "+a+" are too far apart with stepSize of "+l+" "+s;for(h=d;h<a;h=+i.add(h,l,s))c.push(h);h!==a&&"ticks"!==n.bounds||c.push(h);return c}function computeOffsets(t,e,a,r,i){var n=0;var o=0;var s,l;if(i.offset&&e.length){s=interpolate$1(t,"time",e[0],"pos");n=1===e.length?1-s:(interpolate$1(t,"time",e[1],"pos")-s)/2;l=interpolate$1(t,"time",e[e.length-1],"pos");o=1===e.length?l:(l-interpolate$1(t,"time",e[e.length-2],"pos"))/2}return{start:n,end:o,factor:1/(n+1+o)}}function setMajorTicks(t,e,a,r){var i=t._adapter;var n=+i.startOf(e[0].value,r);var o=e[e.length-1].value;var s,l;for(s=n;s<=o;s=+i.add(s,1,r)){l=a[s];l>=0&&(e[l].major=true)}return e}function ticksFromTimestamps(t,e,a){var r=[];var i={};var n=e.length;var o,s;for(o=0;o<n;++o){s=e[o];i[s]=o;r.push({value:s,major:false})}return 0!==n&&a?setMajorTicks(t,r,i,a):r}var ra={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:false,source:"auto",major:{enabled:false}}};var ia=Ce.extend({initialize:function(){this.mergeTicksOptions();Ce.prototype.initialize.call(this||e)},update:function(){var t=this||e;var a=t.options;var r=a.time||(a.time={});var i=t._adapter=new xe._date(a.adapters.date);$e("time scale",r.format,"time.format","time.parser");$e("time scale",r.min,"time.min","ticks.min");$e("time scale",r.max,"time.max","ticks.max");Y.mergeIf(r.displayFormats,i.formats());return Ce.prototype.update.apply(t,arguments)},getRightValue:function(t){t&&void 0!==t.t&&(t=t.t);return Ce.prototype.getRightValue.call(this||e,t)},determineDataLimits:function(){var t=this||e;var a=t.chart;var r=t._adapter;var i=t.options;var n=i.time.unit||"day";var o=ta;var s=Qe;var l=[];var u=[];var d=[];var c,h,v,f,g,p,m;var b=t._getLabels();for(c=0,v=b.length;c<v;++c)d.push(parse(t,b[c]));for(c=0,v=(a.data.datasets||[]).length;c<v;++c)if(a.isDatasetVisible(c)){g=a.data.datasets[c].data;if(Y.isObject(g[0])){u[c]=[];for(h=0,f=g.length;h<f;++h){p=parse(t,g[h]);l.push(p);u[c][h]=p}}else{u[c]=d.slice(0);if(!m){l=l.concat(d);m=true}}}else u[c]=[];if(d.length){o=Math.min(o,d[0]);s=Math.max(s,d[d.length-1])}if(l.length){l=v>1?arrayUnique(l).sort(sorter):l.sort(sorter);o=Math.min(o,l[0]);s=Math.max(s,l[l.length-1])}o=parse(t,getMin(i))||o;s=parse(t,getMax(i))||s;o=o===ta?+r.startOf(Date.now(),n):o;s=s===Qe?+r.endOf(Date.now(),n)+1:s;t.min=Math.min(o,s);t.max=Math.max(o+1,s);t._table=[];t._timestamps={data:l,datasets:u,labels:d}},buildTicks:function(){var t=this||e;var a=t.min;var r=t.max;var i=t.options;var n=i.ticks;var o=i.time;var s=t._timestamps;var l=[];var u=t.getLabelCapacity(a);var d=n.source;var c=i.distribution;var h,v,f;s="data"===d||"auto"===d&&"series"===c?s.data:"labels"===d?s.labels:generate(t,a,r,u);if("ticks"===i.bounds&&s.length){a=s[0];r=s[s.length-1]}a=parse(t,getMin(i))||a;r=parse(t,getMax(i))||r;for(h=0,v=s.length;h<v;++h){f=s[h];f>=a&&f<=r&&l.push(f)}t.min=a;t.max=r;t._unit=o.unit||(n.autoSkip?determineUnitForAutoTicks(o.minUnit,t.min,t.max,u):determineUnitForFormatting(t,l.length,o.minUnit,t.min,t.max));t._majorUnit=n.major.enabled&&"year"!==t._unit?determineMajorUnit(t._unit):void 0;t._table=buildLookupTable(t._timestamps.data,a,r,c);t._offsets=computeOffsets(t._table,l,a,r,i);n.reverse&&l.reverse();return ticksFromTimestamps(t,l,t._majorUnit)},getLabelForIndex:function(t,a){var r=this||e;var i=r._adapter;var n=r.chart.data;var o=r.options.time;var s=n.labels&&t<n.labels.length?n.labels[t]:"";var l=n.datasets[a].data[t];Y.isObject(l)&&(s=r.getRightValue(l));return o.tooltipFormat?i.format(toTimestamp(r,s),o.tooltipFormat):"string"===typeof s?s:i.format(toTimestamp(r,s),o.displayFormats.datetime)},tickFormatFunction:function(t,a,r,i){var n=this||e;var o=n._adapter;var s=n.options;var l=s.time.displayFormats;var u=l[n._unit];var d=n._majorUnit;var c=l[d];var h=r[a];var v=s.ticks;var f=d&&c&&h&&h.major;var g=o.format(t,i||(f?c:u));var p=f?v.major:v.minor;var m=Ze([p.callback,p.userCallback,v.callback,v.userCallback]);return m?m(g,a,r):g},convertTicksToLabels:function(t){var e=[];var a,r;for(a=0,r=t.length;a<r;++a)e.push(this.tickFormatFunction(t[a].value,a,t));return e},getPixelForOffset:function(t){var a=this||e;var r=a._offsets;var i=interpolate$1(a._table,"time",t,"pos");return a.getPixelForDecimal((r.start+i)*r.factor)},getPixelForValue:function(t,a,r){var i=this||e;var n=null;void 0!==a&&void 0!==r&&(n=i._timestamps.datasets[r][a]);null===n&&(n=parse(i,t));if(null!==n)return i.getPixelForOffset(n)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var a=this||e;var r=a._offsets;var i=a.getDecimalForPixel(t)/r.factor-r.end;var n=interpolate$1(a._table,"pos",i,"time");return a._adapter._create(n)},_getLabelSize:function(t){var a=this||e;var r=a.options.ticks;var i=a.ctx.measureText(t).width;var n=Y.toRadians(a.isHorizontal()?r.maxRotation:r.minRotation);var o=Math.cos(n);var s=Math.sin(n);var l=Je(r.fontSize,V.global.defaultFontSize);return{w:i*o+l*s,h:i*s+l*o}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var a=this||e;var r=a.options.time;var i=r.displayFormats;var n=i[r.unit]||i.millisecond;var o=a.tickFormatFunction(t,0,ticksFromTimestamps(a,[t],a._majorUnit),n);var s=a._getLabelSize(o);var l=Math.floor(a.isHorizontal()?a.width/s.w:a.height/s.h);a.options.offset&&l--;return l>0?l:1}});var na=ra;ia._defaults=na;var oa={category:De,linear:Ne,logarithmic:He,radialLinear:Xe,time:ia};var sa={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};xe._date.override("function"===typeof t?{_id:"moment",formats:function(){return sa},parse:function(e,a){"string"===typeof e&&"string"===typeof a?e=t(e,a):e instanceof t||(e=t(e));return e.isValid()?e.valueOf():null},format:function(e,a){return t(e).format(a)},add:function(e,a,r){return t(e).add(a,r).valueOf()},diff:function(e,a,r){return t(e).diff(t(a),r)},startOf:function(e,a,r){e=t(e);return"isoWeek"===a?e.isoWeekday(r).valueOf():e.startOf(a).valueOf()},endOf:function(e,a){return t(e).endOf(a).valueOf()},
/**
     * Provided for backward compatibility with scale.getValueForPixel().
     * @deprecated since version 2.8.0
     * @todo remove at version 3
     * @private
     */
_create:function(e){return t(e)}}:{});V._set("global",{plugins:{filler:{propagate:true}}});var la={dataset:function(t){var e=t.fill;var a=t.chart;var r=a.getDatasetMeta(e);var i=r&&a.isDatasetVisible(e);var n=i&&r.dataset._children||[];var o=n.length||0;return o?function(t,e){return e<o&&n[e]._view||null}:null},boundary:function(t){var e=t.boundary;var a=e?e.x:null;var r=e?e.y:null;return Y.isArray(e)?function(t,a){return e[a]}:function(t){return{x:null===a?t.x:a,y:null===r?t.y:r}}}};function decodeFill(t,e,a){var r=t._model||{};var i=r.fill;var n;void 0===i&&(i=!!r.backgroundColor);if(false===i||null===i)return false;if(true===i)return"origin";n=parseFloat(i,10);if(isFinite(n)&&Math.floor(n)===n){"-"!==i[0]&&"+"!==i[0]||(n=e+n);return!(n===e||n<0||n>=a)&&n}switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return false}}function computeLinearBoundary(t){var e=t.el._model||{};var a=t.el._scale||{};var r=t.fill;var i=null;var n;if(isFinite(r))return null;"start"===r?i=void 0===e.scaleBottom?a.bottom:e.scaleBottom:"end"===r?i=void 0===e.scaleTop?a.top:e.scaleTop:void 0!==e.scaleZero?i=e.scaleZero:a.getBasePixel&&(i=a.getBasePixel());if(void 0!==i&&null!==i){if(void 0!==i.x&&void 0!==i.y)return i;if(Y.isFinite(i)){n=a.isHorizontal();return{x:n?i:null,y:n?null:i}}}return null}function computeCircularBoundary(t){var e=t.el._scale;var a=e.options;var r=e.chart.data.labels.length;var i=t.fill;var n=[];var o,s,l,u,d;if(!r)return null;o=a.ticks.reverse?e.max:e.min;s=a.ticks.reverse?e.min:e.max;l=e.getPointPositionForValue(0,o);for(u=0;u<r;++u){d="start"===i||"end"===i?e.getPointPositionForValue(u,"start"===i?o:s):e.getBasePosition(u);if(a.gridLines.circular){d.cx=l.x;d.cy=l.y;d.angle=e.getIndexAngle(u)-Math.PI/2}n.push(d)}return n}function computeBoundary(t){var e=t.el._scale||{};return e.getPointPositionForValue?computeCircularBoundary(t):computeLinearBoundary(t)}function resolveTarget(t,e,a){var r=t[e];var i=r.fill;var n=[e];var o;if(!a)return i;while(false!==i&&-1===n.indexOf(i)){if(!isFinite(i))return i;o=t[i];if(!o)return false;if(o.visible)return i;n.push(i);i=o.fill}return false}function createMapper(t){var e=t.fill;var a="dataset";if(false===e)return null;isFinite(e)||(a="boundary");return la[a](t)}function isDrawable(t){return t&&!t.skip}function drawArea(t,e,a,r,i){var n,o,s,l;if(r&&i){t.moveTo(e[0].x,e[0].y);for(n=1;n<r;++n)Y.canvas.lineTo(t,e[n-1],e[n]);if(void 0===a[0].angle){t.lineTo(a[i-1].x,a[i-1].y);for(n=i-1;n>0;--n)Y.canvas.lineTo(t,a[n],a[n-1],true)}else{o=a[0].cx;s=a[0].cy;l=Math.sqrt(Math.pow(a[0].x-o,2)+Math.pow(a[0].y-s,2));for(n=i-1;n>0;--n)t.arc(o,s,l,a[n].angle,a[n-1].angle,true)}}}function doFill(t,e,a,r,i,n){var o=e.length;var s=r.spanGaps;var l=[];var u=[];var d=0;var c=0;var h,v,f,g,p,m,b,x;t.beginPath();for(h=0,v=o;h<v;++h){f=h%o;g=e[f]._view;p=a(g,f,r);m=isDrawable(g);b=isDrawable(p);if(n&&void 0===x&&m){x=h+1;v=o+x}if(m&&b){d=l.push(g);c=u.push(p)}else if(d&&c)if(s){m&&l.push(g);b&&u.push(p)}else{drawArea(t,l,u,d,c);d=c=0;l=[];u=[]}}drawArea(t,l,u,d,c);t.closePath();t.fillStyle=i;t.fill()}var ua={id:"filler",afterDatasetsUpdate:function(t,e){var a=(t.data.datasets||[]).length;var r=e.propagate;var i=[];var n,o,s,l;for(o=0;o<a;++o){n=t.getDatasetMeta(o);s=n.dataset;l=null;s&&s._model&&s instanceof gt.Line&&(l={visible:t.isDatasetVisible(o),fill:decodeFill(s,o,a),chart:t,el:s});n.$filler=l;i.push(l)}for(o=0;o<a;++o){l=i[o];if(l){l.fill=resolveTarget(i,o,r);l.boundary=computeBoundary(l);l.mapper=createMapper(l)}}},beforeDatasetsDraw:function(t){var e=t._getSortedVisibleDatasetMetas();var a=t.ctx;var r,i,n,o,s,l,u;for(i=e.length-1;i>=0;--i){r=e[i].$filler;if(r&&r.visible){n=r.el;o=n._view;s=n._children||[];l=r.mapper;u=o.backgroundColor||V.global.defaultColor;if(l&&u&&s.length){Y.canvas.clipArea(a,t.chartArea);doFill(a,s,l,o,u,n._loop);Y.canvas.unclipArea(a)}}}}};var da=Y.rtl.getRtlAdapter;var ca=Y.noop;var ha=Y.valueOrDefault;V._set("global",{legend:{display:true,position:"top",align:"center",fullWidth:true,reverse:false,weight:1e3,onClick:function(t,a){var r=a.datasetIndex;var i=(this||e).chart;var n=i.getDatasetMeta(r);n.hidden=null===n.hidden?!i.data.datasets[r].hidden:null;i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var a=t.data.datasets;var r=t.options.legend||{};var i=r.labels&&r.labels.usePointStyle;return t._getSortedDatasetMetas().map((function(e){var r=e.controller.getStyle(i?0:void 0);return{text:a[e.index].label,fillStyle:r.backgroundColor,hidden:!t.isDatasetVisible(e.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:e.index}}),this||e)}}},legendCallback:function(t){var e=document.createElement("ul");var a=t.data.datasets;var r,i,n,o;e.setAttribute("class",t.id+"-legend");for(r=0,i=a.length;r<i;r++){n=e.appendChild(document.createElement("li"));o=n.appendChild(document.createElement("span"));o.style.backgroundColor=a[r].backgroundColor;a[r].label&&n.appendChild(document.createTextNode(a[r].label))}return e.outerHTML}});
/**
   * Helper function to get the box width based on the usePointStyle option
   * @param {object} labelopts - the label options on the legend
   * @param {number} fontSize - the label font size
   * @return {number} width of the color box area
   */function getBoxWidth(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}var va=J.extend({initialize:function(t){var a=this||e;Y.extend(a,t);a.legendHitBoxes=[];a._hoveredItem=null;a.doughnutMode=false},beforeUpdate:ca,update:function(t,a,r){var i=this||e;i.beforeUpdate();i.maxWidth=t;i.maxHeight=a;i.margins=r;i.beforeSetDimensions();i.setDimensions();i.afterSetDimensions();i.beforeBuildLabels();i.buildLabels();i.afterBuildLabels();i.beforeFit();i.fit();i.afterFit();i.afterUpdate();return i.minSize},afterUpdate:ca,beforeSetDimensions:ca,setDimensions:function(){var t=this||e;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0;t.minSize={width:0,height:0}},afterSetDimensions:ca,beforeBuildLabels:ca,buildLabels:function(){var t=this||e;var a=t.options.labels||{};var r=Y.callback(a.generateLabels,[t.chart],t)||[];a.filter&&(r=r.filter((function(e){return a.filter(e,t.chart.data)})));t.options.reverse&&r.reverse();t.legendItems=r},afterBuildLabels:ca,beforeFit:ca,fit:function(){var t=this||e;var a=t.options;var r=a.labels;var i=a.display;var n=t.ctx;var o=Y.options._parseFont(r);var s=o.size;var l=t.legendHitBoxes=[];var u=t.minSize;var d=t.isHorizontal();if(d){u.width=t.maxWidth;u.height=i?10:0}else{u.width=i?10:0;u.height=t.maxHeight}if(i){n.font=o.string;if(d){var c=t.lineWidths=[0];var h=0;n.textAlign="left";n.textBaseline="middle";Y.each(t.legendItems,(function(t,e){var a=getBoxWidth(r,s);var i=a+s/2+n.measureText(t.text).width;if(0===e||c[c.length-1]+i+2*r.padding>u.width){h+=s+r.padding;c[c.length-(e>0?0:1)]=0}l[e]={left:0,top:0,width:i,height:s};c[c.length-1]+=i+r.padding}));u.height+=h}else{var v=r.padding;var f=t.columnWidths=[];var g=t.columnHeights=[];var p=r.padding;var m=0;var b=0;Y.each(t.legendItems,(function(t,e){var a=getBoxWidth(r,s);var i=a+s/2+n.measureText(t.text).width;if(e>0&&b+s+2*v>u.height){p+=m+r.padding;f.push(m);g.push(b);m=0;b=0}m=Math.max(m,i);b+=s+v;l[e]={left:0,top:0,width:i,height:s}}));p+=m;f.push(m);g.push(b);u.width+=p}t.width=u.width;t.height=u.height}else t.width=u.width=t.height=u.height=0},afterFit:ca,isHorizontal:function(){return"top"===(this||e).options.position||"bottom"===(this||e).options.position},draw:function(){var t=this||e;var a=t.options;var r=a.labels;var i=V.global;var n=i.defaultColor;var o=i.elements.line;var s=t.height;var l=t.columnHeights;var u=t.width;var d=t.lineWidths;if(a.display){var c=da(a.rtl,t.left,t.minSize.width);var h=t.ctx;var v=ha(r.fontColor,i.defaultFontColor);var f=Y.options._parseFont(r);var g=f.size;var p;h.textAlign=c.textAlign("left");h.textBaseline="middle";h.lineWidth=.5;h.strokeStyle=v;h.fillStyle=v;h.font=f.string;var m=getBoxWidth(r,g);var b=t.legendHitBoxes;var drawLegendBox=function(t,e,a){if(!(isNaN(m)||m<=0)){h.save();var i=ha(a.lineWidth,o.borderWidth);h.fillStyle=ha(a.fillStyle,n);h.lineCap=ha(a.lineCap,o.borderCapStyle);h.lineDashOffset=ha(a.lineDashOffset,o.borderDashOffset);h.lineJoin=ha(a.lineJoin,o.borderJoinStyle);h.lineWidth=i;h.strokeStyle=ha(a.strokeStyle,n);h.setLineDash&&h.setLineDash(ha(a.lineDash,o.borderDash));if(r&&r.usePointStyle){var s=m*Math.SQRT2/2;var l=c.xPlus(t,m/2);var u=e+g/2;Y.canvas.drawPoint(h,a.pointStyle,s,l,u,a.rotation)}else{h.fillRect(c.leftForLtr(t,m),e,m,g);0!==i&&h.strokeRect(c.leftForLtr(t,m),e,m,g)}h.restore()}};var fillText=function(t,e,a,r){var i=g/2;var n=c.xPlus(t,m+i);var o=e+i;h.fillText(a.text,n,o);if(a.hidden){h.beginPath();h.lineWidth=2;h.moveTo(n,o);h.lineTo(c.xPlus(n,r),o);h.stroke()}};var alignmentOffset=function(t,e){switch(a.align){case"start":return r.padding;case"end":return t-e;default:return(t-e+r.padding)/2}};var x=t.isHorizontal();p=x?{x:t.left+alignmentOffset(u,d[0]),y:t.top+r.padding,line:0}:{x:t.left+r.padding,y:t.top+alignmentOffset(s,l[0]),line:0};Y.rtl.overrideTextDirection(t.ctx,a.textDirection);var y=g+r.padding;Y.each(t.legendItems,(function(e,a){var i=h.measureText(e.text).width;var n=m+g/2+i;var o=p.x;var v=p.y;c.setWidth(t.minSize.width);if(x){if(a>0&&o+n+r.padding>t.left+t.minSize.width){v=p.y+=y;p.line++;o=p.x=t.left+alignmentOffset(u,d[p.line])}}else if(a>0&&v+y>t.top+t.minSize.height){o=p.x=o+t.columnWidths[p.line]+r.padding;p.line++;v=p.y=t.top+alignmentOffset(s,l[p.line])}var f=c.x(o);drawLegendBox(f,v,e);b[a].left=c.leftForLtr(f,b[a].width);b[a].top=v;fillText(f,v,e,i);x?p.x+=n+r.padding:p.y+=y}));Y.rtl.restoreTextDirection(t.ctx,a.textDirection)}},_getLegendItemAt:function(t,a){var r=this||e;var i,n,o;if(t>=r.left&&t<=r.right&&a>=r.top&&a<=r.bottom){o=r.legendHitBoxes;for(i=0;i<o.length;++i){n=o[i];if(t>=n.left&&t<=n.left+n.width&&a>=n.top&&a<=n.top+n.height)return r.legendItems[i]}}return null},
/**
     * Handle an event
     * @private
     * @param {IEvent} event - The event to handle
     */
handleEvent:function(t){var a=this||e;var r=a.options;var i="mouseup"===t.type?"click":t.type;var n;if("mousemove"===i){if(!r.onHover&&!r.onLeave)return}else{if("click"!==i)return;if(!r.onClick)return}n=a._getLegendItemAt(t.x,t.y);if("click"===i)n&&r.onClick&&r.onClick.call(a,t.native,n);else{if(r.onLeave&&n!==a._hoveredItem){a._hoveredItem&&r.onLeave.call(a,t.native,a._hoveredItem);a._hoveredItem=n}r.onHover&&n&&r.onHover.call(a,t.native,n)}}});function createNewLegendAndAttach(t,e){var a=new va({ctx:t.ctx,options:e,chart:t});qt.configure(t,a,e);qt.addBox(t,a);t.legend=a}var fa={id:"legend",_element:va,beforeInit:function(t){var e=t.options.legend;e&&createNewLegendAndAttach(t,e)},beforeUpdate:function(t){var e=t.options.legend;var a=t.legend;if(e){Y.mergeIf(e,V.global.legend);if(a){qt.configure(t,a,e);a.options=e}else createNewLegendAndAttach(t,e)}else if(a){qt.removeBox(t,a);delete t.legend}},afterEvent:function(t,e){var a=t.legend;a&&a.handleEvent(e)}};var ga=Y.noop;V._set("global",{title:{display:false,fontStyle:"bold",fullWidth:true,padding:10,position:"top",text:"",weight:2e3}});var pa=J.extend({initialize:function(t){var a=this||e;Y.extend(a,t);a.legendHitBoxes=[]},beforeUpdate:ga,update:function(t,a,r){var i=this||e;i.beforeUpdate();i.maxWidth=t;i.maxHeight=a;i.margins=r;i.beforeSetDimensions();i.setDimensions();i.afterSetDimensions();i.beforeBuildLabels();i.buildLabels();i.afterBuildLabels();i.beforeFit();i.fit();i.afterFit();i.afterUpdate();return i.minSize},afterUpdate:ga,beforeSetDimensions:ga,setDimensions:function(){var t=this||e;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0;t.minSize={width:0,height:0}},afterSetDimensions:ga,beforeBuildLabels:ga,buildLabels:ga,afterBuildLabels:ga,beforeFit:ga,fit:function(){var t=this||e;var a=t.options;var r=t.minSize={};var i=t.isHorizontal();var n,o;if(a.display){n=Y.isArray(a.text)?a.text.length:1;o=n*Y.options._parseFont(a).lineHeight+2*a.padding;t.width=r.width=i?t.maxWidth:o;t.height=r.height=i?o:t.maxHeight}else t.width=r.width=t.height=r.height=0},afterFit:ga,isHorizontal:function(){var t=(this||e).options.position;return"top"===t||"bottom"===t},draw:function(){var t=this||e;var a=t.ctx;var r=t.options;if(r.display){var i=Y.options._parseFont(r);var n=i.lineHeight;var o=n/2+r.padding;var s=0;var l=t.top;var u=t.left;var d=t.bottom;var c=t.right;var h,v,f;a.fillStyle=Y.valueOrDefault(r.fontColor,V.global.defaultFontColor);a.font=i.string;if(t.isHorizontal()){v=u+(c-u)/2;f=l+o;h=c-u}else{v="left"===r.position?u+o:c-o;f=l+(d-l)/2;h=d-l;s=Math.PI*("left"===r.position?-.5:.5)}a.save();a.translate(v,f);a.rotate(s);a.textAlign="center";a.textBaseline="middle";var g=r.text;if(Y.isArray(g)){var p=0;for(var m=0;m<g.length;++m){a.fillText(g[m],0,p,h);p+=n}}else a.fillText(g,0,0,h);a.restore()}}});function createNewTitleBlockAndAttach(t,e){var a=new pa({ctx:t.ctx,options:e,chart:t});qt.configure(t,a,e);qt.addBox(t,a);t.titleBlock=a}var ma={id:"title",_element:pa,beforeInit:function(t){var e=t.options.title;e&&createNewTitleBlockAndAttach(t,e)},beforeUpdate:function(t){var e=t.options.title;var a=t.titleBlock;if(e){Y.mergeIf(e,V.global.title);if(a){qt.configure(t,a,e);a.options=e}else createNewTitleBlockAndAttach(t,e)}else if(a){qt.removeBox(t,a);delete t.titleBlock}}};var ba={};var xa=ua;var ya=fa;var _a=ma;ba.filler=xa;ba.legend=ya;ba.title=_a;me.helpers=Y;core_helpers();me._adapters=xe;me.Animation=tt;me.animationService=et;me.controllers=Ht;me.DatasetController=it;me.defaults=V;me.Element=J;me.elements=gt;me.Interaction=jt;me.layouts=qt;me.platform=se;me.plugins=le;me.Scale=Ce;me.scaleService=ue;me.Ticks=ye;me.Tooltip=ge;me.helpers.each(oa,(function(t,e){me.scaleService.registerScaleType(e,t,t._defaults)}));for(var ka in ba)ba.hasOwnProperty(ka)&&me.plugins.register(ba[ka]);me.platform.initialize();var wa=me;"undefined"!==typeof window&&(window.Chart=me);
/**
   * Provided for backward compatibility, not available anymore
   * @namespace Chart.Chart
   * @deprecated since version 2.8.0
   * @todo remove at version 3
   * @private
   */me.Chart=me;
/**
   * Provided for backward compatibility, not available anymore
   * @namespace Chart.Legend
   * @deprecated since version 2.1.5
   * @todo remove at version 3
   * @private
   */me.Legend=ba.legend._element;
/**
   * Provided for backward compatibility, not available anymore
   * @namespace Chart.Title
   * @deprecated since version 2.1.5
   * @todo remove at version 3
   * @private
   */me.Title=ba.title._element;
/**
   * Provided for backward compatibility, use Chart.plugins instead
   * @namespace Chart.pluginService
   * @deprecated since version 2.1.5
   * @todo remove at version 3
   * @private
   */me.pluginService=me.plugins;
/**
   * Provided for backward compatibility, inheriting from Chart.PlugingBase has no
   * effect, instead simply create/register plugins via plain JavaScript objects.
   * @interface Chart.PluginBase
   * @deprecated since version 2.5.0
   * @todo remove at version 3
   * @private
   */me.PluginBase=me.Element.extend({});
/**
   * Provided for backward compatibility, use Chart.helpers.canvas instead.
   * @namespace Chart.canvasHelpers
   * @deprecated since version 2.6.0
   * @todo remove at version 3
   * @private
   */me.canvasHelpers=me.helpers.canvas;
/**
   * Provided for backward compatibility, use Chart.layouts instead.
   * @namespace Chart.layoutService
   * @deprecated since version 2.7.3
   * @todo remove at version 3
   * @private
   */me.layoutService=me.layouts;
/**
   * Provided for backward compatibility, not available anymore.
   * @namespace Chart.LinearScaleBase
   * @deprecated since version 2.8
   * @todo remove at version 3
   * @private
   */me.LinearScaleBase=Le;
/**
   * Provided for backward compatibility, instead we should create a new Chart
   * by setting the type in the config (`new Chart(id, {type: '{chart-type}'}`).
   * @deprecated since version 2.8.0
   * @todo remove at version 3
   */me.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(t){me[t]=function(e,a){return new me(e,me.helpers.merge(a||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}));return wa}));var r=a;export default r;

